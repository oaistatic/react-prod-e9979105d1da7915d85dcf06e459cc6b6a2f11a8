import{h as f,r as d,j as l,f as g}from"./juy90og0wtbp77qa.js";import{ar as b,e$ as E,dG as y}from"./dc2xxjkicf2pz0mj.js";import{V as I}from"./d3y72ugnrmac5z1v.js";import{S as T,c as V}from"./bl4i5r660el81wwx.js";function u(e){return e.split(/[\s,]+/)}function A({value:e,onChange:a,className:i,trackEmailsAdded:o,trackEmailRemoved:n}){const x=f(),[t,m]=d.useState(""),v=d.useCallback(s=>{if(t&&!s.nativeEvent.isComposing)switch(s.key){case"Enter":case",":case" ":{const r=u(t);a([...e,...r.map(p)]),m(""),s.preventDefault();const h={numEmailsAdded:r.length,uploadType:"Manual"};o?.(h)}}},[t,a,e,o]),M=s=>{if(t){const r=u(t);a([...e,...r.map(p)]),m(t),s.preventDefault()}};return l.jsx(T,{className:b("react-select-container",i),isMulti:!0,onBlur:M,classNamePrefix:"react-select",components:j,inputValue:t,isClearable:!0,menuIsOpen:!1,onChange:(s,r)=>{switch(a(s),r.action){case"pop-value":case"remove-value":n?.();break}},onInputChange:m,onKeyDown:v,placeholder:x.formatMessage(c.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:n})}const p=e=>({label:e,value:e,isValid:I.test(e)}),C=e=>{const a=f(),i=l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{children:e.children}),l.jsx(E,{className:"icon-sm"})]}),o=e.data.isValid?i:l.jsx(y,{label:a.formatMessage(c.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:i});return l.jsx(V.MultiValue,{...e,children:l.jsx("button",{className:b("text-token-text-primary m-1 cursor-pointer rounded-full border border-transparent py-1 ps-3 pe-2 text-sm",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:n=>{e.removeProps.onClick?.(n),e.selectProps.trackEmailRemoved?.(),n.preventDefault()},"aria-label":a.formatMessage(c.removeMember,{member:e.data.value}),children:o})})},j={DropdownIndicator:()=>null,IndicatorsContainer:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:C},c=g({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{A as E,p as c};
//# sourceMappingURL=mis8yzi96lqq0oku.js.map
