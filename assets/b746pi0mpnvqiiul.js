import{h as ae,r as i,j as e,M as a,f as oe,d as Ue,A as Ne,m as Ie,L as Qe,u as Xe,a as Ze}from"./juy90og0wtbp77qa.js";import{C as se,aq as Je,by as E,hH as et,R as Be,aF as b,P as D,e as tt,ag as st,k as Te,aR as at,aV as ot,dS as rt,al as de,aG as Le,iB as lt,i7 as it,kU as nt,ar as W,b8 as dt,b9 as ct,l4 as ut,dG as me,g8 as Ee,B as ve,a5 as mt,il as ke,bl as ee,bk as xt,bV as j}from"./dc2xxjkicf2pz0mj.js";import{n as Ae,A as gt,o as ht,hT as ft,U as ze,ae as pt,e as Mt,hU as yt,bA as Ct,fC as bt,hV as jt,hW as Tt,hX as vt,eo as kt,hY as St,hZ as wt,fk as _t,M as Pt,h_ as Ut,h$ as Se,i0 as Nt,ec as It,a7 as Bt}from"./ckp56qklot786ulr.js";import{S as Lt}from"./ec16quw80cjnsyyn.js";import{H as Et}from"./g4tl5lt9yqf20m4s.js";const Fe=gt.FirstTimeUsingUserContext;function At(){const{eligible:t}=Ae(Fe);return t}const zt=({onClose:t})=>{const l=ae(),{markAsViewed:o}=Ae(Fe),c=i.useCallback(()=>{o(),t()},[o,t]);return e.jsxs(se,{testId:"modal-user-context-first-time",isOpen:!0,onClose:Je,size:"custom",className:"max-w-xl",type:"success",title:l.formatMessage(G.title),primaryButton:e.jsx(E.Button,{onClick:c,title:l.formatMessage(G.ok),color:"primary"}),children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[e.jsx("p",{children:e.jsx(a,{...G.body1})}),e.jsx("p",{children:e.jsx(a,{...G.body2})})]}),e.jsx("div",{className:"text-token-text-tertiary flex flex-col gap-3 text-sm",children:e.jsx("p",{children:e.jsx(a,{...G.legal1,values:{article:m=>e.jsx("a",{href:Et,target:"_blank",className:"underline",rel:"noopener noreferrer",children:m})}})})})]})},G=oe({title:{id:"UserContextFirstTimeModal.title",defaultMessage:"Introducing Custom Instructions"},body1:{id:"UserContextFirstTimeModal.body1",defaultMessage:"Customize your interactions with ChatGPT by providing specific details and guidelines for your chats."},body2:{id:"UserContextFirstTimeModal.body2",defaultMessage:"Whenever you edit your custom instructions, they'll take effect in all new chats you create. Existing chats won't be updated."},legal1:{id:"UserContextFirstTimeModal.legal1",defaultMessage:"Your instructions will be used to make our models better unless you've opted out and may be shared with any plugins you've enabled. Visit our <article>Help Center</article> to learn more."},ok:{id:"UserContextFirstTimeModal.ok",defaultMessage:"OK"}});function Ft(){return Ue({queryKey:["personalityTypeList"],experimental_prefetchInRender:!0,queryFn:async()=>await Be.safeGet("/personality_types")})}function Rt(){return null}function we(t){const{localUserContext:l,hasFieldsChanged$:o,updateLocalUserContext:c}=t,{personality_type_selection:m}=l,[d,u]=i.useState(m===""?void 0:m),{promise:n}=Ft();return e.jsx(et,{name:"PersonalityTypeSelect",fallback:e.jsx(Rt,{}),children:e.jsxs("div",{className:"mt-0 mb-3 flex items-center justify-start gap-1",children:[e.jsx("div",{className:"text-muted text-token-text-accent text-sm font-medium select-none",children:e.jsx(a,{id:"user-context-modal.personality",defaultMessage:"Personality"})}),e.jsx(Ot,{models:n,onSelect:f=>{u(f),c({personality_type_selection:f}),o.set(!0)},selectedModel:d})]})})}const Ot=({models:t,onSelect:l,selectedModel:o})=>{const[c,m]=i.useState(!1),d=i.use(t),u=ae();return e.jsx(i.Suspense,{fallback:e.jsxs("div",{className:"mb-4",children:[e.jsx(b.Shimmer,{size:"short"}),e.jsx(b.Shimmer,{size:"short"}),e.jsx(b.Shimmer,{size:"short"}),e.jsx(b.Shimmer,{size:"short"})]}),children:e.jsxs(b.Root,{open:c,onOpenChange:n=>{m(n),n&&D.logEventWithStatsig("User Context: View Personalities","chatgpt_user_context_view_personalities")},children:[e.jsxs(b.Trigger,{className:"data-[state=open]:bg-token-bg-tertiary flex h-min items-center justify-between rounded-lg border px-3 py-2 text-start",id:"personality-select-trigger",children:[e.jsx("span",{children:d.find(n=>n.key===o)?.label??u.formatMessage({id:"user-context-modal.personality.default",defaultMessage:"Default"})}),e.jsx("svg",{className:"text-muted ms-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(b.Portal,{children:e.jsx(b.Content,{size:"auto",alignOffset:-7,children:e.jsx(b.RadioGroup,{value:o??"default",onValueChange:n=>{l(n==="default"?void 0:n),m(!1)},children:d.map(n=>e.jsx(b.RadioItem,{color:o===n.key||!o&&n.key==="default"?"selected":"default",value:n.key,label:n.label,secondary:n.description},n.key))})})})]})})};function Gt({onSuccess:t,onError:l}){const o=Xe();return Ze({mutationFn:({userContext:c})=>_t(c),onSettled:(c,m)=>{const d=["userContext"];c!==null&&!m?o.setQueryData(d,c):o.invalidateQueries({queryKey:d})},onSuccess:t,onError:l})}const _e={aboutUserMessage:void 0,aboutModelMessage:void 0,nameUserMessage:void 0,roleUserMessage:void 0,traitsModelMessage:void 0,otherUserMessage:void 0,disabledTools:void 0,enabled:void 0};function rs({isModalOpen:t}){const l=tt(),o=ae(),c=st(),m=At(),d=ht(s=>s.autoHighlightNicknameInput),u=Te(l,"1922342873").get("can-select-personality",!1),[n,f]=i.useState(!1),{isLoading:y,data:x}=ft(t),{aboutUserMessage:C="",aboutModelMessage:B="",nameUserMessage:P="",roleUserMessage:M="",traitsModelMessage:T="",otherUserMessage:U="",disabledTools:N=[],enabled:A,...V}=x??{},[v,z]=i.useState({..._e,...V}),{aboutUserMessage:q,aboutModelMessage:K,nameUserMessage:k,roleUserMessage:w,traitsModelMessage:S,otherUserMessage:g,disabledTools:Y,enabled:F}=v,I=F??!!A,[$,re]=i.useState(null),_=s=>{const p=(h,ye,Ce)=>h!==void 0?h:ye??Ce;z(h=>({...h,...s,aboutUserMessage:p(s.aboutUserMessage,h.aboutUserMessage,C),aboutModelMessage:p(s.aboutModelMessage,h.aboutModelMessage,B),nameUserMessage:p(s.nameUserMessage,h.nameUserMessage,P),roleUserMessage:p(s.roleUserMessage,h.roleUserMessage,M),traitsModelMessage:p(s.traitsModelMessage,h.traitsModelMessage,T),otherUserMessage:p(s.otherUserMessage,h.otherUserMessage,U),enabled:p(s.enabled,h.enabled,I),disabledTools:p(s.disabledTools,h.disabledTools,N)}))},[L]=i.useState(()=>at(!1)),Oe=ot(L),Q=i.useCallback(()=>{ze.closeModal(pt.UserContext),z(_e),re(null),L.set(!1)},[L]),Ge=Te(l,"1704793646").get("full_name_llm",!1),He=Mt(),{isPending:le,mutate:ge}=Gt({onSuccess:s=>{dt.setCookie(ct.GreetingName,ut(s,He,Ge)),window.dispatchEvent(new Event("refreshGreeting")),Q()},onError:s=>(s.response?.reason==="content_policy"&&s.response?.field?re(s.response?.field):c.danger(o.formatMessage({id:"userContextModal.saveError",defaultMessage:"Failed to update settings"}),{loggingTitle:"Failed to update settings",toastId:"user_context_modal"}),s)}),[De,he]=i.useState(!1),[X,We]=i.useState(!1),[Z,Ve]=i.useState([]),ie=[k,w,S,g].some(s=>Re(s??"")),ne=[{local:k,server:P},{local:w,server:M},{local:S,server:T},{local:g,server:U}].some(({local:s,server:p})=>s!==void 0&&s!==p)||Y!==void 0&&!rt(Y,N)||F!==void 0&&F!==A||Oe,fe=i.useCallback(()=>{de.logEvent("chatgpt_user_context_cancel_clicked"),D.logEvent("User Context Cancel Clicked"),ne?he(!0):Q()},[Q,ne]),pe=i.useCallback(async()=>{if(!le){re(null),L.set(!1);const{aboutModelMessage:s,aboutUserMessage:p,nameUserMessage:h,roleUserMessage:ye,traitsModelMessage:Ce,otherUserMessage:Xt,disabledTools:Zt,enabled:Jt,...$e}=v,O={aboutUserMessage:q??"",aboutModelMessage:K??"",nameUserMessage:k??"",roleUserMessage:w??"",traitsModelMessage:S??"",otherUserMessage:g??"",disabledTools:Y??[],enabled:!!F,...$e},be={name:P,role:M,traits:T,other:U,traitPillsSelected:Z},je={name:O.nameUserMessage,role:O.roleUserMessage,traits:O.traitsModelMessage,other:O.otherUserMessage,traitPillsSelected:Z};D.logEvent("User Context Save Customize ChatGPT",{previousState:be,newState:je}),de.logEvent("chatgpt_user_context_save_custom_instructions",void 0,{previousState:JSON.stringify(be),newState:JSON.stringify(je)}),ge({userContext:O})}},[le,L,v,q,K,k,w,S,g,Y,F,P,M,T,U,Z,ge]),R=i.useCallback(()=>{if(ie){c.danger(o.formatMessage(r.messageLimitError,{limit:xe}),{duration:4,hasCloseButton:!0,loggingTitle:"Message limit error",toastId:"user_context_modal",loggingDescription:r.messageLimitError.defaultMessage});return}pe()},[o,ie,pe,c]),J=i.useRef(null),[Me,qe]=i.useState(0),[Ke,Ye]=i.useState(!0);if(i.useEffect(()=>{const s=setTimeout(()=>{Ye(!1)},1e3),p=setInterval(()=>{qe(h=>(h+1)%ue.length)},5500);return()=>{clearInterval(p),clearTimeout(s)}},[]),i.useEffect(()=>{X&&J.current&&J.current.scrollIntoView({behavior:"smooth",block:"start"})},[X,J]),t&&m&&!n)return e.jsx(zt,{onClose:()=>{f(!0)}});if(t&&De){const s=()=>{he(!1),de.logEvent("chatgpt_user_context_confirm_close_clicked"),D.logEvent("User Context Confirm Close Clicked")};return e.jsx(se,{testId:"modal-user-context-confirm-close",isOpen:!0,onClose:s,type:"success",title:o.formatMessage(r.confirmCloseTitle),primaryButton:e.jsx(E.Button,{title:o.formatMessage(r.confirmCloseOk),color:"danger",onClick:()=>{Q(),s()}}),secondaryButton:e.jsx(E.Button,{title:o.formatMessage(r.confirmCloseCancel),color:"secondary",onClick:s}),children:e.jsx("div",{className:"text-sm",children:e.jsx(a,{...r.confirmCloseBody})})},"confirm-close")}return e.jsxs(se,{testId:"modal-user-context",isOpen:t,onClose:fe,type:"success",size:"custom",showCloseButton:!0,className:"max-w-xl",title:e.jsx(a,{...r.profileTitle}),description:e.jsxs("div",{className:"text-token-text-secondary flex flex-row items-center",children:[e.jsx("div",{className:"me-1",children:e.jsx(a,{...r.profileSubtitle})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-2 mb-2 text-sm font-normal",children:e.jsx(a,{...r.profileSubtitleTooltip,values:{link:s=>e.jsx(Qe,{className:"underline",target:"_blank",rel:"noreferrer",to:r.profileSubtitleTooltip.link??"",children:s})}})}),icon:e.jsx(bt,{className:"text-token-text-tertiary h-4 w-4"})})]}),children:[y?e.jsx("div",{className:"flex h-14 items-center justify-center",children:e.jsx(Le,{})}):e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[e.jsx("p",{className:"text-muted py-2 text-sm font-medium",children:e.jsx(a,{...r.customizeName})}),e.jsx(te,{className:"mb-3",onSubmit:R,disabled:!I,hasModError:$==="name_user_message",value:k??P,placeholder:o.formatMessage(r.customizeNamePlaceholder),onChange:s=>_({nameUserMessage:s.target.value}),size:"sm",showCharacterCount:!1,autoHighlight:d}),e.jsx("p",{className:"text-muted text-token-text-primary py-2 text-sm font-medium",children:e.jsx(a,{...r.customizeRole})}),e.jsxs("div",{className:"relative mb-3 overflow-hidden",children:[!(w??M)&&e.jsx(Ne,{mode:"wait",children:e.jsx(Ie.span,{variants:$t,initial:Ke?!1:"initial",animate:"animate",exit:"exit",className:"pointer-events-none absolute start-[0.81rem] top-[0.55rem] text-sm text-gray-400",children:o.formatMessage(Yt[ue[Me]])},ue[Me])}),e.jsx(te,{onSubmit:R,disabled:!I,hasModError:$==="role_user_message",value:w??M,placeholder:"",onChange:s=>_({roleUserMessage:s.target.value}),size:"sm",showCharacterCount:!1})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted text-token-text-primary me-1 py-2 text-sm font-medium",children:e.jsx(a,{...r.customizeTraits})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-3 mb-[6px] text-sm font-medium",children:e.jsx(a,{...r.traitsTooltipTitle})}),side:"bottom",secondaryLabel:e.jsxs("ul",{className:"text-muted text-token-text-primary mx-2 mb-3 list-disc justify-start space-y-[6px] ps-5 text-sm",children:[u&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(a,{...r.traitsTooltipBodyItem1Personality})}),e.jsx("li",{children:e.jsx(a,{...r.traitsTooltipBodyItem2Personality})})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(a,{...r.traitsTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(a,{...r.traitsTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(a,{...r.traitsTooltipBodyItem3})})]})]})})]}),u&&we&&!y&&e.jsx(we,{localUserContext:x,updateLocalUserContext:_,hasFieldsChanged$:L}),e.jsx(te,{onSubmit:R,disabled:!I,hasModError:$==="traits_model_message",value:S??T,placeholder:o.formatMessage(r.customizeTraitsPlaceholder),onChange:s=>_({traitsModelMessage:s.target.value}),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsx("div",{className:"mb-4",children:e.jsx(Dt,{onSelect:s=>{_({traitsModelMessage:`${S??T} ${s}`.trim()})},selectedTraits:Z,setSelectedTraits:Ve})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted text-token-text-primary me-1 py-2 text-sm font-medium",children:e.jsx(a,{...r.customizeOther})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-3 mb-2 text-sm font-medium",children:e.jsx(a,{...r.otherTooltipTitle})}),secondaryLabel:e.jsxs("ul",{className:"text-muted text-token-text-primary mx-2 mb-3 list-disc justify-start space-y-[6px] ps-5 text-sm",children:[e.jsx("li",{children:e.jsx(a,{...r.otherTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(a,{...r.otherTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(a,{...r.otherTooltipBodyItem3})})]})})]}),e.jsx(te,{onSubmit:R,disabled:!I,hasModError:$==="other_user_message",value:g??U,placeholder:o.formatMessage(r.customizeOtherPlaceholder),onChange:s=>_({otherUserMessage:s.target.value}),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsxs("div",{className:"mt-3 pb-8",ref:J,children:[e.jsxs("button",{onClick:()=>We(s=>!s),className:"text-muted text-token-text-primary flex items-center justify-between py-2 text-sm font-medium",children:[e.jsx(a,{...r.advanced}),X?e.jsx(yt,{className:"ms-1 h-5 w-5"}):e.jsx(Ct,{className:"ms-1 h-5 w-5"})]}),X&&e.jsx("div",{className:"mt-2",children:e.jsx(Vt,{disabledTools:v.disabledTools??N??[],onDisabledToolsChanged:s=>_({disabledTools:s}),isNewCustomInstructionsUIEnabled:!0})})]})]}),e.jsx("div",{className:"-ms-6 -me-6 border-t",children:e.jsxs("div",{className:"ms-6 me-6 flex grow flex-col items-stretch justify-between gap-0 pt-2 pb-1 sm:flex-row sm:items-center sm:gap-3",children:[e.jsxs("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[e.jsx(lt,{checked:I,onCheckedChange:s=>{_({enabled:s})},"aria-label":I?o.formatMessage(r.disableToggleLabel):o.formatMessage(r.enableToggleLabel)}),e.jsx("div",{className:"text-token-text-primary self-center text-sm",children:e.jsx(a,{...r.chatPreferencesEnable})})]}),e.jsx(E.Actions,{secondaryButton:e.jsx(E.Button,{onClick:fe,children:e.jsx(a,{...r.cancel})}),primaryButton:e.jsx(E.Button,{loading:le,onClick:R,color:"primary",visuallyDisabled:ie,disabled:!ne,children:e.jsx(a,{...r.save})})})]})})]},"user-context")}function Ht(){return Ue({queryKey:["traitPills"],queryFn:async()=>{try{const t=await Be.safeGet("/user_system_message_trait_pills");return t?Array.isArray(t)?t:[]:[]}catch{return[...qt.map(l=>({key:l,label:l,description:Pe[l].defaultMessage||""})),...Kt.map(l=>({key:l,label:l,description:Pe[l].defaultMessage||""}))]}},select:t=>{const l=Math.ceil(t.length/2-1);return{firstSet:t.slice(0,l),secondSet:t.slice(l)}}})}const Dt=({onSelect:t,selectedTraits:l,setSelectedTraits:o})=>{const{data:c,isLoading:m}=Ht(),[d,u]=i.useState(!0);if(m)return e.jsx(Le,{});if(!c)return null;const n=d?c.firstSet:c.secondSet,f=x=>{l.includes(x.key)||(o(C=>[...C,x.key]),t(x.description))},y=()=>{o([]),u(x=>!x)};return e.jsx("div",{children:e.jsxs("div",{className:"mt-2 flex flex-wrap gap-x-1 gap-y-2",children:[n.map(x=>!l.includes(x.key)&&e.jsxs(ve,{size:"small",color:"secondary",className:"text-token-text-secondary py-2 ps-2 pe-3 text-xs font-normal",onClick:()=>f(x),children:[e.jsx(Pt,{className:"me-[1px] h-4 w-4"}),x.label]},x.key)),e.jsx(ve,{size:"small",color:"secondary",className:"text-token-text-secondary",onClick:y,children:e.jsx(Ut,{className:"-mx-1 h-4 w-4"})})]})})},xe=1500,Re=(t,l=xe)=>t.length>l,te=({disabled:t,onChange:l,onSubmit:o,placeholder:c,value:m,tip:d,hasModError:u,className:n,size:f="md",showCharacterCount:y=!0,autoHighlight:x=!1,isNewCustomInstructionsUIEnabled:C=!1,maxLength:B=xe})=>{const P=ae(),M=i.useRef(null);i.useEffect(()=>{x&&M.current&&requestAnimationFrame(()=>{M.current?.select(),ze.setAutoHighlightNicknameInput(!1)})},[x]);const T=it(),U=nt(),N=!T,[A,V]=i.useState(!1),[v,z]=i.useState(N),q=!N&&A&&!v,K=N&&!v,k=Re(m,B),w=g=>{g.nativeEvent.isComposing||!t&&g.key==="Enter"&&g.metaKey&&!g.shiftKey&&!g.nativeEvent.isComposing&&(g.preventDefault(),o())},S=i.useRef(null);return e.jsxs(e.Fragment,{children:[d&&e.jsx(se,{testId:"modal-user-context-tip",isOpen:K,type:"success",size:"custom",className:"max-w-lg",title:P.formatMessage(r.tipsHeader),showCloseButton:!0,onClose:()=>{z(!0)},children:d}),e.jsxs(jt,{open:q,children:[e.jsxs("div",{className:n,ref:S,children:[e.jsx(Tt,{asChild:!0,children:e.jsx("textarea",{ref:M,className:W("bg-token-main-surface-primary w-full resize-none focus:ring-transparent",{"rounded-sm p-4":f!=="sm"&&!C,"rounded-lg border text-sm":f==="sm"||C,"border-orange-400 focus:border-orange-400":u,"border-red-500 focus:border-red-500":k&&!u,"focus-token-border-heavy border-token-border-default":!k&&!u,"opacity-30":t,"placeholder:text-gray-400":f==="sm"||C,"placeholder:text-gray-300":!C}),disabled:t,placeholder:c,onKeyDown:w,rows:f==="sm"?1:T&&!U?6:5,value:m,onChange:l,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)}})}),e.jsx("div",{className:W("flex items-center justify-between px-1 text-xs tabular-nums",k?"text-red-600":"text-token-text-tertiary"),children:u?e.jsx("div",{className:"visible mt-2 text-start text-xs text-orange-400",children:e.jsx(a,{...r.modApiVoilation,values:{policyLink:g=>e.jsx("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:g}),feedbackLink:g=>e.jsx("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:g})}})}):e.jsxs(e.Fragment,{children:[y&&e.jsx("div",{children:`${m.length}/${B}`}),d&&e.jsx("button",{className:"flex items-center gap-1",onClick:()=>{M.current?.focus(),z(!v)},tabIndex:-1,children:e.jsx(Ne,{initial:!1,children:A&&e.jsx(Ie.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:v?e.jsxs(e.Fragment,{children:[e.jsx(a,{...r.showTips}),e.jsx(vt,{className:"icon-xs"})]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{...r.hideTips}),e.jsx(kt,{className:"icon-xs"})]})},"show-hide")})})]})})]}),d&&e.jsx(St,{container:S.current?.ownerDocument.body,children:e.jsx(wt,{side:"right",align:"start",sideOffset:12,className:"popover animate-slideLeftAndFade border-token-border-default bg-token-main-surface-primary text-token-text-primary relative z-50 max-w-[220px] rounded-xl border p-4 text-sm shadow-[0px_4px_14px_rgba(0,0,0,0.06)] select-none xl:max-w-xs",onOpenAutoFocus:g=>{g.preventDefault()},onCloseAutoFocus:g=>{g.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("strong",{children:e.jsx(a,{...r.tipsHeader})}),d]})})})]})]})};function ce({primaryLabel:t,secondaryLabel:l,side:o="top",icon:c=e.jsx(Ee,{className:"text-token-text-tertiary h-4 w-4"})}){return e.jsx(me,{interactive:!0,label:e.jsx("div",{children:t}),secondaryLabel:e.jsx("div",{children:l}),side:o,theme:"primary",customPaddingClassName:"p-2",customBorderClassName:"border border-token-border-default",labelTextAlign:"left",children:c})}function Wt({label:t,side:l="bottom"}){return e.jsx(me,{interactive:!0,label:e.jsx("div",{children:t}),side:l,children:e.jsx(Ee,{className:"text-token-text-tertiary h-4 w-4"})})}function Vt({disabledTools:t,onDisabledToolsChanged:l,isNewCustomInstructionsUIEnabled:o=!1}){i.useEffect(()=>{D.logEvent("User Context GPT-4 Capabilities Shown")},[]);const m=mt()?.isEnterprisey()??!1,d=!ke(ee.BrowsingAvailable)&&m,u=x=>{const C=t.includes(x)?t.filter(B=>B!==x):[...t,x];l(C)},n=xt(),f=!ke(ee.Canvas)&&m;var y;return n?.includes(ee.SearchTool)&&!n.includes(ee.SearchToolHoldout)?y=e.jsx(H,{title:e.jsx(a,{id:"userContextModal.tools.web",defaultMessage:"Web Search"}),tooltipLabel:d?e.jsx(a,{id:"Osf0vy",defaultMessage:"Web Search is disabled by your organization"}):e.jsx(a,{id:"userContexModal.tools.webSearchTooltip",defaultMessage:"Automatically search the web to get answers"}),tool:j.BROWSER,onClick:u,Icon:Se,checked:!t.includes(j.BROWSER)&&!d,disabled:d,isNewCustomInstructionsUIEnabled:o}):y=e.jsx(H,{title:e.jsx(a,{id:"userContextModal.tools.browse",defaultMessage:"Browsing"}),tooltipLabel:d?e.jsx(a,{id:"5SuA2c",defaultMessage:"Browsing is disabled by your organization"}):e.jsx(a,{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"}),tool:j.BROWSER,onClick:u,Icon:Se,checked:!t.includes(j.BROWSER)&&!d,disabled:d,isNewCustomInstructionsUIEnabled:o}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:W("text-sm",{"text-muted font-medium":o,"font-semibold":!o}),children:e.jsx(a,{id:"userContextModal.gpt4CapabilitiesTitle",defaultMessage:"ChatGPT capabilities"})}),e.jsx(Wt,{label:e.jsx(a,{id:"userContextModal.tools.capabilitiesInfo.1",defaultMessage:"Choose which tools ChatGPT can use"}),side:"top"})]}),e.jsxs("div",{className:"mt-2 flex flex-col flex-wrap gap-3 md:flex-row",children:[y,e.jsx(H,{title:e.jsx(a,{id:"userContextModal.tools.codeInterpreter.1",defaultMessage:"Code"}),tooltipLabel:e.jsx(a,{id:"userContextModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}),tool:j.PYTHON,onClick:u,Icon:Nt,checked:!t.includes(j.PYTHON),isNewCustomInstructionsUIEnabled:o}),!f&&e.jsx(H,{title:e.jsx(a,{id:"FW2C7Y",defaultMessage:"Canvas"}),tooltipLabel:e.jsx(a,{id:"dP6U4B",defaultMessage:"Collaborate with ChatGPT on text and code"}),tool:j.CANMORE,onClick:u,Icon:It,checked:!t.includes(j.CANMORE),isNewCustomInstructionsUIEnabled:o}),e.jsx(H,{title:e.jsx(a,{id:"yaclI7",defaultMessage:"Advanced Voice"}),tooltipLabel:e.jsx(a,{id:"Pd4tO1",defaultMessage:"More natural conversations in voice mode"}),tool:j.ADVANCED_VOICE,onClick:u,Icon:Lt,checked:!t.includes(j.ADVANCED_VOICE),isNewCustomInstructionsUIEnabled:o})]})]})}function H({tool:t,title:l,tooltipLabel:o,Icon:c,onClick:m,checked:d,disabled:u,isNewCustomInstructionsUIEnabled:n=!1}){return e.jsx(me,{className:"block",label:o,side:"top",sideOffset:4,children:e.jsxs("button",{className:W("border-token-border-medium flex w-full items-center justify-between gap-2 rounded-sm border p-2 whitespace-nowrap",{"text-token-text-quaternary cursor-not-allowed":u}),onClick:()=>m(t),disabled:u,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"text-token-text-tertiary h-4 w-4"}),e.jsx("div",{className:W("text-sm",n?"text-muted font-medium":"font-semibold"),children:l})]}),e.jsx(Bt,{id:t,checked:d&&!u,disabled:u})]})})}const r=oe({tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},profileSubtitle:{id:"userContextModal.profileSubtitle",defaultMessage:"Introduce yourself to get better, more personalized responses"},profileSubtitleTooltip:{id:"userContextModal.profileSubtitleTooltip",defaultMessage:"ChatGPT will use the information you provide to tailor its responses to you. <link>Learn more</link> about how we use your data.",link:"https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt"},customizeName:{id:"userContextModal.customizeName",defaultMessage:"What should ChatGPT call you?"},customizeNamePlaceholder:{id:"userContextModal.customizeNamePlaceholder",defaultMessage:"Nickname"},customizeRole:{id:"userContextModal.customizeRole",defaultMessage:"What do you do?"},customizeRolePlaceholder:{id:"userContextModal.customizeRolePlaceholder",defaultMessage:"Engineer, student, etc."},customizeTraits:{id:"userContextModal.customizeTraits",defaultMessage:"What traits should ChatGPT have?"},customizeTraitsPlaceholder:{id:"userContextModal.customizeTraitsPlaceholder",defaultMessage:"Describe or select traits"},customizeOther:{id:"userContextModal.customizeOther",defaultMessage:"Anything else ChatGPT should know about you?"},customizeOtherPlaceholder:{id:"userContextModal.customizeOtherPlaceholder",defaultMessage:"Interests, values, or preferences to keep in mind"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom Instructions and how they're used to help ChatGPT provide better responses."},traitsTooltipTitle:{id:"userContextModal.traitsTooltipTitle",defaultMessage:"You can tune ChatGPT's behavior by..."},traitsTooltipBodyItem1:{id:"userContextModal.traitsTooltipBodyItem1",defaultMessage:"Use a formal, professional tone."},traitsTooltipBodyItem2:{id:"userContextModal.traitsTooltipBodyItem2",defaultMessage:"Be casual and chatty."},traitsTooltipBodyItem3:{id:"userContextModal.traitsTooltipBodyItem3",defaultMessage:"Be opinionated. If a question could have multiple answers, try to give only the best one."},traitsTooltipBodyItem1Personality:{id:"userContextModal.traitsTooltipBodyItem1Personality",defaultMessage:"Setting the baseline personality type"},traitsTooltipBodyItem2Personality:{id:"userContextModal.traitsTooltipBodyItem2Personality",defaultMessage:"Selecting or describing any additional traits that you want"},otherTooltipTitle:{id:"userContextModal.otherTooltipTitle",defaultMessage:"You can share things like..."},otherTooltipBodyItem1:{id:"userContextModal.otherTooltipBodyItem1",defaultMessage:"I love hiking and jazz."},otherTooltipBodyItem2:{id:"userContextModal.otherTooltipBodyItem2",defaultMessage:"I'm vegetarian."},otherTooltipBodyItem3:{id:"userContextModal.otherTooltipBodyItem3",defaultMessage:"I'm trying to learn French."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> — your input will aid our research in this area."},browser:{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL·E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"},advanced:{id:"userContextModal.advanced",defaultMessage:"Advanced"}}),qt=["Chatty","Witty","Opinionated","StraightShooting","GenZ","Encouraging","Skeptical","ForwardThinking"],Kt=["Poetic","Respectful","Humble","Professional","Corporate","Direct","Silly","Pragmatic","Chill","OutsideTheBox"],Pe=oe({Chatty:{id:"userContextModal.chattySentence",defaultMessage:"Be talkative and conversational."},Witty:{id:"userContextModal.wittySentence",defaultMessage:"Use quick and clever humor when appropriate."},StraightShooting:{id:"userContextModal.straightShootingSentence",defaultMessage:"Tell it like it is; don't sugar-coat responses."},Encouraging:{id:"userContextModal.encouragingSentence",defaultMessage:"Use an encouraging tone."},GenZ:{id:"userContextModal.genZSentence",defaultMessage:"Talk like a member of Gen Z."},Skeptical:{id:"userContextModal.skepticalSentence",defaultMessage:"Adopt a skeptical, questioning approach."},ForwardThinking:{id:"userContextModal.forwardThinkingSentence",defaultMessage:"Take a forward-thinking view."},Poetic:{id:"userContextModal.poeticSentence",defaultMessage:"Use a poetic, lyrical tone."},Opinionated:{id:"userContextModal.opinionatedSentence",defaultMessage:"Readily share strong opinions."},Respectful:{id:"userContextModal.respectfulSentence",defaultMessage:"Always be respectful."},Humble:{id:"userContextModal.humbleSentence",defaultMessage:"Be humble when appropriate."},Professional:{id:"userContextModal.professionalSentence",defaultMessage:"Use a formal, professional tone."},Silly:{id:"userContextModal.sillySentence",defaultMessage:"Be playful and goofy."},Direct:{id:"userContextModal.directSentence",defaultMessage:"Get right to the point."},Pragmatic:{id:"userContextModal.pragmaticSentence",defaultMessage:"Be practical above all."},Corporate:{id:"userContextModal.corporateSentence",defaultMessage:"Respond with corporate jargon."},Chill:{id:"userContextModal.chillSentence",defaultMessage:"Keep it relaxed and easygoing."},OutsideTheBox:{id:"userContextModal.outsideTheBoxSentence",defaultMessage:"Be innovative and think outside the box."}}),Yt=oe({engineeringStudent:{id:"userContextModal.rolePlaceholder.engineeringStudent",defaultMessage:"Engineering student at University of Waterloo"},gastroenterologist:{id:"userContextModal.rolePlaceholder.gastroenterologist",defaultMessage:"Gastroenterologist"},sourdoughBaker:{id:"userContextModal.rolePlaceholder.sourdoughBaker",defaultMessage:"Small-batch home sourdough baker"},interiorDesigner:{id:"userContextModal.rolePlaceholder.interiorDesigner",defaultMessage:"Interior designer"},daycareManager:{id:"userContextModal.rolePlaceholder.daycareManager",defaultMessage:"Home daycare manager"},familyLawAttorney:{id:"userContextModal.rolePlaceholder.familyLawAttorney",defaultMessage:"Family law attorney"},excelWizard:{id:"userContextModal.rolePlaceholder.excelWizard",defaultMessage:"Excel wizard"},level10Mage:{id:"userContextModal.rolePlaceholder.level10Mage",defaultMessage:"Level 10 mage"},pharmaSales:{id:"userContextModal.rolePlaceholder.pharmaSales",defaultMessage:"Pharma sales"},freelanceCopywriter:{id:"userContextModal.rolePlaceholder.freelanceCopywriter",defaultMessage:"Freelance copywriter"},weddingPhotographer:{id:"userContextModal.rolePlaceholder.weddingPhotographer",defaultMessage:"Wedding photographer"},catHerder:{id:"userContextModal.rolePlaceholder.catHerder",defaultMessage:"Professional cat herder"},cdlDriver:{id:"userContextModal.rolePlaceholder.cdlDriver",defaultMessage:"CDL driver"},thirdGradeTeacher:{id:"userContextModal.rolePlaceholder.thirdGradeTeacher",defaultMessage:"Third-grade teacher"}}),$t={initial:{opacity:0,y:8},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-8,transition:{duration:.2}}},ue=["engineeringStudent","gastroenterologist","sourdoughBaker","interiorDesigner","daycareManager","familyLawAttorney","excelWizard","level10Mage","pharmaSales","freelanceCopywriter","weddingPhotographer","catHerder","cdlDriver","thirdGradeTeacher"];export{xe as DEFAULT_MAX_CHARACTER_LENGTH,te as TextAreaWithTip,rs as UserContextModal,r as messages};
//# sourceMappingURL=b746pi0mpnvqiiul.js.map
