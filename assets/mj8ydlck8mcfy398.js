import{R as c,r as h}from"./juy90og0wtbp77qa.js";function p(){return p=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(s[n]=o[n])}return s},p.apply(this,arguments)}function D(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,_(s,t)}function _(s,t){return _=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},_(s,t)}var R=function(s){D(t,s);function t(){var n;return n=s.call(this)||this,n.state={columns:[],childRefs:[],hasDistributed:!1},n}var o=t.prototype;return o.componentDidUpdate=function(){!this.state.hasDistributed&&!this.props.sequential&&this.distributeChildren()},t.getDerivedStateFromProps=function(e,r){var u=e.children,i=e.columnsCount,a=i!==r.columns.length;return r&&u===r.children&&!a?null:p({},t.getEqualCountColumns(u,i),{children:u,hasDistributed:!1})},o.shouldComponentUpdate=function(e){return e.children!==this.state.children||e.columnsCount!==this.props.columnsCount},o.distributeChildren=function(){var e=this,r=this.props,u=r.children,i=r.columnsCount,a=Array(i).fill(0),d=this.state.childRefs.every(function(l){return l.current.getBoundingClientRect().height});if(d){var f=Array.from({length:i},function(){return[]}),m=0;c.Children.forEach(u,function(l){if(l&&c.isValidElement(l)){var C=e.state.childRefs[m].current.getBoundingClientRect().height,y=a.indexOf(Math.min.apply(Math,a));a[y]+=C,f[y].push(l),m++}}),this.setState(function(l){return p({},l,{columns:f,hasDistributed:!0})})}},t.getEqualCountColumns=function(e,r){var u=Array.from({length:r},function(){return[]}),i=0,a=[];return c.Children.forEach(e,function(d){if(d&&c.isValidElement(d)){var f=c.createRef();a.push(f),u[i%r].push(c.createElement("div",{style:{display:"flex",justifyContent:"stretch"},key:i,ref:f},d)),i++}}),{columns:u,childRefs:a}},o.renderColumns=function(){var e=this.props,r=e.gutter,u=e.itemTag,i=e.itemStyle;return this.state.columns.map(function(a,d){return c.createElement(u,{key:d,style:p({display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:r},i)},a.map(function(f){return f}))})},o.render=function(){var e=this.props,r=e.gutter,u=e.className,i=e.style,a=e.containerTag;return c.createElement(a,{style:p({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:r},i),className:u},this.renderColumns())},t}(c.Component);R.propTypes={};R.defaultProps={columnsCount:3,gutter:"0",className:null,style:{},containerTag:"div",itemTag:"div",itemStyle:{},sequential:!1};var O=1,S="10px",x=typeof window<"u"?h.useLayoutEffect:h.useEffect,b=function(){var t=h.useState(!1),o=t[0],n=t[1];return x(function(){n(!0)},[]),o},B=function(){var t=b(),o=h.useState(typeof window<"u"?window.innerWidth:0),n=o[0],e=o[1],r=h.useCallback(function(){t&&e(window.innerWidth)},[t]);return x(function(){if(t)return window.addEventListener("resize",r),r(),function(){return window.removeEventListener("resize",r)}},[t,r]),n},P=function(t){var o=t.columnsCountBreakPoints,n=o===void 0?{350:1,750:2,900:3}:o,e=t.gutterBreakPoints,r=e===void 0?{}:e,u=t.children,i=t.className,a=i===void 0?null:i,d=t.style,f=d===void 0?null:d,m=B(),l=h.useCallback(function(v,E){var w=Object.keys(v).sort(function(g,T){return g-T}),M=w.length>0?v[w[0]]:E;return w.forEach(function(g){g<m&&(M=v[g])}),M},[m]),C=h.useMemo(function(){return l(n,O)},[l,n]),y=h.useMemo(function(){return l(r,S)},[l,r]);return c.createElement("div",{className:a,style:f},c.Children.map(u,function(v,E){return c.cloneElement(v,{key:E,columnsCount:C,gutter:y})}))};P.propTypes={};export{P as ResponsiveMasonry,R as default};
//# sourceMappingURL=mj8ydlck8mcfy398.js.map
