import{r as y,j as e,M as d,h as q,A as I,m as S}from"./juy90og0wtbp77qa.js";import{i0 as B,ls as M,h$ as A,lt as j,hO as m,lu as k,lv as E,lw as _,eV as H,ln as D,lx as F,ly as z,f0 as Z}from"./ckp56qklot786ulr.js";import{at as C,ar as l,bV as G,k7 as J,lB as L,g5 as W,hJ as Q,aF as p,en as U,dG as X}from"./dc2xxjkicf2pz0mj.js";import{c as f}from"./dta0gs41e2vxh1q9.js";import{CA_SOURCE_TO_ICON_MAP as b}from"./aqif0rbyaiq9x43t.js";import{u as $}from"./kd37t55r0pqrdrzh.js";import{b as K}from"./o6wb3ptvu0bk81yq.js";const g=f({animationLoader:()=>C(()=>import("./doitflbvj988jrtm.js"),[]),StaticIcon:B}),Y=f({animationLoader:()=>C(()=>import("./ecrufyyzn0h8291m.js"),[]),StaticIcon:M}),T=f({animationLoader:()=>C(()=>import("./hvsc20zw1oied9k8.js"),[]),StaticIcon:A}),P=s=>y.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...s},y.createElement("path",{d:"M17.6682 13.998H12.6565L11.9641 14.3447C11.8718 14.3909 11.7695 14.415 11.6663 14.415H8.33325C8.23001 14.415 8.12774 14.3909 8.0354 14.3447L7.34302 13.998H2.32837V14.583C2.32837 15.1362 2.77712 15.585 3.33032 15.585H16.6663C17.2195 15.585 17.6682 15.1362 17.6682 14.583V13.998ZM16.8352 6.41699C16.8352 5.93931 16.8347 5.62054 16.8147 5.37598C16.8002 5.19841 16.7766 5.09313 16.7512 5.02246L16.7258 4.96191C16.6538 4.82049 16.5493 4.69891 16.4221 4.60645L16.2883 4.52441C16.2194 4.48931 16.1101 4.45489 15.8733 4.43555C15.6288 4.4156 15.3106 4.41504 14.8333 4.41504H5.16626C4.68886 4.41504 4.37071 4.41559 4.12622 4.43555C3.94903 4.45002 3.84339 4.47277 3.77271 4.49805L3.71216 4.52441C3.57094 4.59637 3.4491 4.70021 3.35669 4.82715L3.27368 4.96191C3.23861 5.03079 3.20513 5.13947 3.18579 5.37598C3.16581 5.62054 3.16528 5.93931 3.16528 6.41699V12.668H7.50024L7.57642 12.6729C7.65302 12.6817 7.72779 12.7036 7.79712 12.7383L8.4895 13.085H11.51L12.2024 12.7383L12.2737 12.708C12.346 12.6819 12.423 12.668 12.5002 12.668H16.8352V6.41699ZM18.1653 12.668H18.3333C18.7003 12.668 18.9981 12.9659 18.9983 13.333V14.583C18.9983 15.8708 17.954 16.915 16.6663 16.915H3.33032C2.04258 16.915 0.998291 15.8708 0.998291 14.583V13.333L1.01196 13.1992C1.07402 12.8962 1.34201 12.668 1.66333 12.668H1.83521V6.41699C1.83521 5.96125 1.83419 5.57886 1.85962 5.26758C1.88569 4.94869 1.94266 4.6459 2.08911 4.3584L2.17896 4.19727C2.40296 3.83215 2.72389 3.53443 3.10767 3.33887L3.21606 3.28809C3.47122 3.17862 3.73854 3.13317 4.01782 3.11035C4.32903 3.08493 4.71068 3.08496 5.16626 3.08496H14.8333C15.2888 3.08496 15.6705 3.08494 15.9817 3.11035C16.3007 3.13642 16.6042 3.19231 16.8918 3.33887L17.052 3.42871C17.4174 3.65275 17.7147 3.97437 17.9104 4.3584L17.9612 4.4668C18.0705 4.72179 18.1171 4.9885 18.1399 5.26758C18.1653 5.57886 18.1653 5.96125 18.1653 6.41699V12.668Z"})),ee=({chunk:s,size:i="small",isAnimated:n=!1,className:a,isHeadline:c})=>{const t=i==="small"?l("h-[15px] w-[15px]",a):l("icon",a);if(!s)return c?e.jsx(j,{className:t}):null;switch(s.type){case m.N7jupdAPI:return s.action==="n7jupd_as"?e.jsx(g,{matchTextColor:!0,className:t}):s.action==="n7jupd_ag"?e.jsx(_,{className:t}):s.action==="n7jupd_cf"&&s.source?e.jsx(L,{connector:s.source}):s.action==="n7jupd_cs"&&s.source?e.jsx(L,{connector:s.source}):e.jsx(j,{className:t});case m.Browsing:if(s.sources.length>0){const o=s.sources.find(x=>x in b);if(o){const x=b[o];return e.jsx(x,{className:t},o)}}return n?e.jsx(g,{matchTextColor:!0,className:t}):e.jsx(_,{className:t});case m.Search:return n?e.jsx(T,{matchTextColor:!0,className:t}):e.jsx(A,{className:t});case m.CodeAnalysis:return n?e.jsx(g,{matchTextColor:!0,className:t}):e.jsx(E,{className:t});case m.ImageAnalysis:return n?e.jsx(Y,{matchTextColor:!0,className:t}):e.jsx(M,{className:t});case m.Recap:return e.jsx(J,{className:t});default:return s.type===m.ComputerOutput?s.messages.every(o=>o.author.name===G.n7jupd_m)?e.jsx(P,{className:t}):n?e.jsx(T,{matchTextColor:!0,className:t}):e.jsx(k,{className:t}):c?e.jsx(j,{className:l("-ms-[3px]",t)}):e.jsx("div",{className:l("bg-token-interactive-icon-tertiary-default h-[6px] w-[6px] rounded-full",a)})}},se=({isExpanded:s,agentVisualMode:i,setAgentVisualMode:n,isStreaming:a,isStopping:c})=>{const t=s||a,o=W(),{open:x}=$(),{clientThreadId:u}=K();return e.jsxs("div",{className:l("flex flex-1 flex-row items-center gap-2 px-1",a?"justify-end":"justify-between"),children:[!a&&e.jsx(H,{className:l("icon-sm text-token-text-secondary inline align-middle transition-transform",s&&"rotate-90")}),!c&&t&&e.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:e.jsxs(Q,{side:"bottom",size:"small",contentClassName:"text-sm",triggerButton:e.jsx("button",{onPointerDown:r=>r.stopPropagation(),onClick:r=>r.stopPropagation(),className:"hover:bg-token-bg-tertiary flex max-h-6 items-center justify-center overflow-visible rounded-md p-1",children:e.jsx(U,{className:"text-token-text-secondary size-5"})}),children:[i==="visual-cot"&&e.jsxs(p.Item,{onClick:r=>{r.stopPropagation(),n?.("list-cot")},children:[e.jsx(D,{className:"icon"}),e.jsx(d,{id:"cot.listView",defaultMessage:"Activity"})]}),i==="list-cot"&&e.jsxs(p.Item,{onClick:r=>{r.stopPropagation(),n?.("visual-cot")},children:[e.jsx(P,{className:"icon"}),e.jsx(d,{id:"cot.desktopView",defaultMessage:"Desktop view"})]}),!o&&e.jsxs(p.Item,{onClick:r=>{r.stopPropagation(),x()},children:[e.jsx(k,{className:"icon"}),e.jsx(d,{id:"cot.takeOverBrowser",defaultMessage:"Take over browser"})]}),!o&&a&&e.jsxs(p.Item,{onClick:()=>F(u),children:[e.jsx(z,{className:"icon"}),e.jsx(d,{id:"cot.stop",defaultMessage:"Stop"})]})]})})]})},xe=({isExpanded:s=!1,isExpandDisabled:i=!1,showChunkIcon:n=!0,isComplete:a,latestHeadline:c,latestChunk:t,counters:o,onToggleExpanded:x,onSkip:u,shouldDisplayVisualCoT:r=!1,agentVisualMode:V,setAgentVisualMode:R,isStreaming:h,interruptionInProgress:O})=>{const v=q(),N=c&&c.length>0?c:a?v.formatMessage({id:"nkvZJE",defaultMessage:"Thought"}):v.formatMessage({id:"hgnsat",defaultMessage:"Thinking"});return e.jsx(X,{open:a&&o&&(o.queries>0||o.sources>0)?void 0:!1,align:"start",side:"bottom",label:o&&e.jsx(ae,{counters:o}),children:e.jsx("div",{className:"relative w-full text-start",children:e.jsxs("div",{className:"flex w-full items-center justify-between text-start",children:[e.jsxs("button",{disabled:i,onClick:x,className:l("flex w-full items-center gap-0.5",(s||h)&&r&&"justify-between"),children:[e.jsx(I,{mode:"popLayout",children:e.jsxs(S.span,{className:l("flex items-center gap-1 text-start align-middle",!a&&"loading-shimmer font-medium",a&&(i?"text-token-text-secondary":"text-token-text-secondary hover:text-token-text-primary")),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,overflow:"hidden",whiteSpace:"nowrap"},transition:{duration:.3},children:[n&&t?.type!==m.Recap&&e.jsx(ee,{chunk:t,isAnimated:!a,size:"medium",className:"text-token-text-secondary",isHeadline:!0}),N]},N)}),(!i||r)&&e.jsx(te,{isExpanded:s,shouldDisplayVisualCoT:r,agentVisualMode:V,setAgentVisualMode:R,isStreaming:h,isStopping:!!O})]}),e.jsx(I,{children:!a&&!s&&u&&e.jsx(S.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:e.jsxs("button",{onClick:w=>{u(w),w.stopPropagation()},className:"text-token-text-secondary hover:text-token-text-primary whitespace-nowrap",children:[e.jsx(Z,{className:"icon-sm inline align-middle"}),e.jsx("span",{className:"ms-1",children:e.jsx(d,{id:"Gf7q+7",defaultMessage:"Answer now"})})]})})})]})})})},te=({isExpanded:s,shouldDisplayVisualCoT:i,agentVisualMode:n,setAgentVisualMode:a,isStreaming:c,isStopping:t})=>i?e.jsx(se,{isExpanded:s,agentVisualMode:n,setAgentVisualMode:a,isStreaming:c,isStopping:t}):e.jsx(H,{className:l("icon-sm text-token-text-secondary inline align-middle transition-transform",s&&"rotate-90")}),ae=({counters:s})=>e.jsx(e.Fragment,{children:(s.queries>0||s.sources>0)&&e.jsxs(e.Fragment,{children:[s.queries>0&&e.jsx(d,{id:"JPkpiw",defaultMessage:"{queriesCount} searches",values:{queriesCount:s.queries}}),s.queries>0&&s.sources>0&&e.jsxs(e.Fragment,{children:[" Â·"," "]}),s.sources>0&&e.jsx(d,{id:"QnBAXR",defaultMessage:"{sourcesCount} sources",values:{sourcesCount:s.sources}})]})});export{xe as C,P as S,ee as a,g as b};
//# sourceMappingURL=dsi8v49vpimk6dsy.js.map
