import{j as e,r as i,A as D,m as w,h,M as c,f as L,p as U,u as G,e as I,n as H}from"./juy90og0wtbp77qa.js";import{aC as N,cz as R,eW as z,a7 as k,jX as Y,ag as F,P as u,B as x,bg as W,e as X,cU as Z,eJ as V,ds as $}from"./dc2xxjkicf2pz0mj.js";import{e as K,aP as q,aK as J,ag as Q,kd as ee,iG as te}from"./ckp56qklot786ulr.js";import{S as ae}from"./ejiu40t686c7js51.js";import{a as se}from"./newpkknsbld1ryi8.js";import{c as ne}from"./iej0cupg2dqkmejt.js";import{u as ie,m as oe}from"./chyo79tmbp42x8r3.js";import{G as ce}from"./jvtznjxt6nyjx1my.js";function re({children:t}){return e.jsxs("div",{className:"flex min-h-screen w-full flex-col",children:[e.jsx("div",{className:"m-4 flex gap-3",children:e.jsx(R,{className:"icon-xl"})}),e.jsx("div",{className:"m-auto max-w-sm flex-col justify-center",children:t})]})}const b=N.h2`mb-2 text-2xl font-semibold`,E=N.p`mb-10 text-sm`,le=N.div`mb-10 text-sm`,de=t=>i.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},i.createElement("path",{d:"M4.4873 7.48535C4.96182 7.51072 5.41602 7.70177 5.81152 8.05957L6.0166 8.23926C6.07471 8.28708 6.12574 8.32516 6.17773 8.35547L6.30566 8.41699C6.44351 8.47329 6.61475 8.51386 6.83984 8.55566L7.13379 8.625C8.57693 9.03639 9.66195 10.4324 9.47656 12.0312L9.47754 12.0322L9.26953 14.5322L9.25879 14.6084C8.93099 16.2327 7.74481 17.332 6.12598 17.332H0.833008C0.465974 17.3319 0.168169 17.034 0.167969 16.667C0.168002 16.2998 0.465871 16.0021 0.833008 16.002H6.12598C7.0212 16.002 7.72234 15.4432 7.94824 14.3721L8.15234 11.9219L8.15527 11.8945C8.26663 11.0035 7.65436 10.1563 6.77539 9.90527L6.59668 9.86328C6.29073 9.80647 5.88287 9.72241 5.50781 9.50391C5.38507 9.43235 5.27268 9.3493 5.17383 9.26855L4.91895 9.0459C4.73321 8.87792 4.56396 8.82136 4.41602 8.81348C4.2589 8.8052 4.07338 8.84927 3.86914 8.96582C3.49971 9.17672 3.14867 9.58025 2.93945 10.0391L2.85938 10.2383C2.65499 10.8179 2.10136 11.4979 1.25 11.498H0.833008C0.465851 11.4979 0.167969 11.2002 0.167969 10.833C0.168153 10.466 0.465964 10.1681 0.833008 10.168H1.25C1.28684 10.1679 1.34296 10.1546 1.41504 10.0908C1.49065 10.0238 1.56138 9.91814 1.60449 9.7959L1.72461 9.49902C2.03584 8.81127 2.56618 8.17802 3.20996 7.81055C3.58437 7.5969 4.0219 7.46062 4.4873 7.48535ZM15.5957 7.48438C16.0495 7.46663 16.4743 7.61043 16.835 7.8252C17.5442 8.24764 18.118 9.00614 18.3955 9.79688L18.4326 9.88477C18.4741 9.96875 18.5284 10.0406 18.585 10.0908C18.6571 10.1546 18.7131 10.168 18.75 10.168H19.167L19.3008 10.1816C19.6039 10.2435 19.8319 10.5117 19.832 10.833C19.832 11.1545 19.6039 11.4225 19.3008 11.4844L19.167 11.498H18.75C18.0049 11.498 17.4877 10.9775 17.2334 10.458L17.1406 10.2373C16.9523 9.70056 16.5613 9.21019 16.1543 8.96777C15.9567 8.85014 15.7843 8.80715 15.6475 8.8125C15.5539 8.81621 15.4505 8.84301 15.3379 8.91895L15.2217 9.0127C15.1156 9.11267 14.9669 9.25838 14.7861 9.39062L14.5957 9.51562C14.3239 9.67396 14.0362 9.75976 13.7822 9.81445L13.541 9.86035C12.5641 10.0288 11.8278 10.8613 11.834 11.7217L11.8447 11.8945L11.8477 11.9219L12.0508 14.374C12.2766 15.4439 12.9791 16.0019 13.874 16.002H19.167L19.3008 16.0146C19.604 16.0765 19.832 16.3455 19.832 16.667C19.8319 16.9883 19.6039 17.2565 19.3008 17.3184L19.167 17.332H13.874C12.3564 17.332 11.2184 16.3658 10.8125 14.9062L10.7412 14.6084L10.7305 14.5322L10.5225 12.0322L10.5234 12.0312C10.3208 10.2767 11.7325 8.8226 13.3154 8.5498L13.5078 8.5127C13.6841 8.47432 13.8177 8.43005 13.9258 8.36719L14.0068 8.3125C14.0889 8.25185 14.1781 8.16879 14.3096 8.04492L14.4541 7.91895C14.798 7.64474 15.1882 7.50034 15.5957 7.48438ZM5.40527 3.5498C5.6514 3.34333 6.00383 3.34593 6.24609 3.53809L6.34277 3.63184L7.41406 4.90918L7.48926 5.02051C7.63648 5.29241 7.57801 5.63912 7.33203 5.8457C7.08575 6.05224 6.73346 6.04992 6.49121 5.85742L6.39453 5.76367L5.32324 4.4873L5.24805 4.37598C5.10069 4.10401 5.15917 3.75642 5.40527 3.5498ZM13.9922 3.53809C14.2343 3.34612 14.5859 3.34382 14.832 3.5498C15.1134 3.78588 15.1501 4.20596 14.9141 4.4873L13.8428 5.76367C13.6067 6.04484 13.1875 6.08172 12.9062 5.8457C12.6252 5.60968 12.5885 5.19045 12.8242 4.90918L13.8955 3.63184L13.9922 3.53809ZM10.1152 1.83496C10.4824 1.83509 10.7803 2.13281 10.7803 2.5V4.16699C10.7801 4.53403 10.4823 4.83191 10.1152 4.83203C9.74819 4.8319 9.45037 4.53403 9.4502 4.16699V2.5C9.4502 2.13281 9.74808 1.83509 10.1152 1.83496Z"})),ue={hidden:{opacity:0,translateY:50},show:{opacity:1,translateY:0,transition:{staggerChildren:.5,delayChildren:.2}}},me={hidden:{opacity:0,translateY:50},show:{opacity:1,translateY:0,transition:{type:"spring",damping:14}}};function _({isTrial:t}){return e.jsx("div",{className:"mb-6 flex items-center justify-center gap-2",children:e.jsx(D,{children:e.jsx(w.div,{variants:ue,initial:"hidden",animate:"show",className:"flex",children:e.jsx(w.div,{variants:me,children:t?e.jsx(de,{className:"h-8"}):e.jsx(ae,{className:"h-8"})})})})})}function pe({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0}){const n=h();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(c,{...P.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(c,{...P.workspaceNameDescription})})]}),e.jsx(z,{ariaLabel:!1,type:"text",name:"workspace-name",placeholder:n.formatMessage(P.exampleTeamWorkspaceName),value:t,onChange:r=>a(r.target.value),maxLength:64})]})}const P=L({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function ge({onNext:t}){const a=k();return a?e.jsx(xe,{onNext:t,currentAccount:a}):e.jsx(Y,{})}function xe({onNext:t,currentAccount:a}){const s=h(),n=F(),r=K(),m=a.data,f=q(s,a,r),[o,S]=i.useState(f||""),[T]=U(),g=T.get("account_id"),C=ie(g??a.data.id),p=i.useCallback(async()=>{if(!a)return;const l=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",l);try{o!==m.name&&(await C.mutateAsync({name:o}),u.logEvent("Account Pay: Create Workspace Modal Renamed",l)),t()}catch{n.warning(s.formatMessage(oe.saveError),{hasCloseButton:!0})}},[a,m.name,s,t,C,n,o]);return i.useEffect(()=>{if(!a)return;const l=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",l)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,{...J.nameWorkspace})}),e.jsx(le,{children:e.jsx(pe,{workspaceName:o,onChangeWorkspaceName:S,showHeader:!1})}),e.jsx(x,{loading:C.isPending||a==null,onClick:()=>{p()},disabled:o.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})}var B=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(B||{});const y=["landing","naming","invite","caOnboarding","complete"],he={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})};function fe(){const t=G(),a=I(),{currentPath:s,currentStep:n}=ye(),r=Q(),m=h(),f=F(),[o,S]=i.useState(1),[T]=U(),g=T.get("account_id"),C=X();i.useEffect(()=>{function l(){S(-1)}return window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}},[]);const p=()=>{S(1);let l=y.indexOf(n);const j=y[l+1],A=j==="caOnboarding"?V(C,"555825174").get("enabled",!1):!1;j==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:g,experimentFlag:A}),(j==="naming"||j==="caOnboarding"&&!A)&&l++;const O=l+1;g&&a("/"),l!==-1&&O<y.length&&a(s+"#"+y[O])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(D,{mode:"wait",custom:o,children:[n==="landing"&&e.jsx(v,{initial:!1,custom:o,children:e.jsx(Ce,{onNext:p})},"landing"),n==="naming"&&e.jsx(v,{initial:!1,custom:o,children:e.jsx(ge,{onNext:p})},"naming"),n==="invite"&&e.jsx(v,{custom:o,children:e.jsx(je,{onNext:p})},"invite"),n==="caOnboarding"&&e.jsx(v,{custom:o,children:e.jsx(be,{onNext:p})},"caOnboarding"),n==="complete"&&e.jsx(v,{custom:o,children:e.jsx(Se,{onNext:()=>{p(),g&&Z(t,g,r,m,f),a("/")}})},"complete")]})})}const v=t=>e.jsx(w.div,{initial:"enter",animate:"center",exit:"exit",variants:he,transition:{translateX:{type:"just"},opacity:{duration:.2}},...t});function Ce({onNext:t}){const a=k(),s=i.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",n)},[a]);return i.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Payment Confirmation Modal Show",n)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(_,{isTrial:!1}),e.jsx(b,{children:e.jsx(c,{...d.standard})}),e.jsx(E,{children:e.jsx(c,{...d.description})}),e.jsx(x,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})}function je({onNext:t}){const a=h(),s=k(),{data:n}=ee(),r=i.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return i.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",r)},[r,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,{...d.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(c,{...d.completeDescription})}),e.jsx(se,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(d.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const ve="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",ke="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function be({onNext:t}){const a=h(),s=k(),[n,r]=i.useState(!1),[m,f]=i.useState(!1);return i.useEffect(()=>{if(!s)return;const o=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",o)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:ve,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>f(!0)}),!m&&e.jsx("img",{src:ke,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(d.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(d.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(x,{onClick:()=>r(!0),icon:$,size:"large",fullWidth:!0,children:a.formatMessage(d.caOnboardingConnectButton)}),e.jsx(x,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(d.skipCaOnboarding)})]}),n&&e.jsx(ce,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:o=>{r(!1),o&&t()}})]})}function Se({onNext:t}){const a=k(),s=i.useMemo(()=>a?.subscriptionAnalyticsParams,[a]);i.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,{...d.completeTitle})}),e.jsx(E,{children:e.jsx(c,{...d.completeDescription})}),e.jsx(x,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(c,{...d.continueToChatgpt})})]})}function ye(){const{hash:t,pathname:a,search:s}=H(),n=t.slice(1);return{currentStep:Me(n)?n:"landing",currentPath:a+s}}const Me=ne(B),d=L({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function De({isTrial:t,isTeam:a}){const s=h(),n=I(),r=i.useCallback(m=>{m.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(re,{children:[e.jsx(te,{children:e.jsx("title",{children:s.formatMessage(M.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(fe,{}):e.jsx(Te,{isTrial:t,onContinue:r})})]})}function Te({isTrial:t,onContinue:a}){const s=t?M.trial:M.standard;return e.jsxs(e.Fragment,{children:[e.jsx(_,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(b,{children:e.jsx(c,{...s})}),e.jsx(E,{children:e.jsx(c,{...M.paymentReceived})}),e.jsx(x,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(c,{...W.continueButtonText})})]})]})}const M=L({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{De as P};
//# sourceMappingURL=h8ajx9hn4vb5kvcb.js.map
