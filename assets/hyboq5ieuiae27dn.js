import{ar as D,kY as h,dS as $e,e as He,i7 as Ke,ag as Ge,aG as Je,k as ze,D as oe,bg as Xe,iN as Ze,j6 as Qe}from"./dc2xxjkicf2pz0mj.js";import{R as f,j as s,M as U,h as Y,r as S,f as we,x as he,e as et,O as tt}from"./juy90og0wtbp77qa.js";import{d as rt,a7 as Ae,oU as ge,oV as xe,oW as nt}from"./ckp56qklot786ulr.js";import{S as st}from"./bl4i5r660el81wwx.js";import{u as ot}from"./na95db8kfrfbx9l9.js";import{i as ve}from"./d034xbm9q6zngtej.js";import"./nc631yunytu8n0fx.js";const F=f.forwardRef(({children:r},e)=>s.jsx("div",{ref:e,className:"flex flex-col gap-4",children:r}));F.displayName="CheckoutFormSection";function J({className:r,title:e}){return s.jsx("div",{className:D("font-medium",r),children:s.jsx(U,{...e})})}function ye({errors:r,shouldShowErrors:e}){return s.jsx("div",{className:"mt-1 text-[0.93rem] text-[#df1b41]",style:{transition:"height 0.35s ease 0s"},children:e&&r.map(t=>s.jsx("p",{children:t},t))})}function be(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Se(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?be(Object(t),!0).forEach(function(n){Me(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function z(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(e){return typeof e}:z=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(r)}function Me(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function at(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function Pe(r,e){if(r==null)return{};var t=at(r,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ae(r,e){return it(r)||ct(r,e)||lt(r,e)||ut()}function it(r){if(Array.isArray(r))return r}function ct(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],o=!0,a=!1,i,u;try{for(t=t.call(r);!(o=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,u=l}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function lt(r,e){if(r){if(typeof r=="string")return Ce(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(r,e)}}function Ce(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=function(e,t,n){var o=!!n,a=f.useRef(n);f.useEffect(function(){a.current=n},[n]),f.useEffect(function(){if(!o||!e)return function(){};var i=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,i),function(){e.off(t,i)}},[o,t,e,a])},X=function(e){var t=f.useRef(e);return f.useEffect(function(){t.current=e},[e]),t.current},V=function(e){return e!==null&&z(e)==="object"},dt=function(e){return V(e)&&typeof e.then=="function"},ft=function(e){return V(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ke="[object Object]",Ne=function r(e,t){if(!V(e)||!V(t))return e===t;var n=Array.isArray(e),o=Array.isArray(t);if(n!==o)return!1;var a=Object.prototype.toString.call(e)===ke,i=Object.prototype.toString.call(t)===ke;if(a!==i)return!1;if(!a&&!n)return e===t;var u=Object.keys(e),l=Object.keys(t);if(u.length!==l.length)return!1;for(var v={},j=0;j<u.length;j+=1)v[u[j]]=!0;for(var y=0;y<l.length;y+=1)v[l[y]]=!0;var m=Object.keys(v);if(m.length!==u.length)return!1;var A=e,I=t,_=function(k){return r(A[k],I[k])};return m.every(_)},mt=function(e,t,n){return V(e)?Object.keys(e).reduce(function(o,a){var i=!V(t)||!Ne(e[a],t[a]);return n.includes(a)?(i&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),o):i?Se(Se({},o||{}),{},Me({},a,e[a])):o},null):null},Te="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ee=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;if(e===null||ft(e))return e;throw new Error(t)},pt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;if(dt(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(o){return Ee(o,t)})};var n=Ee(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},ht=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Re=f.createContext(null);Re.displayName="ElementsContext";var gt=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};h.any,h.object;h.func.isRequired;var xt=["on","session"],ee=f.createContext(null);ee.displayName="CheckoutSdkContext";var Le=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},le=f.createContext(null);le.displayName="CheckoutContext";var vt=function(e,t){if(!e)return null;e.on,e.session;var n=Pe(e,xt);return Object.assign(t||e.session(),n)},yt="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Fe=function(e){var t=e.stripe,n=e.options,o=e.children,a=f.useMemo(function(){return pt(t,yt)},[t]),i=f.useState(null),u=ae(i,2),l=u[0],v=u[1],j=f.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,checkoutSdk:null}}),y=ae(j,2),m=y[0],A=y[1],I=function(d,p){A(function(b){return b.stripe&&b.checkoutSdk?b:{stripe:d,checkoutSdk:p}})},_=f.useRef(!1);f.useEffect(function(){var c=!0;return a.tag==="async"&&!m.stripe?a.stripePromise.then(function(d){d&&c&&!_.current&&(_.current=!0,d.initCheckout(n).then(function(p){p&&(I(d,p),p.on("change",v))}))}):a.tag==="sync"&&a.stripe&&!_.current&&(_.current=!0,a.stripe.initCheckout(n).then(function(d){d&&(I(a.stripe,d),d.on("change",v))})),function(){c=!1}},[a,m,n,v]);var C=X(t);f.useEffect(function(){C!==null&&C!==t&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[C,t]);var k=X(n),L=X(m.checkoutSdk);f.useEffect(function(){var c,d;if(m.checkoutSdk){var p=k==null||(c=k.elementsOptions)===null||c===void 0?void 0:c.appearance,b=n==null||(d=n.elementsOptions)===null||d===void 0?void 0:d.appearance,T=!Ne(b,p),H=!L&&m.checkoutSdk;b&&(T||H)&&m.checkoutSdk.changeAppearance(b)}},[n,k,m.checkoutSdk,L]),f.useEffect(function(){ht(m.stripe)},[m.stripe]);var P=f.useMemo(function(){return vt(m.checkoutSdk,l)},[m.checkoutSdk,l]);return m.checkoutSdk?f.createElement(ee.Provider,{value:m},f.createElement(le.Provider,{value:P},o)):null};Fe.propTypes={stripe:h.any,options:h.shape({fetchClientSecret:h.func.isRequired,elementsOptions:h.object}).isRequired};var bt=function(e){var t=f.useContext(ee);return Le(t,e)},ie=function(e){var t=f.useContext(ee),n=f.useContext(Re);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Le(t,e):gt(n,e)},te=function(){bt("calls useCheckout()");var e=f.useContext(le);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},St=["mode"],Ct=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e,t){var n="".concat(Ct(e),"Element"),o=function(l){var v=l.id,j=l.className,y=l.options,m=y===void 0?{}:y,A=l.onBlur,I=l.onFocus,_=l.onReady,C=l.onChange,k=l.onEscape,L=l.onClick,P=l.onLoadError,c=l.onLoaderStart,d=l.onNetworksChange,p=l.onConfirm,b=l.onCancel,T=l.onShippingAddressChange,H=l.onShippingRateChange,B=ie("mounts <".concat(n,">")),W="elements"in B?B.elements:null,N="checkoutSdk"in B?B.checkoutSdk:null,We=f.useState(null),de=ae(We,2),O=de[0],qe=de[1],R=f.useRef(null),re=f.useRef(null);M(O,"blur",A),M(O,"focus",I),M(O,"escape",k),M(O,"click",L),M(O,"loaderror",P),M(O,"loaderstart",c),M(O,"networkschange",d),M(O,"confirm",p),M(O,"cancel",b),M(O,"shippingaddresschange",T),M(O,"shippingratechange",H),M(O,"change",C);var ne;_&&(e==="expressCheckout"?ne=_:ne=function(){_(O)}),M(O,"ready",ne),f.useLayoutEffect(function(){if(R.current===null&&re.current!==null&&(W||N)){var E=null;if(N)switch(e){case"payment":E=N.createPaymentElement(m);break;case"address":if("mode"in m){var me=m.mode,pe=Pe(m,St);if(me==="shipping")E=N.createShippingAddressElement(pe);else if(me==="billing")E=N.createBillingAddressElement(pe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":E=N.createExpressCheckoutElement(m);break;case"currencySelector":E=N.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else W&&(E=W.create(e,m));R.current=E,qe(E),E&&E.mount(re.current)}},[W,N,m]);var fe=X(m);return f.useEffect(function(){if(R.current){var E=mt(m,fe,["paymentRequest"]);E&&"update"in R.current&&R.current.update(E)}},[m,fe]),f.useLayoutEffect(function(){return function(){if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}}},[]),f.createElement("div",{id:v,className:j,ref:re})},a=function(l){ie("mounts <".concat(n,">"));var v=l.id,j=l.className;return f.createElement("div",{id:v,className:j})},i=t?a:o;return i.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,options:h.object},i.displayName=n,i.__elementType=e,i},x=typeof window>"u",kt=f.createContext(null);kt.displayName="EmbeddedCheckoutProviderContext";var Et=function(){var e=ie("calls useStripe()"),t=e.stripe;return t};g("auBankAccount",x);g("card",x);g("cardNumber",x);g("cardExpiry",x);g("cardCvc",x);g("fpxBank",x);g("iban",x);g("idealBank",x);g("p24Bank",x);g("epsBank",x);var jt=g("payment",x);g("expressCheckout",x);g("currencySelector",x);g("paymentRequestButton",x);g("linkAuthentication",x);var It=g("address",x);g("shippingAddress",x);g("paymentMethodMessaging",x);g("affirmMessage",x);g("afterpayClearpayMessage",x);const _t=["AM","AT","AU","BE","BG","CA","CH","CL","CY","CZ","DE","DK","EE","EG","ES","FI","FR","GB","GE","GR","HR","HU","IE","IN","IS","IT","KE","KR","LI","LT","LU","LV","MD","MT","NL","NO","NZ","PL","PT","RO","SA","SE","SG","SI","SK","TH","TR","TW","TZ","UA","ZA"];function Ot(r){return _t.includes(r)}function wt(r){const e=Object.values(ge).filter(n=>n.country===r),t=new Set(e.map(n=>n.region));return Object.values(ge).filter(n=>t.has(n.region))}const Ue=r=>{switch(r){case"ca_gst_hst":return"CA GST/HST";case"ca_pst_bc":return"CA PST-BC";case"ca_pst_mb":return"CA PST-MB";case"ca_pst_sk":return"CA PST-SK";default:return r.replace("_"," ").toUpperCase()}},At=({country:r,type:e,description:t})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1.5 pe-1 font-medium",children:[s.jsx("img",{src:`https://cdn.openai.com/API/images/flags/png/${r}@2x.png`,alt:e,className:"h-4 w-4"}),Ue(e)]}),s.jsx("span",{className:"block text-sm text-gray-500",children:t})]}),Be=f.forwardRef(({billingCountry:r},e)=>{const t=te(),n=Y(),[o,a]=f.useState(!0),[i,u]=f.useState(!1),[l,v]=f.useState({businessName:"",taxIdType:null,taxIdValue:""}),[j,y]=f.useState(null),m=S.useMemo(()=>rt(C=>{C()},500),[]),A=S.useCallback(()=>i?l.businessName.trim()?l.taxIdType?l.taxIdValue.trim()?(y(null),!0):(y(n.formatMessage({id:"CheckoutForm.errorMessageTaxIdValueRequired",defaultMessage:"Tax ID is required"})),!1):(y(n.formatMessage({id:"CheckoutForm.errorMessageTaxIdTypeRequired",defaultMessage:"Please select a tax ID type"})),!1):(y(n.formatMessage({id:"CheckoutForm.errorMessageBusinessNameRequired",defaultMessage:"Business name is required"})),!1):(y(null),!0),[l,n,i]),I=S.useCallback(async()=>{let C=null;if(i){const k=l.taxIdType?.stripe_type;if(!k)return!1;C={taxId:{type:k,value:l.taxIdValue},businessName:l.businessName}}if($e(t.taxIdInfo,C))return!0;{const k=await t.updateTaxIdInfo(C);return k.type==="error"?(y(k.error.message),!1):!0}},[i,l,t]);return f.useImperativeHandle(e,()=>({validate:A,update:async()=>(m.cancel(),await I())}),[I,A,m]),S.useEffect(()=>{o&&l.taxIdValue.trim()?a(!1):o||m(async()=>{A()&&await I()})},[o,l,i,A,I,m]),S.useMemo(()=>Ot(r??""),[r])?s.jsxs(f.Fragment,{children:[s.jsx(F,{children:s.jsx(Ae,{id:"subscription-tax-id",label:s.jsx("div",{className:"Text-color--gray600 text-[13px]",children:s.jsx(U,{id:"CheckoutForm.purchaseAsBusinessLabel",defaultMessage:"I'm purchasing as business"})}),checked:i,onChange:C=>{u(C.target.checked)}})}),i&&s.jsxs(F,{children:[s.jsx(J,{title:{id:"CheckoutForm.headingVATInformation",description:"Heading for the section of the checkout where we collect VAT information",defaultMessage:"VAT information"}}),s.jsx(Mt,{billingCountry:r,taxInfoFields:l,setTaxInfoFields:v}),j&&s.jsx("div",{className:"mt-1 text-[0.93rem] text-[#df1b41]",style:{transition:"height 0.35s ease 0s"},children:j})]})]}):null});Be.displayName="CheckoutTaxIdCollectionFormFull";const Mt=({billingCountry:r,taxInfoFields:e,setTaxInfoFields:t})=>{const n=Y(),o=S.useMemo(()=>wt(r??"").map(u=>({label:At(u),value:u,sortKey:Ue(u.type),placeholder:u.placeholder})).toSorted((u,l)=>u.sortKey<l.sortKey?-1:1),[r]),a=S.useMemo(()=>{const i=o.find(u=>u.value===e.taxIdType);return i===void 0?null:i},[o,e]);return S.useEffect(()=>{if(a==null&&o.length>0){const i=o.find(u=>u.value.country===r)??o[0];t(u=>({...u,taxIdType:i.value}))}},[r,a,t,o]),s.jsxs("div",{className:"tax-id-form flex flex-col gap-2",children:[s.jsx("div",{className:"form-row",children:s.jsx("input",{type:"text",id:"businessName",style:{width:"100%",borderRadius:"0.5rem",border:"1px solid #e0e0e0",padding:"0.5rem"},value:e.businessName,onChange:i=>t(u=>({...u,businessName:i.target.value})),placeholder:n.formatMessage(se.businessNamePlaceholder)})}),s.jsx("div",{className:"form-row",children:s.jsx(st,{placeholder:n.formatMessage(se.taxIdTypePlaceholder),options:o,value:a,onChange:i=>{t(u=>({...u,taxIdType:i?.value??null}))},isSearchable:!1})}),s.jsx("div",{className:"form-row",children:s.jsx("input",{type:"text",id:"taxId",style:{width:"100%",borderRadius:"0.5rem",border:"1px solid #e0e0e0",padding:"0.5rem"},value:e.taxIdValue,onChange:i=>t(u=>({...u,taxIdValue:i.target.value})),placeholder:a?.placeholder??n.formatMessage(se.taxIdPlaceholder)})})]})},se=we({taxIdPlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdPlaceholder",defaultMessage:"Tax ID"},taxIdTypePlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdTypePlaceholder",defaultMessage:"Tax type"},businessNamePlaceholder:{id:"CheckoutTaxIdCollectionForm.businessNamePlaceholder",defaultMessage:"Business name"}}),Pt="3950229590",Nt="is_layout_accordion_enabled",Tt="is_layout_accordion_expanded",Rt="is_layout_show_card_terms";function Lt({className:r}){const e=te(),t=He(),n=Y(),o=Ke(),a=Ge(),[i,u]=S.useState(e?.billingAddress?.address.country??null),[l]=S.useState(!!e?.email),[v,j]=S.useState(null),y=S.useRef(null),m=S.useRef(null),A=S.useRef(null),I=S.useRef(null),_=S.useRef(null),C=S.useRef(null),k=S.useMemo(()=>Ft(t),[t]);async function L(){const c=C.current;return!c||!c.validate()?!1:await c.update()}const P=ot({defaultValues:{email:e?.email??"",hasAcceptedTermsOfService:!1,hasCompletePaymentElement:!1,hasCompleteBillingAddress:!1},validators:{onChange:({value:c})=>{const d={},{hasAcceptedTermsOfService:p,hasCompleteBillingAddress:b,hasCompletePaymentElement:T}=c;return p||(d.hasAcceptedTermsOfService=n.formatMessage({id:"CheckoutForm.inputLabelTermsOfServiceRequired",defaultMessage:"Agree to OpenAI, LLC's terms to complete your transaction."})),b||(d.hasCompleteBillingAddress=n.formatMessage({id:"CheckoutForm.inputLabelBillingAddressRequired",defaultMessage:"Your billing address is required."})),T||(d.hasCompletePaymentElement=n.formatMessage({id:"UBzTsj",defaultMessage:"Your payment method is required."})),{fields:d}},onBlur:({value:c})=>{const d={},{email:p}=c;return p||(d.email=n.formatMessage({id:"CheckoutForm.inputLabelEmailRequired",defaultMessage:"Your email is required."})),{fields:d}},onBlurAsync:async({value:c})=>{const d={},{email:p}=c;if(e.email!==p){const b=await e.updateEmail(p);if(b.type==="error")switch(b.error.code){case"incompleteEmail":d.email=n.formatMessage({id:"CheckoutForm.inputLabelEmailIncomplete",defaultMessage:"Your email is incomplete."});break;case"invalidEmail":d.email=n.formatMessage({id:"CheckoutForm.inputLabelEmailInvalid",defaultMessage:"Your email is invalid."});break}}return{fields:d}}},canSubmitWhenInvalid:!0,onSubmitInvalid:async({formApi:c})=>{e?.canConfirm||await e.confirm(),await L();const p=(c.getFieldMeta("email")?.errors??[]).length>0,T=(c.getFieldMeta("hasAcceptedTermsOfService")?.errors??[]).length>0,B=(c.getFieldMeta("hasCompletePaymentElement")?.errors??[]).length>0,N=(c.getFieldMeta("hasCompleteBillingAddress")?.errors??[]).length>0;p?(y.current?.scrollIntoView({behavior:"smooth",block:"center"}),m.current?.focus({preventScroll:!0})):B?I.current?.scrollIntoView({behavior:"smooth",block:"center"}):N?_.current?.scrollIntoView({behavior:"smooth",block:"center"}):T&&A.current?.scrollIntoView({behavior:"smooth",block:"center"})},onSubmit:async()=>{try{if(!await L())return;const d=await e.confirm({redirect:"always"});switch(d.type){case"success":a.success(n.formatMessage({id:"CheckoutForm.bannerMessagePaymentSuccess",defaultMessage:"Payment successfully processed"}));break;case"error":oe.addError("Failed to process Stripe checkout",{error:d.error}),j(d.error.message??n.formatMessage({id:"CheckoutForm.bannerMessagePaymentFailure",defaultMessage:"Failed to process payment"}));break}}catch(c){a.danger(Xe.somethingWentWrong,{toastId:"checkout_form"}),oe.addError(c)}}});return s.jsx("form",{className:D(r),onSubmit:c=>{c.preventDefault(),P.handleSubmit()},children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs(F,{ref:y,children:[o?s.jsx(J,{title:he({id:"CheckoutForm.headingContactInformation",defaultMessage:"Contact information"})}):null,s.jsx(P.Field,{name:"email",children:c=>{const p=c.getMeta().errors.length>0&&(c.getMeta().isBlurred||c.getMeta().isPristine);return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:c.name,className:"flex flex-col",children:[s.jsx("span",{className:"color-[rgb(48, 49, 61)] mb-[0.25rem] text-[0.93rem]",children:s.jsx(U,{id:"CheckoutForm.inputLabelEmail",defaultMessage:"Email"})}),s.jsx("input",{ref:m,id:c.name,disabled:l,name:c.name,onBlur:c.handleBlur,onChange:b=>{c.setMeta(T=>({...T,isBlurred:!1})),c.handleChange(b.target.value)},type:"email",value:c.state.value,className:D("color-[rgb(48, 49, 61)] animate-stripeInputShow rounded-[5px] p-3 outline-none focus:border-white",{"bg-[rgb(247,247,247)]":l,"border-[#df1b41] shadow-none focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":p,"border-[#e6e6e6] shadow-[0px_1px_1px_rgba(0,0,0,0.03),_0px_3px_6px_rgba(0,0,0,0.02)] focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":!p}),style:{transition:"background 0.15s ease, border 0.15s ease, box-shadow 0.15s ease, color 0.15s ease",backgroundColor:l?"rgb(247,247,247)":""}})]}),s.jsx(ye,{errors:c.state.meta.errors.filter(b=>!xe(b)),shouldShowErrors:p})]})}})]}),s.jsxs(F,{ref:I,children:[s.jsx(J,{title:he({id:"CheckoutForm.headingPaymentMethod",defaultMessage:"Payment method"})}),s.jsx(P.Field,{name:"hasCompletePaymentElement",children:c=>s.jsx(jt,{options:k,onChange:({complete:d})=>c.handleChange(d)})})]}),s.jsxs(F,{ref:_,children:[s.jsx(J,{title:{id:"CheckoutForm.headingBillingAddress",defaultMessage:"Billing address",description:"Heading for the section of the checkout where we collect contact information"}}),s.jsx(P.Field,{name:"hasCompleteBillingAddress",children:c=>s.jsx(It,{options:{mode:"billing"},onChange:({complete:d,value:p})=>{c.handleChange(d),u(p.address.country)}})})]}),s.jsx(Be,{billingCountry:i,ref:C}),s.jsx(F,{ref:A,children:s.jsx(P.Field,{name:"hasAcceptedTermsOfService",children:c=>{const d=c.state.meta.isTouched&&c.state.meta.errors.length>0;return s.jsxs("div",{children:[s.jsx(Ae,{id:"subscription-tos",className:"self-start",style:{borderColor:d?"#df1b41":void 0},checked:c.state.value,onChange:p=>c.handleChange(p.currentTarget.checked),label:s.jsx(Ut,{})}),s.jsx(ye,{errors:c.state.meta.errors.filter(p=>!xe(p)),shouldShowErrors:d})]})}})}),v&&s.jsx("div",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-[13px] text-red-700",children:v}),s.jsx(P.Subscribe,{children:c=>s.jsx("button",{disabled:c.isSubmitting,type:"submit",className:D("flex h-[44px] items-center justify-center rounded-md border-none bg-[rgb(16,163,117)] p-0 font-medium shadow-[inset_0_0_0_1px_rgba(50,50,93,0.1),0_2px_5px_0_rgba(50,50,93,0.1),0_1px_1px_0_rgba(0,0,0,0.07)] outline-none",{"text-[rgba(255,255,255,1)]":c.isValid,"text-[rgba(255,255,255,0.6)]":!c.isValid}),children:c.isSubmitting?s.jsx(Je,{}):s.jsx(U,{id:"CheckoutForm.buttonSubscribe",defaultMessage:"Subscribe"})})})]})})}function Ft(r){const e=ze(r,Pt),t=e.get(Nt,!1),n=e.get(Tt,!1),o=e.get(Rt,!0);let a={};return o||(a={card:"never"}),t?{layout:{type:"accordion",defaultCollapsed:!n,radios:!0,spacedAccordionItems:!1},terms:a}:{layout:{type:"tabs"},terms:a}}function Ut(){return s.jsx("div",{className:"Text-color--gray600 text-[13px]",children:s.jsx(U,{id:"CheckoutForm.termsLabel",defaultMessage:"You'll be charged the amount and at the frequency listed above until you cancel. We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. You can <cancelAnytimeLink>cancel any time</cancelAnytimeLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:r=>s.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:r}),cancelAnytimeLink:r=>s.jsx("a",{className:"Terms-link",href:"https://help.openai.com/en/articles/7232927-how-do-i-cancel-my-chatgpt-plus-subscription",rel:"noopener noreferrer",target:"_blank",children:r}),privacyPolicyLink:r=>s.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:r})}})})}const Bt="/assets/logo-c8firrye.webp",Dt={src:Bt};function Vt({className:r}){const e=et();return s.jsxs("button",{type:"button",onClick:()=>e("/"),className:D("group relative flex w-[100px] items-center focus:outline-none",r),children:[s.jsx("div",{className:"flex items-center text-[hsla(0,0%,10%,0.4)] group-hover:text-[hsla(0,0%,10%,0.8)] lg:absolute lg:-start-5 lg:top-1",children:s.jsx(Ze,{className:"icon-sm me-1.5 transition-colors duration-100 ease-in-out"})}),s.jsx("img",{src:Dt.src,alt:"",className:"w-full"})]})}function ue({amountMinorUnits:r,currency:e}){const t=r/100;return new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(t)}function Yt({className:r}){return s.jsxs("div",{className:r,children:[s.jsx(Vt,{className:"mb-5 lg:mb-8"}),s.jsx(Wt,{className:"mb-7"}),s.jsx(qt,{})]})}function Wt({className:r}){const e=te(),t=e.lineItems[0].name,n=ue({amountMinorUnits:e.total.total.minorUnitsAmount,currency:e.currency}),o=(e.discountAmounts||[]).filter(i=>i.recurring?.type!=="forever").length>0,a=e.recurring?.interval??"not_recurring";return s.jsxs("div",{className:D("text-center lg:text-start",r),children:[s.jsx("div",{className:"Text-color--gray500 font-medium",children:s.jsx(U,{...w.checkoutHeadingForSubscription,values:{lineItem:t}})}),s.jsxs("div",{className:"font-semibold",children:[s.jsx("span",{className:"me-2 text-[28px] lg:text-[36px]",children:n}),s.jsx("span",{className:"Text-color--gray500 text-[14px]",children:s.jsx(U,{...w.periodPrice,values:{interval:a,hasExpiringDiscounts:o?"discounted":"none"}})})]})]})}function qt(){const r=te(),e=Y(),t=r.currency,n=r.total.subtotal.minorUnitsAmount-r.total.discount.minorUnitsAmount-r.total.taxInclusive.minorUnitsAmount,o=r.lineItems.map(i=>{const u=Gt(i);return s.jsx($,{amountMinorUnits:i.subtotal.minorUnitsAmount,currency:t,subtitle:u?e.formatMessage(u):"",title:i.name},i.id)}),a=(r.discountAmounts??[]).map((i,u)=>s.jsx(Kt,{discount:i,currency:t},u));return s.jsxs("div",{className:"flex flex-col gap-[16px]",children:[o,s.jsx(je,{}),s.jsx($,{amountClassName:"font-semibold",amountMinorUnits:r.total.subtotal.minorUnitsAmount,currency:t,title:e.formatMessage(w.subtotal)}),a,s.jsx($t,{currency:t,taxAmounts:r.taxAmounts??[],taxExclusiveAmount:n}),s.jsx(je,{}),s.jsx($,{amountClassName:"text-base font-semibold",amountMinorUnits:r.total.total.minorUnitsAmount,currency:t,title:e.formatMessage(w.totalDueToday)})]})}function $t({taxAmounts:r,currency:e,taxExclusiveAmount:t}){const n=Y();return ve(r)?s.jsx($,{amountMinorUnits:0,currency:e,title:n.formatMessage(w.tax)}):r.map(o=>{const a=ve(o.displayName)?n.formatMessage(w.tax):o.displayName,l=(o.minorUnitsAmount/t*100).toFixed(1).replace(/\.?0+$/,""),v=`${a} (${l}%)`;return s.jsx($,{amountMinorUnits:o.minorUnitsAmount,currency:e,title:v},v)})}function $({amountClassName:r,amountMinorUnits:e,currency:t,subtitle:n,title:o}){return s.jsxs("div",{className:"flex justify-between text-[14px]",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:o}),n?s.jsx("span",{className:"Text-color--gray400 text-[12px]",children:n}):null]}),s.jsx("span",{className:r,children:ue({amountMinorUnits:e,currency:t})})]})}function Ht(r,e){let t;const n=(e.percentOff??0)/100,o=e.amount,a=e.recurring,i=a?.type==="repeating"?a.durationInMonths:null;return e.recurring&&e.recurring.type==="repeating"?t=n?w.discountPercentOffRecurring:w.fixedAmountOffRecurring:e.recurring?t=n?w.discountPercentOffIndefinite:w.fixedAmountOffIndefinite:t=n?w.discountPercentOffOnce:w.fixedAmountOffOnce,r.formatMessage(t,{formattedAmount:o,percentOff:n,durationInMonths:i})}function Kt({discount:r,currency:e}){const t=Y(),n=r.displayName,o=-1*r.minorUnitsAmount,a=Ht(t,r);return s.jsxs("div",{className:"flex justify-between text-[14px]",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"rounded-md bg-gray-100 px-2 py-2 font-medium",children:[s.jsx(nt,{className:"icon-sm relative top-0.5 float-start me-1"}),n]}),a?s.jsx("span",{className:"Text-color--gray400 text-[12px]",children:a}):null]}),s.jsx("span",{children:ue({amountMinorUnits:o,currency:e})})]})}function je(){return s.jsx("div",{className:"Border-top-gray50"})}function Gt(r){if(r.recurring)switch(r.recurring.interval){case"month":return w.billingPeriodMonthly;case"year":return w.billingPeriodYearly;default:return oe.addError("unexpected_interval_for_line_item",{interval:r.recurring.interval}),null}return null}const w=we({checkoutHeadingForSubscription:{id:"InvoiceSummary.checkoutHeadingForSubscription",defaultMessage:"Subscribe to {lineItem}"},periodPrice:{id:"InvoiceSummary.periodPrice",defaultMessage:"{interval, select, month {per month} year {per year} other {}}{hasExpiringDiscounts, select, discounted { until coupon expires} other {}}"},billingPeriodMonthly:{id:"InvoiceSummary.billingPeriodMonthly",defaultMessage:"Billed monthly"},billingPeriodYearly:{id:"InvoiceSummary.billingPeriodYearly",defaultMessage:"Billed yearly"},subtotal:{id:"InvoiceSummary.subtotal",defaultMessage:"Subtotal"},totalDueToday:{id:"InvoiceSummary.totalDueToday",defaultMessage:"Total due today"},tax:{id:"InvoiceSummary.tax",defaultMessage:"Tax"},discountPercentOffIndefinite:{id:"InvoiceSummary.discountPercentOffIndefinite",defaultMessage:"{percentOff, number, ::percent} off"},discountPercentOffOnce:{id:"InvoiceSummary.discountPercentOffOnce",defaultMessage:"{percentOff, number, ::percent} off for a month"},discountPercentOffRecurring:{id:"InvoiceSummary.discountPercentOffRecurring",defaultMessage:"{percentOff, number, ::percent} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"},fixedAmountOffIndefinite:{id:"InvoiceSummary.fixedAmountOffIndefinite",defaultMessage:"{formattedAmount} off"},fixedAmountOffOnce:{id:"InvoiceSummary.fixedAmountOffOnce",defaultMessage:"{formattedAmount} off for a month"},fixedAmountOffRecurring:{id:"InvoiceSummary.fixedAmountOffRecurring",defaultMessage:"{formattedAmount} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"}}),Jt=()=>Et()?s.jsxs("div",{className:"checkout-page flex h-full flex-col items-center gap-12 overflow-y-auto bg-white px-4 lg:flex-row lg:items-start lg:justify-center lg:gap-0 lg:px-0",children:[s.jsx("div",{className:"flex w-full justify-center pt-4 lg:min-h-full lg:flex-1 lg:justify-end lg:pe-20 lg:pt-12 lg:pb-12",children:s.jsx(Yt,{className:"w-full max-w-[380px]"})}),s.jsx("div",{className:"pb-12 lg:min-h-full lg:flex-1 lg:ps-20 lg:pt-12 lg:shadow-[15px_0_30px_0_rgba(0,0,0,0.18)]",children:s.jsx(Lt,{className:"w-full max-w-[380px]"})})]}):null;function Z(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z=function(e){return typeof e}:Z=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(r)}var De="basil",zt=function(e){return e===3?"v3":e},Ve="https://js.stripe.com",Xt="".concat(Ve,"/").concat(De,"/stripe.js"),Zt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Ie="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",er=function(e){return Zt.test(e)||Qt.test(e)},tr=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ve,'"]')),t=0;t<e.length;t++){var n=e[t];if(er(n.src))return n}return null},_e=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Xt).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},rr=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:t})},q=null,K=null,G=null,nr=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},sr=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},or=function(e){return q!==null?q:(q=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(Ie),window.Stripe){t(window.Stripe);return}try{var o=tr();if(o&&e)console.warn(Ie);else if(!o)o=_e(e);else if(o&&G!==null&&K!==null){var a;o.removeEventListener("load",G),o.removeEventListener("error",K),(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=_e(e)}G=sr(t,n),K=nr(n),o.addEventListener("load",G),o.addEventListener("error",K)}catch(i){n(i);return}}),q.catch(function(t){return q=null,Promise.reject(t)}))},ar=function(e,t,n){if(e===null)return null;var o=t[0],a=o.match(/^pk_test/),i=zt(e.version),u=De;a&&i!==u&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,t);return rr(l,n),l},Oe=function(e){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||Z(e)!=="object")throw new Error(t);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(t)},Q,ce=!1,Ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ce=!0;var o=Date.now();return or(Q).then(function(a){return ar(a,t,o)})};Ye.setLoadParameters=function(r){if(ce&&Q){var e=Oe(r),t=Object.keys(e),n=t.reduce(function(o,a){var i;return o&&r[a]===((i=Q)===null||i===void 0?void 0:i[a])},!0);if(n)return}if(ce)throw new Error("You cannot change load parameters after calling loadStripe");Q=Oe(r)};const pr=Qe(function(){const e=tt(),t=e.publishable_key,n=S.useMemo(()=>Ye(t,{betas:["custom_checkout_beta_6"],locale:"auto"}),[t]);switch(e.tag){case"hosted_checkout_session":return window.location.href=e.url,null;case"custom_checkout_session":{const o=e.client_secret;return s.jsx(Fe,{stripe:n,options:{fetchClientSecret:()=>Promise.resolve(o),elementsOptions:{appearance:{rules:{".Input--invalid":{boxShadow:"none"}}}}},children:s.jsx(Jt,{})})}}});export{pr as default};
//# sourceMappingURL=hyboq5ieuiae27dn.js.map
