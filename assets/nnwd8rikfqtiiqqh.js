const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ji7hrklqfjcia1xv.js","assets/juy90og0wtbp77qa.js","assets/dc2xxjkicf2pz0mj.js","assets/root-fv49dn40.css","assets/newpkknsbld1ryi8.js","assets/ckp56qklot786ulr.js","assets/conversation-small-j9iamy23.css","assets/d3y72ugnrmac5z1v.js","assets/mis8yzi96lqq0oku.js","assets/bl4i5r660el81wwx.js","assets/nc631yunytu8n0fx.js"])))=>i.map(i=>d[i]);
import{ag as Xn,R as It,ar as rs,a7 as ls,lU as dr,g as bl,aG as Ja,cW as qs,f6 as kl,cs as wn,c as yl,m9 as Sl,C as xl,by as Hs,aF as Xe,dG as mr,en as zn,B as ya,as as Cl,at as Tl,e as wl,al as El,b0 as Al,hJ as Rl,j6 as Ol}from"./dc2xxjkicf2pz0mj.js";import{d as wa,h as Ke,u as Ea,a as $n,f as jt,j as c,r as a,R as oe,X as pr,e as fr,M as _e,p as Ml}from"./juy90og0wtbp77qa.js";import{dW as gr,aF as Pl,e4 as Nl,pP as Aa,pQ as Il,e as jl,lm as is,pR as os,e5 as Dl,iH as Gs,a5 as ne,iF as cs,a6 as _l,d as us,dl as ds,M as Ll,U as Fl,c1 as Ul,pS as Bl,a8 as Wl,iG as Vl}from"./ckp56qklot786ulr.js";import{m as hr}from"./myuoqhr3nyh6gclq.js";import{G as ql}from"./ldijey3djvgs6gk2.js";import{T as Hl,a as Gl}from"./bq1weg8hkyprwt4p.js";import{a as zl,c as Yl,u as Xl}from"./nun3xvf89dudjv6n.js";import"./icu9d2zdwlcy45kn.js";import"./btouzu0b6h5eiejj.js";import"./o6wb3ptvu0bk81yq.js";import"./dmfmxszxfbs8gsbx.js";import"./iacposgqe14fuloa.js";import"./o7zrzew6ugefv8n2.js";import"./abebcwj1m9mup3z6.js";import"./nqj34k5dky4x5suq.js";import"./hort3ndd4wla0a2j.js";import"./jsgl3b1bt1ozctr5.js";import"./ck00y48d3yzt8bq3.js";import"./hczymk9ojq2shlcf.js";import"./hisrfv493df9w8hp.js";import"./g8shiwm7jpd74xmd.js";import"./iiyyoj0wgh5vo89i.js";import"./chyo79tmbp42x8r3.js";import"./ctoge6bibgzva9ta.js";import"./m36qabefvxegdn1g.js";const Pn=25;function $l(e,t,n){return wa({queryKey:["workspace",e,"invites",t,n],queryFn:async()=>await It.safeGet("/accounts/{account_id}/invites",{parameters:{path:{account_id:e},query:{offset:t,limit:Pn,query:n}}})})}function Kl(e,t,n){return wa({queryKey:["workspace",e,"invites","requests",t,n],queryFn:()=>It.safeGet("/accounts/{account_id}/invites",{parameters:{path:{account_id:e},query:{include_pending:!1,include_requests:!0,offset:t,limit:Pn,query:n}}})})}function vr(e){const t=Ke(),n=Xn(),s=Ea();return $n({mutationFn:({inviteId:r,role:i,acceptRequest:l})=>It.safePatch("/accounts/{account_id}/invites/{invite_id}",{parameters:{path:{account_id:e,invite_id:r}},requestBody:{role:i,accept_request:l}}).catch(o=>{n.danger(t.formatMessage(on.updateInviteError,{error:o.message}),{loggingTitle:on.updateInviteError.defaultMessage,toastId:"invite",loggingDescription:"Unable to update invite from workspace"})}),onSuccess:()=>{s.invalidateQueries({queryKey:["workspace",e,"invites"]}),s.invalidateQueries({queryKey:["workspace",e,"invites","requests"]}),s.invalidateQueries({queryKey:["workspace",e]})}})}function br(e){const t=Ke(),n=Xn(),s=Ea();return $n({mutationFn:({email:r})=>It.safeDelete("/accounts/{account_id}/invites",{parameters:{path:{account_id:e}},requestBody:{email_address:r}}).catch(i=>{n.danger(t.formatMessage(on.deleteInviteError,{email:r,error:i.message}),{loggingTitle:on.deleteInviteError.defaultMessage,toastId:"invite",loggingDescription:"Unable to remove user from workspace"})}),onSuccess:()=>{s.invalidateQueries({queryKey:["workspace",e,"invites"]}),s.invalidateQueries({queryKey:["workspace",e,"invites","requests"]})}})}function Jl(e){const t=Ke(),n=Xn(),s=Ea();return $n({mutationFn:({role:r,email:i})=>It.safePost("/accounts/{account_id}/invites",{parameters:{path:{account_id:e}},requestBody:{email_addresses:[i],role:r,resend_emails:!0}}).then(({account_invites:l,errored_emails:o})=>{if(o.length>0)throw new Error(o[0].error);l.length>0&&n.success(t.formatMessage(on.resendInviteSuccess,{email:i}))}).catch(l=>{n.danger(t.formatMessage(on.resendInviteError,{email:i,error:l.message}),{loggingTitle:on.resendInviteError.defaultMessage,toastId:"invite",loggingDescription:"Unable to resend invite to user"})}),onSuccess:()=>{s.invalidateQueries({queryKey:["workspace",e,"invites"]}),s.invalidateQueries({queryKey:["workspace",e,"invites","requests"]})}})}const on=jt({updateInviteError:{id:"WorkspaceInvites.updateInviteError",defaultMessage:"Unable to update invite from workspace: {error}"},deleteInviteError:{id:"WorkspaceInvites.deleteInviteError",defaultMessage:"Unable to remove user ({email}) from workspace: {error}"},resendInviteSuccess:{id:"WorkspaceInvites.resendInviteSuccess",defaultMessage:"Sent a new invite to {email}"},resendInviteError:{id:"WorkspaceInvites.resendInviteError",defaultMessage:"Unable to resend invite to ({email}) from workspace: {error}"}}),ms=({userName:e,isScimManaged:t,dotted:n=!1})=>c.jsxs("div",{className:"relative me-3",children:[c.jsx(gr,{user:{name:e,picture:null},size:"default",dotted:n}),t&&c.jsx("div",{className:"bg-token-bg-tertiary absolute -end-1 -bottom-1 rounded-full border-2 border-white p-0.25",children:c.jsx(Pl,{width:10,height:10})})]});let zs,Hn,Le=typeof window<"u"&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,An=e=>(t,n)=>"calc("+t+" + ("+n+" - "+t+") * "+e+")",et=typeof window<"u"?window.navigator.userAgent:null,Pt="unknown",Ee="unknown";if(typeof window<"u"&&navigator.userAgentData&&(navigator.userAgentData.brands.some(e=>e.brand==="Chromium")&&(Pt="chromium"),navigator.userAgentData.platform==="Android"&&(Ee="android")),Ee==="unknown"&&et?.match(/android/i)&&(Ee="android"),Pt==="unknown"&&(et?.match(/Chrome/i)?Pt="chromium":et?.match(/Firefox/i)?Pt="gecko":et?.match(/Safari|iPhone/i)&&(Pt="webkit")),Pt==="webkit"){if(et?.match(/iPhone/i))Ee="ios";else if(et?.match(/iPad/i))Ee="ipados";else if(et?.match(/Macintosh/i))try{document?.createEvent("TouchEvent"),Ee="ipados"}catch{Ee="macos"}}var kr={};kr={mapping:{Sheet:{componentName:"a",elementNames:{root:0,view:1,backdrop:2,backdropTrap:3,primaryScrollTrapRoot:4,secondaryScrollTrapRoot:5,scrollContainer:6,frontSpacer:7,backSpacer:8,detentMarker:9,contentWrapper:10,content:11,bleedingBackground:12,stickyContainer:13,sticky:14,leftEdge:15,trigger:16,handle:17,outlet:18},variationSetsNames:{openness:"A",staging:"B",opennessClosedStatus:"C",position:"D",positionCoveredStatus:"E",placement:"F",track:"G",swipeDisabled:"H",swipeOutDisabledWithDetent:"I",swipeOvershootDisabled:"J",bleedDisabled:"K",inertOutside:"L",backdropSwipeable:"M",scrollContainerShouldBePassThrough:"N",swipeTrap:"M"},variationValuesNames:{open:"a",opening:"b",closed:"c",closing:"d",none:"e",top:"f",bottom:"g",left:"h",right:"i",horizontal:"j",vertical:"k",front:"l",covered:"m",true:"o",false:"p",auto:"q",center:"r",pending:"s","flushing-to-preparing-open":"t","flushing-to-preparing-opening":"u","preparing-open":"v","preparing-opening":"x","safe-to-unmount":"y",content:"z",root:"aa","going-down":"ab","going-up":"ac",indeterminate:"ad",idle:"ae","come-back":"af",out:"ag",stepping:"ah",both:"ai",none:"aj"}},ScrollTrap:{componentName:"b",elementNames:{root:0,stabiliser:1},variationSetsNames:{active:"A",axis:"B",automaticallyDisabledForOptimisation:"C"},variationValuesNames:{true:"a",false:"b",horizontal:"e",vertical:"f",both:"g",none:"h"}},Scroll:{componentName:"c",elementNames:{root:0,view:1,scrollContainer:2,content:3,UAScrollbarMeasurer:4,spy:5,startSpacer:6,endSpacer:7},variationSetsNames:{axis:"A",contentPlacement:"B",scrollTrapX:"C",scrollTrapY:"D",scrollGestureOvershoot:"E",scrollDisabled:"F",side:"G",pageScroll:"H",overflowX:"I",overflowY:"J",skipScrollAnimation:"K",scrollAnchoring:"L",scrollSnapType:"M",scrollPadding:"N",scrollTimelineName:"O",nativeScrollbar:"P",scrollOngoing:"Q"},variationValuesNames:{true:"a",false:"b",x:"c",y:"d",both:"e",unset:"f",contain:"g",start:"h",end:"i",center:"j",auto:"k",default:"l",none:"m",mandatoryX:"n",mandatoryY:"o",proximityX:"p",proximityY:"q"}},SlideShow:{componentName:"d",elementNames:{},variationSetsNames:{},variationValuesNames:{}},VisuallyHidden:{componentName:"e",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SpecialWrapper:{componentName:"f",elementNames:{root:0,content:1},variationSetsNames:{},variationValuesNames:{}},Fixed:{componentName:"g",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SheetStack:{componentName:"h",elementNames:{root:0,outlet:1},variationSetsNames:{},variationValuesNames:{}},AutoFocusTarget:{componentName:"i",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}}}};let Ra=kr.mapping,Ql=e=>{var t;return(t=Ra[e].componentName)!==null&&t!==void 0?t:null},Zl=(e,t)=>{var n;return(n=Ra[e].elementNames[t])!==null&&n!==void 0?n:null},ei=(e,t)=>{var n;return(n=Ra[e].variationSetsNames[t])!==null&&n!==void 0?n:null},ti=(e,t)=>{var n;return(n=Ra[e].variationValuesNames[t])!==null&&n!==void 0?n:null},Ve=(e,t)=>a.useCallback((n,s=[],r)=>{var i,l;let o,u,d=(l=r==null||(i=r.dataSilk)===null||i===void 0?void 0:i.filter(Boolean).join(" "))!==null&&l!==void 0?l:"";{let f=Ql(e);if(o=f+Zl(e,n),t)for(let m=0;m<s.length;m++){let p=s[m],g=t[p],v=ei(e,p),k=ti(e,g);o+=g!=null?" "+f+v+k:""}u={className:r?.className,"data-silk":o+" "+d}}return u},[e,...t?Object.values(t):[]]),Wn=new WeakMap;var ni=typeof Float32Array=="function";function da(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function Ys(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function ai(e){return e}var si=function(e,t,n,s){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===s)return ai;for(var r=ni?new Float32Array(11):Array(11),i=0;i<11;++i)r[i]=da(.1*i,e,n);return function(l){return l===0||l===1?l:da(function(o){for(var u=0,d=1;d!==10&&r[d]<=o;++d)u+=.1;var f=u+(o-r[--d])/(r[d+1]-r[d])*.1,m=Ys(f,e,n);return m>=.001?function(p,g,v,k){for(var b=0;b<4;++b){var y=Ys(g,v,k);if(y===0)break;var C=da(g,v,k)-p;g-=C/y}return g}(o,f,e,n):m===0?f:function(p,g,v,k,b){var y,C,A=0;do(y=da(C=g+(v-g)/2,k,b)-p)>0?v=C:g=C;while(Math.abs(y)>1e-7&&++A<10);return C}(o,u,u+.1,e,n)}(l),t,s)}};let Sa=e=>typeof e=="string"?document.querySelector(e):e?.(),yr=(e,t)=>Array.isArray(e)?e.includes(t):e===t,Qa=e=>e?.getAttribute("data-silk-clone")==="true",ri=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),ln=e=>e instanceof HTMLInputElement&&!ri.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable,Xs=e=>e instanceof HTMLInputElement&&e.type==="color"||e instanceof HTMLSelectElement,ps=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,xa=()=>{var e;return window.innerHeight-200>((e=window.visualViewport)===null||e===void 0?void 0:e.height)};function Ct({nativeEvent:e,defaultBehavior:t,handler:n}){let s=t;if(n)if(typeof n=="function"){let r={...t,nativeEvent:e,changeDefault:function(i){s={...t,...i},Object.assign(this,i)}};r.changeDefault=r.changeDefault.bind(r),n(r)}else s={...t,...n};return s}function Sr(e){return(e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")?e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(s=>s.trim()).slice(0,3).map(s=>parseFloat(s)):null}let $s=e=>{let t=null;return e.startsWith("rgb(")||e.startsWith("rgba(")?t=Sr(e):e.startsWith("#")&&(t=function(n){let s=n.replace(/^#/,""),r=s.length===3?s.split("").map(u=>u+u).join(""):s;if(!/^[0-9A-Fa-f]{6}$/.test(r))return null;let i=parseInt(r.slice(0,2),16),l=parseInt(r.slice(2,4),16),o=parseInt(r.slice(4,6),16);return[i,l,o]}(e)),t},li=({color:e,overlays:t})=>{let n=[...e],s=t.length;for(let r=0;r<s;r++){let i=t[r],l=i.alpha;for(let o=0;o<3;o++)n[o]=(1-l)*n[o]+l*i.color[o]}return"rgb("+n.join(",")+")"},ii=e=>{a.useEffect(()=>{let t=()=>{xa()?e(!0):e(!1)};return t(),visualViewport.addEventListener("resize",t),()=>{visualViewport.removeEventListener("resize",t)}},[e])},oi=e=>e.matches('[data-silk~="0ad"]:not([data-silk~="0ai"]) *, [data-silk~="0ab"] *'),xr=e=>{let[t,n]=a.useState(!1),s=a.useCallback(r=>{e.current&&n(!!r&&!oi(e.current))},[e]);return ii(s),t},Cr=()=>Ee==="android"&&Pt==="chromium"&&typeof window<"u"&&!window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches,ci=()=>{var e,t,n;return typeof window<"u"&&window.navigator.standalone&&((e=document.querySelector("meta[name='viewport']"))===null||e===void 0?void 0:e.content.includes("viewport-fit=cover"))&&((t=document.querySelector("meta[name='apple-mobile-web-app-capable']"))===null||t===void 0?void 0:t.content)==="yes"&&((n=document.querySelector("meta[name='apple-mobile-web-app-status-bar-style']"))===null||n===void 0?void 0:n.content)==="black-translucent"},Xt=()=>Pt==="webkit",ui=()=>typeof document<"u"?document.querySelector('meta[name="theme-color"]'):null,Kn=({genericContext:e,customContext:t,value:n,children:s})=>t?c.jsx(t.Provider,{value:n,children:c.jsx(e.Provider,{value:n,children:s})}):c.jsx(e.Provider,{value:n,children:s});Kn.displayName="CustomisableContext";function Za(e){for(let t=0;t<e.length;t++)if(!e[t].matches('[data-silk~="0ad"]'))return e[t];return e[0]}let Tr=(e,t)=>{var n;let{safelyFocusableElements:s,safelyTabbableElements:r}=Oa(t,["[data-silk~='0ac']"]),i=X.autoFocusTargets.filter(m=>m.layerId==="any"||m.layerId===e),l=i.filter(m=>yr(m.timing,"present")),o=s.filter(m=>l.map(p=>p.element).includes(m)),u=Za(o),d=Za(r);((n=u??d)!==null&&n!==void 0?n:t).focus({preventScroll:!0})},Ks=(e,t,n)=>{let{focus:s}=Ct({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});s&&Tr(e,t)},di=(e,t,n,s)=>{if(!t.contains(document.activeElement)&&document.contains(document.activeElement))return;let{focus:r}=Ct({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});if(r){var i;let l=X.autoFocusTargets.filter(p=>p.layerId==="any"||p.layerId===e),o=l.filter(p=>yr(p.timing,"dismiss")&&!t.contains(p.element)),{safelyFocusableElements:u}=Oa(document.body),d=u.filter(p=>o.map(g=>g.element).includes(p)),f=Za(d);((i=f??s)!==null&&i!==void 0?i:document.body).focus({preventScroll:!0})}},Js=e=>{e.parentNode!=null&&e.parentNode.removeChild(e)},Qs=()=>{let e=document.createElement("div");return e.tabIndex=0,e.style.position="fixed",e.setAttribute("aria-hidden","true"),e.setAttribute("data-silk","0aa"),e},mi=e=>{let t=Qs(),n=Qs();return e.insertAdjacentElement("beforebegin",t),e.insertAdjacentElement("afterend",n),()=>{Js(t),Js(n)}},pi=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),Oa=(e,t=[])=>{let n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]:not([disabled])",...t],s=n.join(","),r=e?[...e.matches(s)?[e]:[],...e.querySelectorAll(s)]:[],i=[...t,"[aria-hidden='true']","[aria-hidden='true'] *","[inert]","[inert] *"],l=r.map(p=>({element:p,tabbable:p.matches(':not([hidden]):not([tabindex^="-"])'),skippable:p.matches(i.join(","))||!pi(p)})),o=l.filter(p=>!p.skippable),u=o.map(p=>p.element),d=l.filter(p=>p.tabbable),f=d.filter(p=>!p.skippable),m=f.map(p=>p.element);return{allFocusableElementsWithData:l,safelyFocusableElements:u,allTabbableElementsWithData:d,safelyTabbableElements:m}},wr=(e,t)=>{let{safelyTabbableElements:n,allTabbableElementsWithData:s,allFocusableElementsWithData:r}=Oa(e,["[data-silk~='0ac']"]),i=[...s],l=[...r];return t&&[i,l].forEach(o=>{o.unshift({element:e.previousElementSibling,tabbable:!0,skippable:!0}),o.push({element:e.nextElementSibling,tabbable:!0,skippable:!0})}),{safelyTabbableElements:n,allTabbableElementsWithGuardsWithData:i,allFocusableElementsWithGuardsWithData:l}},fi=(e,t)=>{let n;return(n=t.slice(0,e).reverse().find(s=>s.skippable===!1))||(n=t.slice(e+1-t.length).reverse().find(s=>s.skippable===!1)),n},Zs=(e,t)=>{let n;return(n=t.slice(e+1).find(s=>s.skippable===!1))||(n=t.slice(0,e).find(s=>s.skippable===!1)),n},gi=({rootElements:e,e:t,fromElement:n,toElement:s,fallbackElement:r})=>{if(!s)return;let i=[],l=[],o=[];e.forEach(b=>{let{safelyTabbableElements:y,allTabbableElementsWithGuardsWithData:C,allFocusableElementsWithGuardsWithData:A}=wr(b,!0);i=[...i,...y],l=[...l,...C],o=[...o,...A]});let u=l.findIndex(b=>b.element===n),d=l.findIndex(b=>b.element===s),f=l[d],m=o.findIndex(b=>b.element===s),p=!!s&&e.includes(s)&&s.getAttribute("tabindex")==="-1";if(m===-1&&!p){let b=e.find(y=>y.getAttribute("tabindex")==="-1");b?.focus()}if(f?.skippable){var g,v,k;i.length?i.length===1?n===i[0]?(t.preventDefault(),t.stopPropagation(),requestAnimationFrame(()=>n.focus())):i[0].focus():u?d<u?(v=fi(d,l))===null||v===void 0||v.element.focus():(k=Zs(d,l))===null||k===void 0||k.element.focus():(g=Zs(d,l))===null||g===void 0||g.element.focus():r?.focus()}},Er=(e,t,n,s,r)=>{var i;if(!((i=e.target)===null||i===void 0)&&i.matches("[data-silk-clone]"))return;let l=[],o=[];n.forEach(u=>{let{safelyFocusableElements:d,safelyTabbableElements:f}=Oa(u);l=[...l,...d],o=[...o,...f]}),n.includes(e.target)||l.includes(e.target)?e.target&&r(e.target):s?s.focus():o.length?o[0].focus():t.focus()},hi=(e,t)=>{var n;if(!((n=e.relatedTarget)===null||n===void 0)&&n.matches("[data-silk-clone]"))return;let s=va??e.target,r=Mn??e.relatedTarget;gi({rootElements:t,e,fromElement:s,toElement:r}),va=null,Mn=null},vi=(e,t,n,s,r)=>{let i=n.find(l=>l.contains(e.target));e.key!=="Tab"||i||(e.preventDefault(),e.stopPropagation(),Er(e,t,n,s,r))},va=null,Mn=null,bi=({rootElements:e,viewElement:t,elementFocusedLast:n,setElementFocusedLast:s})=>{let r=[];e.forEach(d=>{r.push(mi(d))});let i=function(d,f=document){let m=new Set(d),p=new Set,g=document.createTreeWalker(f,NodeFilter.SHOW_ELEMENT,{acceptNode:y=>(y instanceof HTMLElement&&y.dataset.liveAnnouncer==="true"&&m.add(y),y.tagName==="HEAD"||y.tagName==="SCRIPT"||m.has(y)||y.parentElement&&p.has(y.parentElement)?NodeFilter.FILTER_REJECT:y instanceof HTMLElement&&y.getAttribute("role")==="row"||d.some(C=>y.contains(C))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT)}),v=y=>{var C;let A=(C=Wn.get(y))!==null&&C!==void 0?C:0;(y.getAttribute("aria-hidden")!=="true"||A!==0)&&(A===0&&y.setAttribute("aria-hidden","true"),p.add(y),Wn.set(y,A+1))},k=g.nextNode();for(;k!=null;)v(k),k=g.nextNode();let b=new MutationObserver(y=>{for(let C of y)if(C.type==="childList"&&C.addedNodes.length!==0&&![...m,...p].some(A=>A.contains(C.target)))for(let A of C.addedNodes)A instanceof HTMLElement&&A.dataset.liveAnnouncer==="true"?m.add(A):A instanceof Element&&v(A)});return b.observe(f,{childList:!0,subtree:!0}),()=>{for(let y of(b.disconnect(),p)){let C=Wn.get(y);C===1?(y.removeAttribute("aria-hidden"),Wn.delete(y)):C!==void 0&&Wn.set(y,C-1)}}}(e,document),l=d=>hi(d,e),o=d=>Er(d,t,e,n,s),u=d=>vi(d,t,e,n,s);return document.addEventListener("keydown",u),document.addEventListener("focusout",l),document.addEventListener("focusin",o),()=>{document.removeEventListener("focusout",l),document.removeEventListener("focusin",o),document.removeEventListener("keydown",u),i(),r.forEach(d=>d())}},Ma=new Set,ki=e=>{Ma.add(e)},yi=e=>{Ma.delete(e)},Ar=(e,t,n,s)=>{let r=e[t],i=r.onClickOutside,l=r.dismissOverlayIfNotAlertDialog,o=r.viewElement,u=r.scrollContainerElement,d=r.backdropElement;if(u===s.target||d===s.target||!o?.contains(s.target)&&!n.find(f=>f.element.contains(s.target))&&function(f){for(let m of X.automaticLayerElements)if(m.contains(f))return!1;return!0}(s.target)){let f=!0,m=!0;if(i){let{dismiss:p,stopOverlayPropagation:g}=Ct({nativeEvent:s,defaultBehavior:{dismiss:!0,stopOverlayPropagation:!0},handler:i});f=p,m=g}f&&l&&l(),t>0&&!m&&Ar(e,t-1,n,s)}},es=null,Si=(e,t,n)=>{var s;if(Ma.size||!((s=e.target)===null||s===void 0)&&s.matches('[data-silk~="0ak"] *')||e.target===document.body&&es!==document.body||!e.target||!e.target.isConnected)return;let r=t.length;Ar(t,r-1,n,e),es=null},xi=(e,t)=>{let n=r=>es=r.target,s=r=>Si(r,e,t);return document.addEventListener("pointerdown",n),document.addEventListener("click",s),()=>{document.removeEventListener("pointerdown",n),document.removeEventListener("click",s)}},Rr=(e,t,n)=>{let s=e[t],r=s.onEscapeKeyDown,i=s.dismissOverlayIfNotAlertDialog,l=!0,o=!0,u=!0;if(r){let{dismiss:d,nativePreventDefault:f,stopOverlayPropagation:m}=Ct({nativeEvent:n,defaultBehavior:{nativePreventDefault:!0,dismiss:!0,stopOverlayPropagation:!0},handler:r});l=f,o=d,u=m}l&&n.preventDefault(),o&&i&&i(),t>0&&!u&&Rr(e,t-1,n)},Ci=(e,t)=>{if(e.key!=="Escape"||Ma.size)return;let n=t.length;Rr(t,n-1,e)},Ti=e=>{let t=n=>Ci(n,e);return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},wi=e=>(e.setAttribute("aria-hidden","true"),()=>e.removeAttribute("aria-hidden")),Ei=e=>{let{allTabbableElementsWithGuardsWithData:t}=wr(e);t.forEach(n=>{n.element.tabIndex=-1})},Ai=e=>{var t;return e instanceof HTMLInputElement&&(!!(e.type==="password"||e.type==="text"&&e.autocomplete==="username"||!((t=e.closest("form"))===null||t===void 0)&&t.querySelector('input[type="password"]'))||void 0)},Ri=e=>{var t,n;let s=e.getBoundingClientRect(),r=s.height,i=(n=(t=window.visualViewport)===null||t===void 0?void 0:t.height)!==null&&n!==void 0?n:0,l=i-s.bottom;return l>-r/2&&l<r+32},Ga=e=>{var t;return(t=e?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||t===void 0?void 0:t.matches('[data-silk~="0ah"]')},Oi=()=>{let e=r=>{let i=r.target;if(Ga(i)){var l;(l=i?.closest('[data-silk~="0ah"]'))===null||l===void 0||l.focus({preventScroll:!0}),document.removeEventListener("touchstart",e,{capture:!0})}},t=r=>{let i=r.target,l=r.relatedTarget;if(!l)return document.addEventListener("touchstart",e,{capture:!0,passive:!1});if(Ga(l)&&(Xs(l)&&document.addEventListener("touchstart",e,{capture:!0,passive:!1}),!(!ln(l)&&!Xs(l)||Qa(i))))if(!Ai(l)&&ln(i)&&Ri(i)){let o=i.cloneNode(!1);o.removeAttribute("id"),o.setAttribute("data-silk-clone","true"),o.style.setProperty("position","fixed"),o.style.setProperty("left","0"),o.style.setProperty("top","0"),o.style.setProperty("transform","translateY(-3000px) scale(0)"),document.documentElement.appendChild(o),Mn=l,o?.focus({preventScroll:!0}),setTimeout(()=>{va=i,Mn=l,l?.focus({preventScroll:!0}),o.remove()},32)}else Mn=l,l?.focus({preventScroll:!0})},n=r=>{var i;let l=r.target;!(l!==document.activeElement||!ln(l)||xa())&&Ga(l)&&((i=l?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||i===void 0||i.focus({preventScroll:!0}))},s=r=>{var i;let l=r.target;if(!l||!("setSelectionRange"in l)||!(["password","search","tel","text","url"].includes(l.type)||l instanceof HTMLTextAreaElement)||l._silk_focusedBefore===!0)return;let o=l.value.length;(i=l.setSelectionRange)===null||i===void 0||i.call(l,o,o),l._silk_focusedBefore=!0};return document.addEventListener("blur",t,{capture:!0,passive:!1}),document.addEventListener("touchstart",e,{capture:!0,passive:!0}),document.addEventListener("touchend",n,{capture:!0,passive:!0}),document.addEventListener("focusin",s),()=>{document.removeEventListener("blur",t,{capture:!0}),document.removeEventListener("touchend",n,{capture:!0}),document.removeEventListener("touchstart",e,{capture:!0}),document.removeEventListener("focusin",s)}},Or=["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mr=null,Pr=e=>{Mr=e},Mi={sheets:[],addSheet:function(e){let t;if(!e.id)return;let n=this.findSheet(e.id);return n?(e.stackId&&(n.stackId=e.stackId),e.sendToOpennessMachine&&(n.sendToOpennessMachine=e.sendToOpennessMachine),t=n):(t={stackingIndex:-1,travelAnimations:[],aggregatedTravelCallback:function(s,r){let i=this.travelAnimations;for(let l=0,o=i.length;l<o;l++)i[l].callback(s,r)},stackingAnimations:[],aggregatedStackingCallback:function(s,r){let i=this.stackingAnimations;for(let l=0,o=i.length;l<o;l++)i[l].callback(s,r)},belowSheetsInStack:[],outlets:new Set,...e},this.sheets.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},attemptToRemoveSheet:function(e,t){let n=this.findSheet(e);if(n)if(n.outlets.size===0){var s;let r=(s=this.findSheet(e))===null||s===void 0?void 0:s.stackId;this.sheets=this.sheets.filter(i=>i.id!==e),r&&this.updateSelfAndAboveTravelProgressSumInStack(r)}else t&&t(n)},attemptToRemoveSheetOrCleanup:function(e){this.attemptToRemoveSheet(e,t=>{t.sendToOpennessMachine=null})},findSheet:function(e){return this.sheets.find(t=>t.id===e)},addOutletToSheet:function(e,t){let n=this.findSheet(e);n?n.outlets.add(t):this.addSheet({id:e,outlets:new Set([t])})},removeOutletFromSheet:function(e,t){let n=this.findSheet(e);n?.outlets.delete(t),this.attemptToRemoveSheet(e)},sheetStacks:[],addSheetStack:function(e){let t;return this.findSheetStack(e.id)||(t={stackingAnimations:[],aggregatedStackingCallback:function(s,r){let i=this.stackingAnimations;for(let l=0,o=i.length;l<o;l++)i[l].callback(s,r)},...e},this.sheetStacks.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},removeSheetStack:function(e){e&&(this.sheetStacks=this.sheetStacks.filter(t=>t.id!==e),this.removeAllOutletPersistedStylesFromStack(e))},findSheetStack:function(e){return this.sheetStacks.find(t=>t.id===e)},updateBelowSheetsInStackOfAllSheets:function(){this.sheets.forEach(e=>{let t,n=e.stackId;if(n){t=this.findSheetStack(n);let s=this.sheets.filter(i=>i.stackId===e.stackId),r=s.filter(i=>i.stackId===e.stackId&&i.stackingIndex>e.stackingIndex);t&&(r.unshift(t),t.stackingIndex=s.length-1),e.belowSheetsInStack=r,this.updateSelfAndAboveTravelProgressSumInStack(n)}})},updateSheetStackingIndex:function(e,t){let n=this.findSheet(e);n&&(n.stackingIndex=t),this.updateBelowSheetsInStackOfAllSheets()},updateSheetTravelProgress:function(e,t){let n=this.findSheet(e);n&&n.stackId&&(n.travelProgress=t,this.updateSelfAndAboveTravelProgressSumInStack(n.stackId))},updateSelfAndAboveTravelProgressSumInStack:function(e){let t=this.sheets.filter(r=>r.stackId===e).sort((r,i)=>i.stackingIndex-r.stackingIndex),n=this.findSheetStack(e);n&&t.unshift(n);let s=t.length;for(let r=0;r<s;r++){let i=t[r];i.selfAndAboveTravelProgressSum=[];for(let l=0;l<s;l++)l<=r?i.selfAndAboveTravelProgressSum[l]=0:i.selfAndAboveTravelProgressSum[l]=t.slice(r+1,l+1).reduce((o,u)=>o+u.travelProgress,0)}},addAnimationToSheetOrStack:function({type:e,sheetId:t,stackId:n,element:s,config:r}){let i=r.hasOwnProperty("properties")?r.properties:r,l=[];Object.entries(i).forEach(([m,p])=>{if(p!=="ignore"&&p&&typeof p!="string")if(typeof p=="function")if(Or.includes(m)){let g=l.findIndex(k=>k[0]==="transform"),v=k=>m+"("+p(k)+")";if(g!==-1){let k=l[g][1];l[g][1]=b=>k(b)+" "+v(b)}else l.push(["transform",v])}else if(m==="transform"){let g=l.findIndex(v=>v[0]==="transform");if(g!==-1){let v=l[g][1];l[g][1]=k=>v(k)+" "+p(k)}else l.push(["transform",p])}else l.push([m,p]);else if(m==="opacity"){let g=["opacity",({tween:v})=>v(p[0],p[1])];l.push(g)}else{if(!m.startsWith("scale")&&(!isNaN(p[0])||!isNaN(p[1])))throw Error("Keyframe values used with a 'transform' property require a unit (e.g. 'px', 'em' or '%').");let g=l.findIndex(k=>k[0]==="transform"),v=({tween:k})=>m+"("+k(p[0],p[1])+")";if(g!==-1){let k=l[g][1];l[g][1]=b=>k(b)+" "+v(b)}else l.push(["transform",v])}});let o=l.map(m=>[(m[0].startsWith("webkit")||m[0].startsWith("moz")?"-":"")+m[0].replace(/[A-Z]/g,"-$&").toLowerCase(),m[1]]),u=o.length,d={target:s,config:l,dashedPropertiesAsArray:o,callback:(m,p)=>{for(let g=0;g<u;g++){let[v,k]=o[g];s.style.setProperty(v,k({progress:m,tween:p}))}}},f=n?this.findSheetStack(n):this.findSheet(t);f&&(e==="travel"?f.travelAnimations.push(d):f.stackingAnimations.push(d))},removeAnimationFromSheetOrStack:function({sheetId:e,stackId:t,type:n,element:s}){let r=t?this.findSheetStack(t):this.findSheet(e);if(r)if(n==="travel"){let i=r.travelAnimations.filter(l=>l.target!==s);r.travelAnimations=i}else{let i=r.stackingAnimations.filter(l=>l.target!==s);r.stackingAnimations=i}},removeAllOutletPersistedStylesFromSheet:function(e){let t=this.findSheet(e);t&&[...t.travelAnimations,...t.stackingAnimations].forEach(n=>{n.dashedPropertiesAsArray.forEach(([s])=>{n.target.style.removeProperty(s)})})},removeAllOutletPersistedStylesFromStack:function(e){let t=this.findSheetStack(e);t&&t.stackingAnimations.forEach(n=>{n.dashedPropertiesAsArray.forEach(([s])=>{n.target.style.removeProperty(s)})})},getAggregatedStackingCallbackForSheetsBelow:function(e){let t,n=this.findSheet(e);return n&&(t=s=>{let r=n.belowSheetsInStack,i=r.length;for(let l=0;l<i;l++){let o=r[l],u=o.selfAndAboveTravelProgressSum[i-1]+s,d=An(u);o.aggregatedStackingCallback(u,d)}}),t},automaticIslandElements:new Set([]),automaticLayerElements:new Set([]),automaticLayerAndIslandDetectionCleanup:null,focusContainmentRootElements:[],focusContainmentCleanup:()=>{},escapeKeyDownListenerCleanup:null,clickOutsideListenerCleanup:null,processLayersAndIslandsChangesTimeout:null,setupAutomaticLayerAndIslandDetection:function(e){let t=document.documentElement,n=document.body,s=()=>{let i,l=new Set([]),o=new Set([]),u=function(b){let y=b.parentElement;for(;y&&y!==document.body;){if(y.parentElement===document.body)return y;y=y.parentElement}return b.parentElement===document.body?b:null}(e);i=u?u.nextElementSibling:n.firstElementChild;let d=b=>b.matches('[data-silk~="0ag"], [data-silk~="0ab"], [data-silk~="0aa"], [data-silk-clone]'),f=b=>b.tagName!=="SCRIPT";for(;i;)!d(i)&&f(i)&&l.add(i),i=i.nextElementSibling;let m=t.children;for(let b=0;b<m.length;b++){let y=m[b];y.tagName==="HEAD"||y.tagName==="BODY"||d(y)||o.add(y)}let p=new Set([...l].filter(b=>!this.automaticLayerElements.has(b))),g=new Set([...this.automaticLayerElements].filter(b=>!l.has(b)));this.automaticLayerElements=l;let v=new Set([...o].filter(b=>!this.automaticIslandElements.has(b))),k=new Set([...this.automaticIslandElements].filter(b=>!o.has(b)));this.automaticIslandElements=o,p.forEach(b=>{this.updateLayer({automatic:!0,layerId:null,viewElement:b,inertOutside:!1,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},dismissOverlayIfNotAlertDialog:()=>{},onClickOutside:{stopOverlayPropagation:!1},onEscapeKeyDown:{stopOverlayPropagation:!1}})}),g.forEach(b=>this.removeLayer(null,b)),v.forEach(b=>this.addIsland({element:b,automatic:!0})),k.forEach(b=>this.removeIsland(null,b))};s();let r=new MutationObserver(()=>{s()});r.observe(t,{childList:!0}),r.observe(n,{childList:!0}),this.automaticLayerAndIslandDetectionCleanup=function(){r.disconnect(),this.layers.forEach(i=>{i.automatic&&this.removeLayer(null,i.viewElement)}),this.automaticLayerElements=new Set([]),this.islands.forEach(i=>{i.automatic&&this.removeIsland(null,i.element)}),this.automaticIslandElements=new Set([]),this.automaticLayerAndIslandDetectionCleanup=null}},moveFocusIfNecessary:function(e,t,n,s,r,i){let l=!1;for(let o=0;o<t.length;o++)if(t[o].contains(document.activeElement)){l=!0;break}if(n.length){let o=n.filter(u=>!u.automatic&&!u.external);if(o.length){let u=o[o.length-1];return Ks(u.layerId,u.viewElement,u.onPresentAutoFocus)}}if(r.length&&!l){let o=e[e.length-1];if(!o.external)return Ks(o.layerId,o.viewElement,o.onPresentAutoFocus)}if(s.length&&s.find(u=>u.focusWasInside)){let u=s[0];if(!u.external)return di(u.layerId,u.viewElement,u.onDismissAutoFocus,u.elementFocusedLastBeforeShowing)}if(i.length&&i.find(u=>u.focusWasInside)){let u=e[e.length-1];if(u)return Tr(u.layerId,u.viewElement)}},processLayersAndIslandsChanges:function(){var e;clearTimeout(this.processLayersAndIslandsChangesTimeout);let t=()=>{let s=this.layers.length,r=new Set([]),i;if(this.layers.some(m=>m.inertOutside)){this.islands.filter(p=>!p.componentId||p.componentId.length===0).forEach(p=>r.add(p.element));for(let p=s-1;p>=0;p--){let g=this.layers[p];if(g.external&&g.inertOutside){r=new Set([]);break}r.add(g.viewElement);let v=this.islands.filter(b=>b.componentId&&g.layerContextId&&b.componentId.includes(g.layerContextId)),k=this.islands.filter(b=>b.componentId&&g.layerStackContextId&&b.componentId.includes(g.layerStackContextId));if([...v,...k].forEach(b=>{r.add(b.element)}),g.inertOutside){i=g;break}i=g}}let o=[...r],u=!function(m,p){if(m.length!==p.length)return!1;let g=new Set;for(let v of m)g.add(v);for(let v of p)if(!g.has(v))return!1;return!0}(this.focusContainmentRootElements,o);if(this.focusContainmentRootElements=o,u){var d;this.focusContainmentCleanup(),this.focusContainmentCleanup=()=>{},(d=this.automaticLayerAndIslandDetectionCleanup)===null||d===void 0||d.call(this),i&&(this.setupAutomaticLayerAndIslandDetection(i?.viewElement),this.focusContainmentCleanup=bi({rootElements:this.focusContainmentRootElements,viewElement:i?.viewElement,elementFocusedLast:Mr,setElementFocusedLast:Pr}))}this.moveFocusIfNecessary(this.layers,this.focusContainmentRootElements,this.layersJustAdded,this.layersJustRemoved,this.layersJustWentToInertOutsideTrue,this.islandsJustRemoved),this.escapeKeyDownListenerCleanup&&(this.escapeKeyDownListenerCleanup(),this.escapeKeyDownListenerCleanup=null),this.clickOutsideListenerCleanup&&(this.clickOutsideListenerCleanup(),this.clickOutsideListenerCleanup=null),s>0&&(this.escapeKeyDownListenerCleanup=Ti(this.layers),this.clickOutsideListenerCleanup=xi(this.layers,this.islands));let f=this.layersJustRemoved.length;if(f)for(let m=0;m<f;m++){let p=this.layersJustRemoved[m],g=p.viewElement,v=p.automatic;g&&!v&&(wi(g),Ei(g))}this.islandsJustRemoved=[],this.layersJustAdded=[],this.layersJustRemoved=[],this.layersJustWentToInertOutsideTrue=[]};((e=this.layersJustAdded[this.layersJustAdded.length-1])===null||e===void 0?void 0:e.external)?t():this.processLayersAndIslandsChangesTimeout=setTimeout(t,16)},autoFocusTargets:[],addAutoFocusTarget:function({layerId:e,element:t,timing:n}){this.autoFocusTargets.push({layerId:e,element:t,timing:n})},removeAutoFocusTarget:function(e){this.autoFocusTargets=this.autoFocusTargets.filter(t=>t.element!==e)},islands:[],islandsJustRemoved:[],addIsland:function(e){var t;let n=this.islands[this.islands.length-1],s=((t=e.id)!==null&&t!==void 0?t:n)?n.id+1:0;return this.islands.push({...e,id:s}),this.processLayersAndIslandsChanges(),s},removeIsland:function(e,t){this.islands=this.islands.filter(n=>{if(e&&n.id&&n.id!==e||t&&n.element&&n.element!==t)return!0;{let s=n.element.contains(document.activeElement);return this.islandsJustRemoved.push({...n,focusWasInside:s}),!1}}),this.processLayersAndIslandsChanges()},layers:[],layersJustAdded:[],layersJustRemoved:[],layersJustWentToInertOutsideTrue:[],updateLayer:function(e){let t=e.layerId,n=e.viewElement,s=!1,r=this.layers;for(let l=0;l<r.length;l++){let o=r[l];if(t!==null?o.layerId===t:o.viewElement===n){let d={...o,...e};!o.inertOutside&&e.inertOutside&&this.layersJustWentToInertOutsideTrue.push(d),r[l]=d,s=!0;break}}if(!s){var i;let l={...e,elementFocusedLastBeforeShowing:(i=e.elementFocusedLastBeforeShowing)!==null&&i!==void 0?i:document.activeElement};r.push(l),this.layersJustAdded.push(l)}this.processLayersAndIslandsChanges()},removeLayer:function(e,t){var n;this.layers=this.layers.filter(s=>{if(e&&s.layerId&&s.layerId!==e||t&&s.viewElement&&s.viewElement!==t)return!0;{var r;let i=(r=s.viewElement)===null||r===void 0?void 0:r.contains(document.activeElement);return this.layersJustRemoved.push({...s,focusWasInside:i}),!1}}),this.layers.filter(s=>!s.automatic).length===0&&((n=this.automaticLayerAndIslandDetectionCleanup)===null||n===void 0||n.call(this)),this.processLayersAndIslandsChanges()},nativeFocusScrollPreventers:[],nativeFocusScrollPreventionCleanup:null,addNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers.push({id:e}),this.processNativeFocusScrollPreventersChanges()},removeNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers=this.nativeFocusScrollPreventers.filter(t=>t.id!==e),this.processNativeFocusScrollPreventersChanges()},processNativeFocusScrollPreventersChanges:function(){let e=this.nativeFocusScrollPreventers.length;if(Xt()&&(Ee==="ios"||Ee==="ipados"))if(e)this.nativeFocusScrollPreventionCleanup||(this.nativeFocusScrollPreventionCleanup=Oi());else{var t;(t=this.nativeFocusScrollPreventionCleanup)===null||t===void 0||t.call(this),this.nativeFocusScrollPreventionCleanup=null}},fixedComponents:[],addFixedComponent:function(e){this.fixedComponents.push(e)},updateFixedComponent:function(e){let t=this.fixedComponents.find(n=>n.id===e.id);t&&(e.element&&(t.element=e.element),e.initialInlineCSSTransform&&(t.initialInlineCSSTransform=e.initialInlineCSSTransform),typeof e.compensated=="boolean"&&(t.compensated=e.compensated))},removeFixedComponent:function(e){this.fixedComponents=this.fixedComponents.filter(t=>t.id!==e)},findActualFixedComponentsInsideOutlet:function(e){return this.fixedComponents.filter(t=>{if(t.element&&e)return e.contains(t.element)&&window.getComputedStyle(t.element).getPropertyValue("position")==="fixed"})},themeColorMetaTag:null,underlyingThemeColor:null,themeColorDimmingOverlays:[],storeThemeColorMetaTag:function(){if(this.themeColorMetaTag=ui(),!this.themeColorMetaTag){let e=document.createElement("meta");e.name="theme-color",e.content=window.getComputedStyle(document.body).backgroundColor,document.head.appendChild(e),this.themeColorMetaTag=e}},getAndStoreUnderlyingThemeColorAsRGBArray:function(){let e;if(this.themeColorDimmingOverlays.length>0)e=this.underlyingThemeColor;else{var t;this.themeColorMetaTag||this.storeThemeColorMetaTag();let n=(t=this.themeColorMetaTag)===null||t===void 0?void 0:t.content;(e=$s(n))||console.warn("`themeColorDimming` prop ignored: Only `theme-color` meta tag with a value in `rgb()`, `rgba()`, or hexadecimal format is supported."),this.underlyingThemeColor=e}return e},updateUnderlyingThemeColor:function(e){let t=$s(e);if(!t)throw Error("The color provided to `updateThemeColor` doesn't match `rgb()`, `rgba()`, or hexadecimal format.");this.underlyingThemeColor=t,this.setActualThemeColor()},setActualThemeColor:function(){var e;this.themeColorMetaTag||this.storeThemeColorMetaTag(),(e=this.themeColorMetaTag)===null||e===void 0||e.setAttribute("content",li({color:this.underlyingThemeColor,overlays:this.themeColorDimmingOverlays}))},findThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.find(t=>t.dimmingOverlayId===e)},findIndexThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.findIndex(t=>t.dimmingOverlayId===e)},updateThemeColorDimmingOverlay:function(e){let t=e;t.color&&(t={...t,color:Sr(t.color)});let n=this.findThemeColorDimmingOverlay(t.dimmingOverlayId);return n?Object.assign(n,t):(n=t,this.themeColorDimmingOverlays.push(t)),this.setActualThemeColor(),n},updateThemeColorDimmingOverlayAlphaValue:function(e,t){e.alpha=t,this.setActualThemeColor()},removeThemeColorDimmingOverlay:function(e){let t=this.findThemeColorDimmingOverlay(e);t&&(t.abortRemoval=!1,setTimeout(()=>{t?.abortRemoval||(this.themeColorDimmingOverlays=this.themeColorDimmingOverlays.filter(n=>n.dimmingOverlayId!==e),this.setActualThemeColor(),this.themeColorDimmingOverlays.length!==0||(this.underlyingThemeColor=null,this.themeColorMetaTag=null))},20))}};var X=Mi;let Nr=e=>{let t=a.useRef(null);return Le(()=>{t.current=e}),a.useCallback((...n)=>{let s=t.current;return s(...n)},[])},fs=e=>e==="layout"?Le:a.useEffect,ts=e=>{var t=e?.lastIndexOf(":");return t===-1?"":e?.substring(t+1)},Pi=e=>{let t=[],n=[],s=(r,i,{partOfInitial:l})=>{Array.isArray(r)?r.forEach(o=>s(o,i,{partOfInitial:l})):(i+=(i?".":"")+r.name,l&&n.push(i+":"+r.initial),Object.entries(r.states).forEach(([o,u])=>{let d=i+":"+o;u.machine=i,u.path=d,u.reactive=!r.silentOnly,t.push(u),u.machines&&s(u.machines,d,{partOfInitial:l&&r.initial===o})}))};return s(e,"",{partOfInitial:!0}),[n,t]},er=(e,t)=>e.includes(":")?e:t.substring(0,t.lastIndexOf(":")+1)+e,tr=e=>{let t=e.split("."),n=[];return t.forEach((s,r)=>{let i=n[r-1],l=(i?i.full+".":"")+s,o=l.substring(0,l.lastIndexOf(":")),u=l.substring(l.lastIndexOf(":")+1);n.push({full:l,withoutState:o,state:u})}),n},Ni=({checkedPoolOfStates:e,referencePoolOfStates:t,callbackOnExclusion:n,callbackOnPresent:s})=>e.filter(i=>{let l=!0;return i.forEach(o=>{t.forEach(u=>{u.forEach(d=>{o.withoutState===d.withoutState&&(o.state!==d.state?(l=!1,n?.({decomposedCheckedState:i,checkedStatePiece:o,decomposedReferenceState:u,referenceStatePiece:d})):s({decomposedCheckedState:i,checkedStatePiece:o,decomposedReferenceState:u,referenceStatePiece:d}))})})}),l}),Ii=e=>{let[t,n]=Pi(e);return[t,(s,r)=>{let i,l=typeof r=="string"?r:r.type,o=[];n.forEach(E=>{s.includes(E.path)&&(!r.machine||r.machine===E.machine)&&E.messages&&Object.entries(E.messages).forEach(([j,G])=>{if(j===l){if(typeof G=="string")i=j,o.push(er(G,E.path));else for(let O of G)if(!O.guard||O.guard(s,r)){i=j,o.push(er(O.target,E.path));break}}})});let u=s.map(E=>tr(E)),d=o.map(E=>tr(E)),f=[],m=Ni({checkedPoolOfStates:u,referencePoolOfStates:d,callbackOnExclusion:({decomposedCheckedState:E})=>{f.push(E[E.length-1].full)},callbackOnPresent:({referenceStatePiece:E})=>{E.unchanged=!0}}),p=m.map(E=>E[E.length-1].full),g=[],v=[];d.forEach(E=>{E.forEach((j,G)=>{if(!j.unchanged){var O,B;G<E.length-1&&g.push(j.full);let P=n.find(_=>_.path===j.full);(O=P.machines)===null||O===void 0||(B=O.forEach)===null||B===void 0||B.call(O,_=>{let W=()=>{d.find(I=>I.find(U=>U.withoutState===`${P.path}.${_.name}`))||v.push(`${P.path}.${_.name}:${_.initial}`)};G<E.length-1?P.path+_.name!==E[G+1].withoutState&&W():W();let N=I=>{var U,te;(U=n.find(Y=>Y.path===I).machines)===null||U===void 0||(te=U.forEach)===null||te===void 0||te.call(U,Y=>{d.find(de=>de.find(He=>He.withoutState===`${P.path}.${Y.name}`))||v.push(`${I}.${Y.name}:${Y.initial}`),N(`${I}.${Y.name}:${Y.initial}`)})};N(`${P.path}.${_.name}:${_.initial}`)})}})});let k=[...o,...g,...v],b=[...p,...k],y=[...f,...k],C=n.filter(E=>y.includes(E.path)),A=C.some(E=>E.reactive);return{exitedStates:f,transitionTaken:i,enteredStates:k,nextStates:b,reactive:A}}]},ba=(e,t)=>e?.toStrings().filter(n=>n?.startsWith(t)).filter(n=>{var s;return!(!((s=n?.slice(t.length))===null||s===void 0)&&s.includes("."))})[0],nr=e=>{let[t,n]=a.useMemo(()=>Ii(e),[e]),s=a.useRef(),r=a.useRef([]),i=a.useRef([]),l=a.useRef([]),o=a.useRef([]),u=a.useRef(t),d=a.useRef({toStrings:()=>t,matches:v=>cn(t,v),lastMessageTreatedRef:s,exitActionsRef:r,transitionActionsRef:i,entryActionsRef:l,selectorsRef:o}),[f,m]=a.useState({...d.current,silent:d.current}),p=a.useRef([]),g=a.useCallback(v=>{p.current.push(v);let k=b=>{let{nextStates:y,exitedStates:C,transitionTaken:A,enteredStates:E,reactive:j}=n(u.current,p.current[0]),G=u.current;if(u.current=y,r.current.forEach(O=>{C.includes(O.state)&&(typeof O.guard=="function"?O.guard(G,p.current[0]):O.guard)&&O.callback(p.current[0],O.params)}),i.current.forEach(O=>{C.includes(O.state)&&O.transition===A&&(typeof O.guard=="function"?O.guard(G,p.current[0]):O.guard)&&O.callback(p.current[0],O.params)}),l.current.forEach(O=>{E.includes(O.state)&&(typeof O.guard=="function"?O.guard(G,p.current[0]):O.guard)&&O.callback(p.current[0],O.params)}),s.current=typeof p.current[0]=="string"?{type:p.current[0]}:p.current[0],p.current.shift(),p.current.length)k(j||b);else{let O=y.slice();d.current.toStrings=()=>O,d.current.matches=B=>cn(O,B),d.current.getValues=()=>[ts(O.toStrings)],o.current.forEach(B=>{let P=B.current.selection;B.current.toStrings=()=>[ba(d.current,P)],B.current.matches=_=>cn([ba(d.current,P)],_),B.current.getValues=()=>[ts(ba(d.current,P))]}),(b||j)&&m({...d.current,silent:d.current})}};p.current.length===1&&k()},[n]);return[f,g]},ji=(e,t,n,{message:s="",delay:r=null,...i}={delay:null})=>{a.useEffect(()=>{let l;return t.matches(n)&&(l=setTimeout(()=>e({type:"",...i}),r??0)),()=>{l&&clearTimeout(l)}},[t,n,r,e,s,i])},gt=(e,t,{shallow:n=!0}={})=>{let s=a.useMemo(()=>ba(e,t),[e,t]),r=a.useRef({lastMessageTreatedRef:e?.lastMessageTreatedRef,exitActionsRef:e?.exitActionsRef,transitionActionsRef:e?.transitionActionsRef,entryActionsRef:e?.entryActionsRef,toStrings:()=>[s],matches:l=>cn([s],l),selection:t,getValues:()=>[ts(s)]}),i=a.useRef(Symbol());return Le(()=>{e.selectorsRef.current.find(o=>o.id===i.current)||e.selectorsRef.current.push(r)},[]),a.useMemo(()=>({...r.current,silent:r.current}),[s])},cn=(e,t)=>Array.isArray(t)?t.some(n=>e.includes(n))||e.some(n=>t.some(s=>n?.startsWith(s)&&n?.charAt(s.length)===".")):e.includes(t)||e.some(n=>n?.startsWith(t)&&n?.charAt(t.length)==="."),L=(e,t,n)=>{let{state:s,callback:r,params:i,empty:l=!1}=n,o=!n.hasOwnProperty("guard")||n.guard,u=a.useMemo(()=>i?Object.values(i):[],[i]),d=a.useMemo(()=>t.entryActionsRef,[t]),f=fs(e==="before-paint"?"layout":"normal"),m=Nr(g=>{(g?.matches&&g?.matches(s)||!g?.matches&&cn(g,s))&&(typeof o=="function"&&o()||typeof o!="function"&&o)&&r(g.lastMessageTreatedRef.current,i)}),p=a.useRef(Symbol());f(()=>{if(!l)if(e==="immediate"){let g={id:p.current,state:s,guard:o,callback:r,params:i},v=d.current.findIndex(k=>k.id===p.current);v===-1?d.current.push(g):d.current[v]=g}else m(t)},e==="immediate"?[e,s,o,r,d,...u]:[e,m,t]),a.useEffect(()=>()=>{d.current=d.current.filter(g=>g.id!==p.current)},[])},le=(e,t)=>{let{state:n,transition:s,callback:r,params:i}=t,l=!t.hasOwnProperty("guard")||t.guard,o=a.useMemo(()=>i?Object.values(i):[],[i]),u=a.useMemo(()=>e.transitionActionsRef,[e]),d=a.useRef(Symbol());a.useEffect(()=>{let f={id:d.current,state:n,transition:s,guard:l,callback:r,params:i},m=u.current.findIndex(p=>p.id===d.current);m===-1?u.current.push(f):u.current[m]=f},[n,s,l,r,u,...o]),a.useEffect(()=>()=>{u.current=u.current.filter(f=>f.id!==d.current)},[])},Yt=(e,t,n)=>{let{state:s,callback:r,params:i}=n,l=!n.hasOwnProperty("guard")||n.guard,o=a.useMemo(()=>i?Object.values(i):[],[i]),u=a.useMemo(()=>t.exitActionsRef,[t]),d=fs("normal");Nr(m=>{(m?.matches&&m?.matches(s)||!m?.matches&&cn(m,s))&&(typeof l=="function"&&l()||typeof l!="function"&&l)&&r(m.lastMessageTreatedRef.current,i)});let f=a.useRef(Symbol());d(()=>{{let m={id:f.current,state:s,guard:l,callback:r,params:i},p=u.current.findIndex(g=>g.id===f.current);p===-1?u.current.push(m):u.current[p]=m}return()=>{}},[e,s,l,r,u,...o]),a.useEffect(()=>()=>{u.current=u.current.filter(m=>m.id!==f.current)},[])},tt=(e,t,n)=>{let{state:s,callback:r,params:i,name:l}=n,o=!n.hasOwnProperty("guard")||n.guard,u=i?Object.values(i):[],d=typeof e=="string"?e:e.start,f=typeof e=="string"?e:e.update,m=a.useRef(null);L("immediate",t,{state:s,guard:o,callback:a.useCallback(()=>{m.current=r(null,i)},[r,i]),params:i,empty:d!=="immediate"});let p=fs(f==="before-paint"?"layout":"normal"),g=a.useRef(!1);p(()=>{let v,k=t?.matches&&t?.matches(s)||!t?.matches&&cn(t,s)||s==="",b=typeof o=="function"&&o()||typeof o!="function"&&o;return k&&b&&(v=d==="immediate"?g.current?r(null,i):m.current:r(null,i)),k&&!g.current&&(g.current=!0),()=>{var y;((y=t.silent)===null||y===void 0?void 0:y.matches(s))||(g.current=!1,m.current=null),v?.()}},[s!==""?t:null,s,o,r,...u])},Di=e=>{let t=a.useRef({value:e}),[n,s]=a.useState({value:e,silent:t.current}),r=a.useCallback(i=>{let l=typeof i=="function"?i(t.current.value):i;t.current.value=l,s({value:l,silent:t.current})},[]);return[n,r]};function Ir(...e){return t=>e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}function nt(...e){return a.useCallback(Ir(...e),e)}var _i=(e,t)=>{let n=()=>{t?.()},s=i=>{i.preventDefault(),window.addEventListener("touchend",n,{once:!0})},r=e.current;return r.addEventListener("touchstart",s,{passive:!1}),()=>{r&&(r.removeEventListener("touchstart",s,{passive:!1}),window.removeEventListener("touchend",n))}};let za=!1,ar=0;function un(e){var t;if(a.useId!==void 0)return a.useId();let[n,s]=a.useState(za?++ar:null);return Le(()=>{n===null&&s(++ar)},[]),a.useEffect(()=>{za===!1&&(za=!0)},[]),(t=n)!==null&&t!==void 0?t:void 0}let qe=a.forwardRef((e,t)=>{let{children:n,...s}=e,r=a.Children.toArray(n),i=r.find(Fi);if(i){let l=i.props.children,o=r.map(u=>u!==i?u:a.Children.count(l)>1?a.Children.only(null):a.isValidElement(l)?l.props.children:null);return c.jsx(ns,{...s,ref:t,children:a.isValidElement(l)?a.cloneElement(l,void 0,o):null})}return c.jsx(ns,{...s,ref:t,children:n})});qe.displayName="Slot.Root";let ns=a.forwardRef((e,t)=>{let{children:n,...s}=e,r=function(i){var l,o;let u=(l=Object.getOwnPropertyDescriptor(i.props,"ref"))===null||l===void 0?void 0:l.get,d=u&&"isReactWarning"in u&&u.isReactWarning;return d?i.ref:(d=(u=(o=Object.getOwnPropertyDescriptor(i,"ref"))===null||o===void 0?void 0:o.get)&&"isReactWarning"in u&&u.isReactWarning)?i.props.ref:i.props.ref||i.ref}(n);return a.isValidElement(n)?a.cloneElement(n,{...function(i,l){let o={...l};for(let u in l){let d=i[u],f=l[u];/^on[A-Z]/.test(u)?d&&f?o[u]=(...p)=>{f(...p),d(...p)}:d&&(o[u]=d):u==="style"?o[u]={...d,...f}:u==="className"&&(o[u]=[d,f].filter(Boolean).join(" "))}return{...i,...o}}(s,n.props),ref:t?Ir(t,r):r}):a.Children.count(n)>1?a.Children.only(null):null});ns.displayName="Slot.Anonymous";let Li=({children:e})=>c.jsx(c.Fragment,{children:e});function Fi(e){return a.isValidElement(e)&&e.type===Li}let ma=0,jr=[0,0],as=!1,sr=()=>{clearTimeout(zs),as=!0,zs=setTimeout(()=>as=!1,50)},rr=()=>{as||window.scrollTo(...jr)},Dr=oe.forwardRef((e,t)=>{let{asChild:n,active:s=!0,automaticallyDisabledForOptimisation:r=!0,axis:i="both",preventBodyScroll:l,children:o,"data-silk":u,className:d,...f}=e,m=u?.includes("0ae"),p=a.useRef(null),g=nt(p,t);Le(()=>{if(jr=[window.screenX,window.scrollY],s&&l)if(ma===0){let y=window.innerWidth,C=document.documentElement.clientWidth,A=window.innerHeight,E=document.documentElement.clientHeight;document.body.style.setProperty("overflow","hidden");let j=`${y-C}px`,G=`${A-E}px`;document.querySelectorAll("[data-silk~='0al']").forEach(B=>{B.style.setProperty("--x-collapsed-scrollbar-thickness",j),B.style.setProperty("--y-collapsed-scrollbar-thickness",G)}),document.body.style.setProperty("padding-right",j),document.body.style.setProperty("padding-bottom",G),window.addEventListener("resize",sr),window.addEventListener("scroll",rr,{passive:!1}),ma++}else ma++;return()=>{if(s&&l&&--ma==0){let y=document.querySelectorAll("[data-silk~='0al']");document.body.style.removeProperty("overflow"),y.forEach(C=>{C.style.removeProperty("--x-collapsed-scrollbar-thickness"),C.style.removeProperty("--y-collapsed-scrollbar-thickness")}),document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-bottom"),window.removeEventListener("scroll",rr),window.removeEventListener("resize",sr)}}},[l,s]),a.useEffect(()=>{let y,C=p.current;return!m&&s&&C&&(y=new ResizeObserver(A=>{A.forEach(()=>{C.scrollTo(300,300)})})).observe(C,{box:"border-box"}),()=>{!m&&s&&C&&y&&(y.unobserve(C),y.disconnect())}},[s,m]);let v=a.useCallback(y=>{let C=y.currentTarget;C.scrollTo(300,300),Ee!=="ios"&&Ee!=="ipados"||CSS.supports("overscroll-behavior: contain")||(C.style.setProperty("overflow","hidden"),setTimeout(()=>{C.style.setProperty("overflow","auto")},10))},[]),k=n?qe:"div",b=Ve("ScrollTrap",{active:s,automaticallyDisabledForOptimisation:r,axis:i});return c.jsx(k,{...b("root",["active","automaticallyDisabledForOptimisation","axis"],{className:d,dataSilk:[u,"0ac","0ae"]}),onScroll:m?void 0:v,...f,ref:g,children:o})});Dr.displayName="Sheet.Anonymous";let _r=oe.forwardRef((e,t)=>{let{asChild:n,className:s,dataSilk:r,children:i,...l}=e,o=n?qe:"div",u=Ve("ScrollTrap",{});return c.jsx(o,{...u("stabiliser",[],{className:s,dataSilk:[r]}),...l,ref:t,children:i})});_r.displayName="Sheet.DDD";let Nt={Root:Dr,Stabiliser:_r},Lr=()=>{let e=un();return a.useCallback(n=>{n?X.addFixedComponent({id:e,element:n}):X.removeFixedComponent(e)},[e])},Ui=oe.forwardRef((e,t)=>{let{asChild:n,children:s,className:r,"data-silk":i,...l}=e,o=Lr(),u=nt(o,t),d=Ve("Fixed",{});return c.jsx(Nt.Root,{...d("root",[],{className:r,dataSilk:[i,"0al"]}),asChild:n,...l,ref:u,children:s})});Ui.displayName="Fixed.Root";let Bi=oe.forwardRef((e,t)=>{let{asChild:n,children:s,...r}=e;return c.jsx(Nt.Stabiliser,{asChild:n,...r,ref:t,children:s})});Bi.displayName="Fixed.Content";let $t=oe.createContext(null);$t.displayName="Sheet.GenericContext";let vt=oe.createContext(null);vt.displayName="Sheet.Anonymous";var Wi=function(e){let t="cubic-bezier(";if(!e.startsWith(t))return null;let n=e.slice(t.length,-1),s=n.split(",").map(r=>parseFloat(r.trim()));return s.length!==4||s.some(isNaN)?null:s},Vi=({mass:e,stiffness:t,damping:n,initialVelocity:s=0,fromPosition:r,toPosition:i,precision:l})=>{let o=[],u=0,d=Math.abs(i-r),f=0,m=s,p=!1,g=!1,v=-(1e-6*t),k=-(.001*n),b=l/22,y=10*l;for(;!(p&&g);){let A=v*(f-d),E=k*m,j=(A+E)/e;m+=j,f+=m,p=Math.abs(m)<=b,g=Math.abs(d-f)<=y;let G=f/d;o.push(G),u++}return{progressValuesArray:o,duration:u}};let ka=()=>CSS.supports("transition-timing-function","linear(0, 1)")&&!Xt(),qi=({origin:e=0,destination:t=1,animationConfig:n})=>{var s,r,i,l,o,u,d,f,m;let p=[],g;if(n&&n.easing&&n.easing!=="spring")if(n.easing==="linear"){g=(u=n.duration)!==null&&u!==void 0?u:250;let v=g,k=1/(v-1);for(let b=0;b<v;b++){let y=b*k;p.push(isNaN(y)?0:y)}}else{let v;g=(d=n.duration)!==null&&d!==void 0?d:250;let k=g;v=n.easing==="ease"?[.25,.1,.25,1]:n.easing==="ease-in"?[.42,0,1,1]:n.easing==="ease-out"?[0,0,.58,1]:n.easing==="ease-in-out"?[.42,0,.58,1]:n.easing.startsWith("cubic-bezier")&&(f=Wi(n.easing))!==null&&f!==void 0?f:[.25,.1,.25,1];let b=si(...v);for(let y=0;y<=k;y++)p.push(b(y/k))}else{let v=Vi({stiffness:(s=n?.stiffness)!==null&&s!==void 0?s:300,damping:(r=n?.damping)!==null&&r!==void 0?r:34,mass:(i=n?.mass)!==null&&i!==void 0?i:1,initialVelocity:(l=n?.initialVelocity)!==null&&l!==void 0?l:0,precision:(o=n?.precision)!==null&&o!==void 0?o:.1,fromPosition:e,toPosition:t});p=v.progressValuesArray,g=v.duration}return{progressValuesArray:p,easing:"linear",duration:g,delay:(m=n?.delay)!==null&&m!==void 0?m:0}},Ya=(e,t)=>{let n={};return e.forEach(([s,r])=>{let i=An(t);n[s]=r({progress:t,tween:i})}),n},lr=({type:e,progressValuesArray:t,target:n,templatesPerProperty:s,reversedStackingIndex:r,selfAndAboveTravelProgressSum:i})=>{let l=r!=null,o=u=>e==="travel"?u:l&&i?i?.[r]+u:0;return{target:n,keyframes:ka()?[Ya(s,o(t[0])),Ya(s,o(t[t.length-1]))]:t.map(u=>Ya(s,o(u)))}},Hi=({sheetId:e,destinationDetent:t,setSegment:n,viewElement:s,scrollContainer:r,travellingElement:i,contentPlacement:l,positionToScrollTo:o,scrollAxis:u,animationConfig:d,onTravel:f,onTravelStart:m,onTravelEnd:p,runOnTravelStart:g,rAFLoopEndCallback:v,dimensions:k,trackToTravelOn:b})=>{let y,C,A=X.findSheet(e);if(!A)return;let E=[],j=[];E=A.travelAnimations,A.belowSheetsInStack.forEach(R=>{j.push(...R.stackingAnimations.map(xe=>({...xe,reversedStackingIndex:A.belowSheetsInStack.length-1,selfAndAboveTravelProgressSum:R.selfAndAboveTravelProgressSum})))}),g&&m?.();let G=!(d.hasOwnProperty("contentMove")&&!d.contentMove),O=k.current.view.travelAxis.unitless,B=k.current.content.travelAxis.unitless,P=s.getBoundingClientRect(),_=i.getBoundingClientRect(),W=l!=="center"?B:B+(O-B)/2,N=_.top-P.top,I=_.left-P.left,U=0;switch(b){case"top":U=N+W;break;case"bottom":U=N-W;break;case"left":U=I+W;break;case"right":U=I-W}let te=Math.max(Math.abs(U)/W,0),J=k.current.progressValueAtDetents[t].exact,Y=J*W,de=b==="left"||b==="top"?Y:-Y,{progressValuesArray:He,easing:Z,duration:Je,delay:Qe}=qi({origin:U,destination:de,animationConfig:d}),dt=J-te,Oe=function(R,xe){let Pe=[];for(let Ae=0;Ae<R.length-1;Ae+=xe)Pe.push(R[Ae]);return R.length%xe!=0&&Pe.push(R[R.length-1]),Pe}(He,8),Ie=Oe.map(R=>te+dt*R),re=[];E.length&&re?.push(...E.map(R=>lr({type:"travel",progressValuesArray:Ie,target:R.target,templatesPerProperty:R.config}))),j.length&&re?.push(...j.map(R=>lr({type:"stacking",progressValuesArray:Ie,target:R.target,templatesPerProperty:R.config,reversedStackingIndex:R.reversedStackingIndex,selfAndAboveTravelProgressSum:R.selfAndAboveTravelProgressSum}))),y=u==="x"?"X":"Y";let Te=R=>({transform:"translate"+y+"("+(U-de)*(1-R)+"px)"});C=ka()?[Te(Oe[0]),Te(Oe[Oe.length-1])]:Oe.map(R=>({transform:"translate"+y+"("+(U-de)*(1-R)+"px)"}));let ge=()=>{r.scrollTo({left:u==="x"?o:0,top:u==="y"?o:0})},je=R=>{let xe;if(!G)return R();xe=ka()?i.animate(C,{easing:"linear("+Oe.join(",")+")",duration:Je,delay:Qe}):i.animate(C,{easing:Z,duration:Je,delay:Qe});let Pe=()=>{R(),xe.removeEventListener("finish",Pe)};xe.addEventListener("finish",Pe)},ue=R=>{if(!re.length)return R();let xe=[],Pe=ka();re?.forEach(({target:Ae,keyframes:F})=>{let w;w=Pe?Ae.animate(F,{easing:"linear("+Oe.join(",")+")",duration:Je,delay:Qe}):Ae.animate(F,{easing:Z,duration:Je,delay:Qe});let Ge=new Promise(he=>{let Tt=()=>{Object.entries(F[F.length-1]).forEach(([fe,Re])=>{Ae.style.setProperty((fe.startsWith("webkit")||fe.startsWith("moz")?"-":"")+fe.replace(/[A-Z]/g,"-$&").toLowerCase(),Re)}),w.removeEventListener("finish",Tt),he()};w.addEventListener("finish",Tt)});xe.push(Ge)}),Promise.all(xe).then(()=>{R()})},ce=null,bt=R=>{(function xe(Pe,Ae,F){let w=k.current.progressValueAtDetents,Ge=w.length;ce||(ce=Pe);let he=Pe-ce,Tt=Math.floor(he);if(Tt<He.length){let fe=te+dt*He[Tt];if(fe<0)Ae(fe,[0,0]);else if(fe>1)Ae(fe,[1,1]);else for(let Re=0;Re<Ge;Re++){let K=w[Re],Dt=K.after;fe>Dt&&Re+1<Ge&&fe<w[Re+1].before?Ae(fe,[Re,Re+1]):fe>K.before&&fe<Dt&&Ae(fe,[Re,Re])}requestAnimationFrame(()=>xe(document.timeline.currentTime,Ae,F))}else{let fe=Math.min(Ge-1,t);Ae(J,[fe,fe]),G||re?.length||v==null||v(),F()}})(document.timeline.currentTime,(xe,Pe)=>{f?.({progress:xe,range:{start:Pe[0],end:Pe[1]},progressAtDetents:k.current.exactProgressValueAtDetents}),n(Pe)},R)},Se=R=>new Promise(xe=>{R(()=>xe())}),Me=()=>{p?.()},Q=async()=>{await Promise.all([Se(je),Se(ue),Se(bt)]),Me()};requestAnimationFrame(()=>{requestAnimationFrame(()=>{ge(),Q()})})},Gi=({desiredDestinationDetent:e,currentDetent:t})=>typeof e=="number"?e:t,zi=({trackToTravelOn:e,destinationDetent:t,detentCountExcludingZero:n,actualSwipeOutDisabledWithDetent:s,hasOppositeTracks:r,contentPlacement:i,elementsDimensions:l,snapBackAcceleratorTravelAxisSize:o})=>{var u;if(((u=l.detentMarkers)===null||u===void 0?void 0:u.length)<=t-1)return{positionToScrollTo:null,scrollAxis:null};let d=t===0,f=t===1,m=t===n,p=e==="right"||e==="bottom",g=l.view.travelAxis.unitless,v=l.content.travelAxis.unitless,k=l.snapOutAccelerator.travelAxis.unitless,b=l.detentMarkers,y=d?0:b[t-1].accumulatedOffsets.travelAxis.unitless,C=0;if(r)m?C=g-(g-v)/2+l.snapOutAccelerator.travelAxis.unitless:d&&(C=p?0:1e4);else if(p)m?C=1e4:s&&f||d?C=0:m||s&&f||d||(C=s?b[t-1].accumulatedOffsets.travelAxis.unitless-b[0].travelAxis.unitless:y+k);else if(e==="left"||e==="top"){let A;A=s&&f?2*o:m?0:o,C=i==="center"?t===0?v+(g-v)/2-y+A:0:v-y+A}return{positionToScrollTo:C,scrollAxis:e==="left"||e==="right"||e==="horizontal"?"x":"y"}};var Yi=({destinationDetent:e,behavior:t="instant",runTravelCallbacksAndAnimations:n=!0,runOnTravelStart:s,animationConfig:r,rAFLoopEndCallback:i,trackToTravelOn:l,contentPlacement:o,onTravel:u,onTravelStart:d,onTravelEnd:f,fullTravelCallback:m,setProgrammaticScrollOngoing:p,currentDetent:g,segment:v,setSegment:k,lastProgressValue:b,dimensions:y,viewRef:C,scrollContainerRef:A,contentWrapperRef:E,sheetId:j,stackId:G,actualSwipeOutDisabledWithDetent:O,hasOppositeTracks:B,snapBackAcceleratorTravelAxisSize:P})=>{if(e===void 0&&g===null)return;let _=y.current,W=A.current;if(W&&_.content){let N=Gi({desiredDestinationDetent:e,currentDetent:g}),I=y.current.detentMarkers.length,{positionToScrollTo:U,scrollAxis:te}=zi({destinationDetent:N,detentCountExcludingZero:I,trackToTravelOn:l,actualSwipeOutDisabledWithDetent:O,hasOppositeTracks:B,contentPlacement:o,snapBackAcceleratorTravelAxisSize:P,elementsDimensions:_});if(U!==null&&te!==null){if(p(!0),t==="smooth")Hi({sheetId:j,destinationDetent:N,setSegment:k,viewElement:C.current,scrollContainer:W,travellingElement:E.current,positionToScrollTo:U,contentPlacement:o,scrollAxis:te,animationConfig:r,onTravel:u,onTravelStart:d,onTravelEnd:f,runOnTravelStart:s,rAFLoopEndCallback:i,dimensions:y,trackToTravelOn:l});else if(n&&s&&d?.(),te==="x"?(W.scrollTo(U,0),W.scrollLeft=U):(W.scrollTo(0,U),W.scrollTop=U),k([N,N]),n){let J=y.current.progressValueAtDetents[N].exact;m?.(J,v),f?.()}}}};let Vn=e=>{let t=a.useRef(null);return Le(()=>{t.current=e}),a.useCallback((...n)=>{let s=t.current;return s(...n)},[])},Xi=e=>{let t,n=()=>{e(),t=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(t)}},$i=(()=>{let e=!0;typeof window>"u"||CSS.supports("scroll-snap-align: start")||(e=!1);let t=!0;return typeof window>"u"||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(t=!1),e&&t})(),Ca={gentle:{stiffness:560,damping:68,mass:1.85},smooth:{stiffness:580,damping:60,mass:1.35},snappy:{stiffness:350,damping:34,mass:.9},brisk:{stiffness:350,damping:28,mass:.65},bouncy:{stiffness:240,damping:19,mass:.7},elastic:{stiffness:260,damping:20,mass:1}},Xa=(e,t)=>{var n;let s=typeof e=="string",r=s?Ca[e]:(n=Ca[e?.preset])!==null&&n!==void 0?n:null,i=r||e?.easing==="spring"||["ease","ease-in","ease-out","ease-in-out","linear"].includes(e?.easing);return{skip:ps,easing:"spring",...s?{}:e,...r??{},...i?{}:t}},Ki=(e,t)=>e.includes("skipOpening:true")||t.skipOpening,ir=(e,t)=>!e.includes("skipOpening:true")&&!t.skipOpening,Ji=(e,t)=>e.includes("skipClosing:true")||t.skipClosing,Qi=(e,t)=>!e.includes("skipClosing:true")&&!t.skipClosing,or=e=>e.includes("openness:closed.status:safe-to-unmount"),Zi=()=>{let e="false",[t,n]=nr(a.useMemo(()=>[{name:"staging",initial:"none",states:{none:{messages:{OPEN:[{guard:(v,k)=>or(v)&&ir(v,k),target:"opening"},{guard:or,target:"open"}],OPEN_PREPARED:[{guard:ir,target:"opening"},{target:"open"}],ACTUALLY_CLOSE:[{guard:Qi,target:"closing"}],ACTUALLY_STEP:"stepping",GO_DOWN:[{guard:(v,k)=>!k.skipOpening,target:"going-down"},{target:"go-down"}],GO_UP:"going-up"}},open:{messages:{NEXT:"none"}},opening:{messages:{NEXT:"none"}},stepping:{messages:{NEXT:"none"}},closing:{messages:{NEXT:"none"}},"go-down":{messages:{NEXT:"none"}},"going-down":{messages:{NEXT:"none"}},"going-up":{messages:{NEXT:"none"}}}},{name:"longRunning",initial:e,states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"openness",initial:"closed",states:{closed:{messages:{READY_TO_OPEN:[{guard:(v,k)=>!k.skipOpening,target:"opening"},{target:"open"}]},machines:{name:"status",initial:"safe-to-unmount",states:{pending:{messages:{OPEN:[{guard:Ki,target:"openness:closed.status:flushing-to-preparing-open"},{target:"openness:closed.status:flushing-to-preparing-opening"}],"":"safe-to-unmount"}},"flushing-to-preparing-open":{messages:{"":"preparing-open"}},"flushing-to-preparing-opening":{messages:{"":"preparing-opening"}},"preparing-open":{},"preparing-opening":{},"safe-to-unmount":{}}}},opening:{messages:{NEXT:"open"}},open:{messages:{ACTUALLY_CLOSE:[{guard:Ji,target:"openness:closed.status:pending"}],SWIPED_OUT:"openness:closed.status:pending",READY_TO_CLOSE:[{guard:(v,k)=>!k.skipClosing,target:"closing"}]},machines:[{name:"scroll",initial:"ended",states:{ended:{messages:{SCROLL_START:"ongoing"},machines:[{name:"afterPaintEffectsRun",initial:"false",states:{false:{messages:{OCCURRED:"true"}},true:{}}}]},ongoing:{messages:{SCROLL_END:"ended"}}}},{name:"move",initial:"ended",states:{ended:{messages:{MOVE_START:"ongoing"}},ongoing:{messages:{MOVE_END:"ended"}}}},{name:"swipe",silentOnly:!0,initial:"unstarted",states:{unstarted:{messages:{SWIPE_START:"ongoing"}},ongoing:{messages:{SWIPE_END:"ended"}},ended:{messages:{SWIPE_START:"ongoing",SWIPE_RESET:"unstarted"}}}},{name:"evaluateCloseMessage",silentOnly:!0,initial:"false",states:{false:{messages:{CLOSE:"true"}},true:{messages:{CLOSE:"false"}}}},{name:"evaluateStepMessage",silentOnly:!0,initial:"false",states:{false:{messages:{STEP:"true"}},true:{messages:{STEP:"false"}}}}]},closing:{messages:{NEXT:"openness:closed.status:pending"}}}},{name:"skipOpening",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"skipClosing",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"scrollContainerTouch",silentOnly:!0,initial:"ended",states:{ended:{messages:{TOUCH_START:"ongoing"}},ongoing:{messages:{TOUCH_END:"ended"}}}},{name:"backStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}},{name:"frontStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}}],[e])),[s,r]=nr(a.useMemo(()=>[{name:"active",initial:"false",states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"position",initial:"out",states:{out:{messages:{READY_TO_GO_FRONT:[{guard:(v,k)=>k.skipOpening,target:"position:front.status:idle"},{target:"position:front.status:opening"}]}},front:{machines:[{name:"status",initial:"opening",states:{opening:{messages:{NEXT:"idle"}},closing:{messages:{NEXT:"position:out"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(v,k)=>k.skipOpening,target:"position:covered.status:idle"},{target:"position:covered.status:going-down"}],READY_TO_GO_OUT:"closing",GO_OUT:"position:out"}}}}]},covered:{machines:[{name:"status",initial:"going-down",states:{"going-down":{messages:{NEXT:"idle"}},"going-up":{messages:{NEXT:"indeterminate"}},indeterminate:{messages:{GOTO_idle:"idle",GOTO_front:"position:front.status:idle"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(v,k)=>k.skipOpening,target:"come-back"},{target:"going-down"}],READY_TO_GO_UP:"going-up",GO_UP:"indeterminate"}},"come-back":{messages:{"":"idle"}}}}]}}}],[])),i=a.useMemo(()=>s.matches("position:out")?"out":s.matches("position:front")?"front":s.matches("position:covered")?"covered":void 0,[s]),l=a.useMemo(()=>s.matches("position:covered.status:idle")?"idle":s.matches("position:covered.status:going-down")?"going-down":s.matches("position:covered.status:going-up")?"going-up":null,[s]),o=gt(t,"staging"),u=a.useMemo(()=>o.getValues()[0],[o]),[d,f]=Di(-1),m=un(),p=un();return a.useMemo(()=>({titleId:m,descriptionId:p,staging:u,opennessState:t,sendToOpennessMachine:n,positionState:s,sendToPositionMachine:r,layerPosition:i,layerCovered:l,stackingIndex:d,assignStackingIndex:f}),[m,p,u,t,n,s,r,i,l,d,f])},Fr=oe.forwardRef((e,t)=>{let n,{forComponent:s,as:r,children:i,className:l,"data-silk":o,initialState:u,onPresentAutoFocus:d,onDismissAutoFocus:f,onTravelStatusChange:m,onTravelRangeChange:p,swipeDismissal:g=!0,swipe:v=!0,snapOutAcceleration:k="auto",snapToEndDetentsAcceleration:b="auto",onTravel:y,onTravelStart:C,onTravelEnd:A,detents:E,inertOutside:j=!0,nativeEdgeSwipePrevention:G=!1,onSwipeFromEdgeToGoBackAttempt:O,onClickOutside:B,onEscapeKeyDown:P,onFocusInside:_,nativeFocusScrollPrevention:W=!0,contentPlacement:N=null,tracks:I,swipeOvershoot:U=!0,swipeTrap:te,enteringAnimationSettings:J,exitingAnimationSettings:Y,steppingAnimationSettings:de,id:He,...Z}=e,Je=s??$t,Qe=a.useContext(Je)||{},{license:dt,StackContext:Oe,CustomSheetContext:Ie,sheetRole:re,open:Te,onOpenChange:ge,elementFocusedLastBeforeShowing:je,onSafeToUnmountChange:ue,setLongRunning:ce,setStaging:bt,defaultActiveDetent:Se,activeDetent:Me,onActiveDetentChange:Q,sheetId:R}=Qe,{titleId:xe,descriptionId:Pe,staging:Ae,opennessState:F,sendToOpennessMachine:w,positionState:Ge,sendToPositionMachine:he,layerCovered:Tt,stackingIndex:fe,assignStackingIndex:Re}=Zi(),K=gt(F,"staging"),{stackId:Dt,setSheetsCount:at,updateSheetStagingDataInStack:In,removeSheetStagingDataInStack:mn,updateSheetDataInStack:_t,removeSheetDataFromStack:pn,getPreviousSheetDataInStack:Kt}=Oe?a.useContext(Oe):{},{ancestorPrimarySwipeTrapActiveOnYAxis:Lt}=a.useContext(vt)||{},st=Lr(),Fe=a.useRef(null),kt=nt(Fe,st,t),Jt=a.useRef(null),Qt=a.useRef(null),we=a.useRef(null),fn=a.useRef(null),wt=a.useRef(null),Ft=a.useRef(null),jn=a.useRef(null),gn=a.useRef([]),rt=a.useMemo(()=>E?typeof E=="string"?[E,"var(--silk-aF)"]:[...E,"var(--silk-aF)"]:["var(--silk-aF)"],[E]),Ut=a.useRef(null);a.useEffect(()=>{Ut.current===null&&Number.isInteger(Me)&&Me>0&&(Ut.current=Me)},[]);let We=a.useMemo(()=>Number.isInteger(Se)?Se:Number.isInteger(Me)&&Me>0?Me:Ut.current?Ut.current:1,[Me,Se]),{actualTrack:V,actualPlacement:Ce}=a.useMemo(()=>{let h={actualPlacement:null,actualTrack:null};return N&&!I?(h.actualPlacement=N,N!=="center"?h.actualTrack=N:h.actualTrack="bottom"):I&&!N?Array.isArray(I)?(h.actualPlacement="center",h.actualTrack=I.includes("left")?"horizontal":"vertical"):(h.actualPlacement=I,h.actualTrack=I):I||N?I&&N&&(h.actualPlacement=N,Array.isArray(I)?h.actualTrack=I.includes("left")?"horizontal":"vertical":h.actualTrack=I):(h.actualPlacement="bottom",h.actualTrack="bottom"),[{state:"staging:opening",configTrack:J?.track},{state:"staging:closing",configTrack:Y?.track}].forEach(({state:x,configTrack:T})=>{F.matches(x)&&T&&(T==="top"&&h.actualTrack==="bottom"||T==="bottom"&&h.actualTrack==="top"?h.actualTrack="vertical":(T==="left"&&h.actualTrack==="right"||T==="right"&&h.actualTrack==="left")&&(h.actualTrack="horizontal"))}),h},[N,I,J?.track,Y?.track,F]);a.useMemo(()=>V==="horizontal",[V]);let ja=a.useMemo(()=>V==="vertical",[V]);a.useEffect(()=>{if(N?.includes("top")&&I&&I!=="top"||N?.includes("bottom")&&I&&I!=="bottom"||!N?.includes("center")&&I&&I.includes("top")&&I.includes("bottom")||N?.includes("left")&&I&&I!=="left"||N?.includes("right")&&I&&I!=="right"||!N?.includes("center")&&I&&I.includes("left")&&I.includes("right"))throw Error(`'placement' prop value '${N}' cannot be used with 'tracks' prop value '${I}'.`)},[N,I]);let Et=a.useMemo(()=>J?.track||(V==="horizontal"?"right":V==="vertical"?"bottom":V),[J?.track,V]),lt=a.useMemo(()=>Xa(J,Ca.smooth),[J]),M=a.useMemo(()=>Xa(Y,{easing:"spring",stiffness:520,damping:44,mass:1}),[Y]),me=a.useMemo(()=>Xa(de??J,Ca.smooth),[de,J]),ae=a.useMemo(()=>re==="alertdialog"||!g,[g,re]),ee=(V!=="horizontal"&&V!=="vertical"||!!ae)&&!U,[$,ie,ze,Ne]=a.useMemo(()=>{let h=!1,S=!1,x=!1,T=!1;return v&&$i?ae&&(E?(x=!0,F.matches("openness:open")&&!F.matches("staging:closing")&&(S=!0)):F.matches("openness:open")&&!F.matches("staging:closing")&&(ee===!1&&Xt()?T=!0:h=!0)):F.matches("openness:closed")||(h=!0),[h,S,x,T]},[v,F,ae,E,ee]),yt=a.useMemo(()=>K.getValues()[0]!=="none",[K]),St=["right","left","horizontal"].includes(V)?"horizontal":"vertical",[Bt,Zt]=a.useState(!1),[en,it]=a.useState(!1),tn=a.useMemo(()=>!j&&(j?void 0:Bt!==!0),[j,Bt]),Ze=a.useMemo(()=>ee===!0?b==="auto"?10:1:0,[ee,b]),mt=a.useRef(null);a.useEffect(()=>(R&&(mt.current=X.addSheet({id:R,stackId:Dt,stackingIndex:-1,sendToOpennessMachine:w})),()=>{R&&X.attemptToRemoveSheetOrCleanup(R)}),[w,R,Dt]),a.useEffect(()=>(W&&X.addNativeFocusScrollPreventer(R),()=>{W&&X.removeNativeFocusScrollPreventer(R)}),[W,R]);let q=a.useMemo(()=>Kt?.(R),[Kt,R]),[hn,Xr]=a.useState(null),vn=a.useMemo(()=>y&&hn?h=>{hn(h),y(h)}:y&&!hn?y:!y&&hn?hn:null,[y,hn]),Dn=a.useCallback(()=>{A?.();let h=ke.current.exactProgressValueAtDetents[pe.current[0]];qt.current=h,X.updateSheetTravelProgress(R,h)},[A,R]),At=a.useMemo(()=>{let h;if(fe.value>0)h=vn?(S,x)=>{vn({progress:S,range:x,progressAtDetents:ke.current.exactProgressValueAtDetents});let T=An(S);mt.current.aggregatedTravelCallback(S,T)}:S=>{let x=An(S);mt.current.aggregatedTravelCallback(S,x)};else{let S=X.getAggregatedStackingCallbackForSheetsBelow(R);h=S?vn?(x,T)=>{vn({progress:x,range:T,progressAtDetents:ke.current.exactProgressValueAtDetents});let D=An(x);mt.current.aggregatedTravelCallback(x,D),S(x,D)}:x=>{let T=An(x);mt.current.aggregatedTravelCallback(x,T),S(x,T)}:()=>{}}return h},[fe.value,vn,R]),_n=a.useRef(!1),ks=a.useMemo(()=>{let h;return V==="bottom"||V==="vertical"?h="translateY(-2px)":V==="top"?h="translateY(2px)":V==="right"||V==="horizontal"?h="translateX(-2px)":V==="left"&&(h="translateX(2px)"),S=>{S>0&&S<1&&!_n.current?(wt.current.style.setProperty("transform",h),_n.current=!0):(S>1||S<=0)&&_n.current&&(wt.current.style.removeProperty("transform"),_n.current=!1)}},[V]),Qn=a.useMemo(()=>Ne?h=>ks(h):At,[ks,Ne,At]),[Ln,Zn]=a.useState("both"),ys=xr(Fe);a.useEffect(()=>{var h,S;let x,T,D;if(typeof te=="boolean")x={x:te,y:te};else{let{x:Be,y:Ye}=te||{};x={x:Be,y:Ye}}let H=(Ee==="ios"||Ee==="ipados")&&j&&!Lt,se=Cr();St==="vertical"&&(T=x.x,D=!!H||!se&&((h=x.y)===null||h===void 0||h)),St==="horizontal"&&(D=!!H||x.y,T=(S=x.x)===null||S===void 0||S),D=!!D||ys,Zn(T&&!D?"horizontal":!T&&D?"vertical":T&&D?"both":"none")},[Lt,j,te,ys,St]);let ke=a.useRef({}),[Ss,$r]=a.useState(0),[Kr,Jr]=a.useState(()=>()=>({top:null,bottom:null})),Da=a.useRef([]),pe=a.useRef([0,0]),ea=a.useRef(0),Ue=a.useRef(null),_a=a.useRef(()=>{}),ta=a.useRef(!1),xs=a.useRef(!1),La=a.useCallback(h=>xs.current=h,[]),$e=Vn(({destinationDetent:h,trackToTravelOn:S=V==="vertical"?"bottom":V==="horizontal"?"right":V,behavior:x="instant",runTravelCallbacksAndAnimations:T=!0,runOnTravelStart:D=!0,animationConfig:H,rAFLoopEndCallback:se,travelEndCallback:Be})=>{Yi({destinationDetent:h,behavior:x,runTravelCallbacksAndAnimations:T,runOnTravelStart:D,trackToTravelOn:S,animationConfig:H,rAFLoopEndCallback:se,onTravel:vn,onTravelStart:C,onTravelEnd:()=>{Be?.(),Dn()},segment:pe,fullTravelCallback:At,sheetId:R,stackId:Dt,dimensions:ke,snapBackAcceleratorTravelAxisSize:Ze,actualSwipeOutDisabledWithDetent:ie,lastProgressValue:qt,viewRef:Fe,scrollContainerRef:we,contentWrapperRef:wt,currentDetent:pe.current[0]===pe.current[1]?pe.current[0]:null,setSegment:Ot,setProgrammaticScrollOngoing:La,contentPlacement:Ce,hasOppositeTracks:V==="horizontal"||V==="vertical"})}),Qr=a.useCallback(()=>{pe.current[0]===pe.current[1]&&$e({runTravelCallbacksAndAnimations:!1,destinationDetent:pe.current[0]})},[R,V,ie,Ne,Ze]),Zr=a.useCallback(h=>{_t?.({sheetId:R,sendToOpennessMachine:w,sendToPositionMachine:he})},[_t,R,w,he]),Cs=a.useCallback(()=>{pn?.(R)},[pn,R]),Ts=a.useMemo(()=>re==="alertdialog"?()=>{}:()=>w({type:"CLOSE"}),[w,re]),el=a.useCallback(()=>{X.updateLayer({layerId:R,layerContextId:Ie,layerStackContextId:Oe,inertOutside:j,onPresentAutoFocus:d,onDismissAutoFocus:f,dismissOverlayIfNotAlertDialog:Ts,onClickOutside:B,onEscapeKeyDown:P,viewElement:Fe.current,backdropElement:Qt.current,scrollContainerElement:we.current,elementFocusedLastBeforeShowing:je.current})},[R,Ie,Oe,j,d,f,Ts,B,P,je]),ws=a.useCallback(()=>{X.removeLayer(R)},[R]),tl=a.useCallback(()=>{let h=T=>["ArrowDown","ArrowUp","PageDown","PageUp","End","Home"," "].includes(T.key),S=T=>{if(h(T)){var D,H;(D=we.current)===null||D===void 0||D.style.setProperty("overflow","hidden"),(H=we.current)===null||H===void 0||H.style.setProperty("scroll-snap-type","none")}},x=T=>{if(h(T)){var D,H;(D=we.current)===null||D===void 0||D.style.removeProperty("overflow"),(H=we.current)===null||H===void 0||H.style.removeProperty("scroll-snap-type")}};return document.addEventListener("keydown",S),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",x)}},[]),bn=a.useCallback(()=>{Re(h=>h+1),X.updateSheetStackingIndex(R,fe.silent.value)},[Re,fe.silent,R]),Wt=a.useCallback(()=>{Re(h=>h-1),X.updateSheetStackingIndex(R,fe.silent.value)},[Re,fe.silent,R]),na=gt(Ge,"active");tt("after-paint",na,{state:"active:true",callback:el}),tt("after-paint",na,{state:"active:true",callback:tl}),L("after-paint",na,{state:"active:false",callback:ws});let kn=gt(Ge,"position"),Vt=gt(Ge,"position:covered.status");le(kn,{state:"position:out",transition:"READY_TO_GO_FRONT",callback:a.useCallback(h=>{q?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:h.skipOpening}),bn()},[bn,q])}),le(Ge,{state:"position:front.status:opening",transition:"NEXT",callback:a.useCallback(()=>{q?.sendToPositionMachine("NEXT")},[q])}),le(Ge,{state:"position:front.status:idle",transition:"READY_TO_GO_OUT",callback:a.useCallback(()=>{q?.sendToPositionMachine("READY_TO_GO_UP")},[q])}),le(Ge,{state:"position:front.status:idle",transition:"GO_OUT",callback:a.useCallback(()=>{At?.(0,{start:0,end:0}),Dn(),q?.sendToPositionMachine("GO_UP"),Wt()},[At,Dn,q,Wt])}),le(Ge,{state:"position:front.status:idle",transition:"READY_TO_GO_DOWN",callback:a.useCallback(h=>{q?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:h.skipOpening}),bn()},[bn,q])}),le(Ge,{state:"position:front.status:closing",transition:"NEXT",callback:a.useCallback(()=>{q?.sendToPositionMachine("NEXT"),Wt()},[q,Wt])}),le(Vt,{state:"position:covered.status:going-down",transition:"NEXT",callback:a.useCallback(()=>{q?.sendToPositionMachine("NEXT")},[q])}),le(Vt,{state:"position:covered.status:idle",transition:"READY_TO_GO_DOWN",callback:a.useCallback(h=>{q?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:h.skipOpening}),bn()},[bn,q])}),le(Vt,{state:"position:covered.status:idle",transition:"READY_TO_GO_UP",callback:a.useCallback(()=>{q?.sendToPositionMachine("READY_TO_GO_UP")},[q])}),le(Vt,{state:"position:covered.status:idle",transition:"GO_UP",callback:a.useCallback(()=>{q?.sendToPositionMachine("GO_UP"),Wt()},[Wt,q])}),L("immediate",Vt,{state:"position:covered.status:come-back",callback:a.useCallback(()=>he(""),[he])}),le(Vt,{state:"position:covered.status:going-up",transition:"NEXT",callback:a.useCallback(()=>{q?.sendToPositionMachine("NEXT"),Wt()},[q,Wt])}),L("immediate",Vt,{state:"position:covered.status:indeterminate",callback:a.useCallback(()=>{fe.silent.value===0?he("GOTO_front"):he("GOTO_idle")},[fe.silent,he])});let yn=a.useCallback(()=>q?.sendToOpennessMachine({machine:"staging",type:"NEXT"}),[q]),Rt=a.useCallback((h,{newState:S})=>{bt(S),In?.({sheetId:R,staging:S})},[n,bt,In,R]),Fn=a.useCallback((h,{newState:S})=>{m?.(S)},[m]),Ot=a.useMemo(()=>{let h=S=>{ea.current=S[1],queueMicrotask(()=>{let x=S[0],T=S[1];(x!==pe.current[0]||T!==pe.current[1])&&(pe.current=S,x===T&&(Ue.current===null&&Q?Q(T):x===Ue.current&&(Ue.current=null)))})};return p&&ee===!1?h=S=>{ea.current=S[1],queueMicrotask(()=>{let x=S[0],T=S[1];(x!==pe.current[0]||T!==pe.current[1])&&(pe.current=S,p({start:x,end:T}),x===T&&(Ue.current===null&&Q?Q(T):x===Ue.current&&(Ue.current=null)))})}:ee===!0&&(h=ze?S=>{ea.current=S[1],queueMicrotask(()=>{let x=S[0],T=S[1];if(x!==pe.current[0]||T!==pe.current[1]){let D=rt.length;ie&&x===1&&T===1?w({machine:"backStuck",type:"STUCK_START"}):x===D&&T===D?w({machine:"frontStuck",type:"STUCK_START"}):Un.current?w({machine:"frontStuck",type:"STUCK_END"}):sa.current&&w({machine:"backStuck",type:"STUCK_END"}),pe.current=S,p?.({start:x,end:T}),x===T&&(Ue.current===null&&Q?Q(T):x===Ue.current&&(Ue.current=null))}})}:S=>{ea.current=S[1],queueMicrotask(()=>{let x=S[0],T=S[1];if(x!==pe.current[0]||T!==pe.current[1]){let D=rt.length;x===D&&T===D?w({machine:"frontStuck",type:"STUCK_START"}):Un.current&&w({machine:"frontStuck",type:"STUCK_END"}),pe.current=S,p?.({start:x,end:T}),x===T&&(Ue.current===null&&Q?Q(T):x===Ue.current&&(Ue.current=null))}})}),h},[p,ee,Q,ze,ie,rt.length,w]),nn=a.useCallback(h=>{let S={destinationDetent:h==="front"?ke.current.detentMarkers.length:1,runTravelCallbacksAndAnimations:!1};if($e(S),Xt()){var x;(x=we.current)===null||x===void 0||x.style.setProperty("overflow","hidden"),setTimeout(()=>{var T;(T=we.current)===null||T===void 0||T.style.removeProperty("overflow")},CSS.supports("overscroll-behavior","none")?1:10)}ta.current=!1},[$e]),Es=a.useCallback((h,S)=>{let x=pe.current[0],T=S??null;if(T===null){var D,H;T=(h??"up")==="up"?(D=pe.current[0])<rt.length?D+1:1:(H=pe.current[0])>1?H-1:rt.length}return T===0||T===x?null:T},[rt]),As=a.useCallback(({direction:h,detent:S,behavior:x})=>{let T=()=>{let D=Es(h,S);D&&w({type:"ACTUALLY_STEP",detent:D,behavior:x})};F.silent.matches("openness:open.scroll:ended.afterPaintEffectsRun:true")?T():Wa.current=T},[F.silent,Es,w]),Rs=a.useCallback((h,S)=>{Ue.current=h,Q?.(h),$e({destinationDetent:h,behavior:S??(me.skip?"instant":"smooth"),animationConfig:me,travelEndCallback:()=>w({machine:"staging",type:"NEXT"})})},[Q,$e,me,w]),Os=a.useCallback((h,S,x,T)=>{let D;if(h==="auto"){let H=T==="center"?x+(S-x)/2:x;D=Pt==="chromium"?H<=1440?70+.25*H:.3*H:Xt()?Ee==="ios"||Ee==="ipados"?H<=716?15+.1*H:.12*H:.5*H:10}else if(typeof h=="function"){let H=parseInt(h(x),10);D=H<1?1:H>x/2?x/2:H}else h==="initial"&&(D=1);return D},[]),Ms=a.useCallback(()=>{if(Fe.current){let h=(S,x)=>Fe.current.style.setProperty(S,x);h("--silk-aD",ke.current.view.travelAxis.px),h("--silk-aE",ke.current.view.crossAxis.px),h("--silk-aF",ke.current.content.travelAxis.px),h("--silk-aG",ke.current.content.crossAxis.px),h("--silk-aH",ke.current.frontSpacer.travelAxis.px),h("--silk-aI",ke.current.backSpacer.travelAxis.px),h("--silk-aJ",ke.current.snapOutAccelerator.travelAxis.px),h("--silk-aK",ke.current.detentMarkers[0].travelAxis.px)}},[]),nl=a.useCallback(h=>{let S=Fe.current,x=Ft.current,T=[];gn.current.forEach(ye=>{T.push(window.getComputedStyle(ye))});let D=ye=>parseFloat(ye),H=ye=>parseInt(ye,10),se=ye=>V==="right"||V==="left"||V==="horizontal"?ye==="travelAxis"?"width":"height":ye==="travelAxis"?"height":"width",Be=ye=>{let Mt,rn,xn,xt,z,Cn;return rn=D(Mt=ye.getPropertyValue(se("travelAxis"))),xn=H(Mt),z=H(xt=ye.getPropertyValue(se("crossAxis"))),Cn=H(xt),{travelAxis:{px:Mt,unitless:rn,unitlessRoundedDown:xn},crossAxis:{px:xt,unitless:z,unitlessRoundedDown:Cn}}},Ye=()=>{let ye,Mt,rn=window.getComputedStyle(Fe.current),xn=window.getComputedStyle(Ft.current),xt=0;$r(be=>be+1),ke.current={view:{...Be(rn)},scroll:{},snapOutAccelerator:{travelAxis:{}},frontSpacer:{travelAxis:{}},backSpacer:{travelAxis:{}},content:{...Be(xn)},detentMarkers:[...T.map((be,ut)=>{let ft=Be(be);return ut!==T.length-1&&(xt+=ft.travelAxis.unitless),{...ft,accumulatedOffsets:{travelAxis:{px:xt+"px",unitless:xt,unitlessRoundedDown:null}}}})],progressValueAtDetents:[]};let z=ke.current;z.scroll=z.view;let Cn=Os(k,z.view.travelAxis.unitless,z.content.travelAxis.unitless,Ce);z.snapOutAccelerator.travelAxis.px=Cn+"px",z.snapOutAccelerator.travelAxis.unitless=Cn,z.snapOutAccelerator.travelAxis.unitlessRoundedDown=H(Cn);let vl=z.detentMarkers.length,ia=z.content.travelAxis.unitless-xt;z.detentMarkers[vl-1]={travelAxis:{px:ia+"px",unitless:ia,unitlessRoundedDown:null},crossAxis:{px:"1px",unitless:1,unitlessRoundedDown:1},accumulatedOffsets:{travelAxis:{px:xt+ia+"px",unitless:xt+ia,unitlessRoundedDown:null}}};let Ha=be=>({before:be(-2.1),exact:be(0),after:be(2.1)}),oa=z.content.travelAxis.unitless,Tn=[Ha(be=>be/oa)],Us;z.detentMarkers.slice(0,-1).forEach(be=>{let ut=be.accumulatedOffsets.travelAxis.unitless;Tn.push(Ha(ft=>(ut+ft)/oa))}),Tn.push(Ha(be=>(oa+be)/oa)),Us=Tn[We];let Bs=Da.current.length>0?Da.current[pe.current[1]]:0,Ws=function(be,ut){let ft=0;for(let zt=1;zt<ut.length;zt++){let Bn=ut[zt];Math.abs(Bn-be)<Math.abs(ut[ft]-be)&&(ft=zt)}return ft}(Bs??1,Tn.map(be=>be.exact));Ot([Ws,Ws]),z.progressValueAtDetents=Tn,z.exactProgressValueAtDetents=Tn.map(be=>be.exact),Da.current=z.progressValueAtDetents.map(be=>be.exact),z.progressValueAtInitialDetent=Us,ye=Ne?V==="horizontal"||V==="vertical"?z.view.travelAxis.unitless/2+1:1:ie?z.content.travelAxis.unitless-ke.current.detentMarkers[0].travelAxis.unitless+Ze:V==="horizontal"||V==="vertical"?z.view.travelAxis.unitless/2+z.view.travelAxis.unitless-(z.view.travelAxis.unitless-z.content.travelAxis.unitless)/2+z.snapOutAccelerator.travelAxis.unitless:Ce==="center"?z.view.travelAxis.unitless-(z.view.travelAxis.unitless-z.content.travelAxis.unitless)/2+z.snapOutAccelerator.travelAxis.unitless:z.view.travelAxis.unitless-(z.view.travelAxis.unitless-z.content.travelAxis.unitless)+z.snapOutAccelerator.travelAxis.unitless,z.frontSpacer.travelAxis.unitless=ye,z.frontSpacer.travelAxis.px=ye+"px",Mt=ee===!0&&b==="auto"?z.view.travelAxis.unitless+Ze:V==="horizontal"||V==="vertical"?Ne?z.view.travelAxis.unitless/2:z.view.travelAxis.unitless/2+z.view.travelAxis.unitless-(z.view.travelAxis.unitless-z.content.travelAxis.unitless)/2+z.snapOutAccelerator.travelAxis.unitless:z.view.travelAxis.unitless,z.backSpacer.travelAxis.unitless=Mt,z.backSpacer.travelAxis.px=Mt+"px",Ms(),Jr(()=>()=>{let be,ut;if(!Fe.current)return{top:null,bottom:null};let ft=Fe.current.getBoundingClientRect(),zt=ft.top,Bn=ft.bottom,Vs=ja||V==="top"||V==="bottom",ca=z.view[Vs?"travelAxis":"crossAxis"].unitless,ua=z.content[Vs?"travelAxis":"crossAxis"].unitless;return Ce==="left"||Ce==="right"||Ce==="center"?(be=zt+(ca-ua)/2,ut=Bn-(ca-ua)/2):Ce==="top"?(be=zt,ut=Bn-(ca-ua)):Ce==="bottom"&&(be=zt+(ca-ua),ut=Bn),{top:be,bottom:ut}})};Ye();let an=(ye,Mt)=>{let rn=new ResizeObserver(xn=>{xn.forEach(()=>Mt())});return rn.observe(ye,{box:"border-box"}),rn},Ht=()=>{Ye(),$e({runTravelCallbacksAndAnimations:!1})},ct=!0,Gt=an(S,()=>{ct?ct=!1:Ht()}),sn=!0,De=an(x,()=>{sn?(Ye(),sn=!1):Ht()});return()=>{Gt&&S&&(Gt.unobserve(S),Gt.disconnect()),De&&x&&(De.unobserve(x),De.disconnect())}},[V,Os,k,We,ee,Ms,Ze,b,$e,Ot,Ce,ie,Ne,rt]),Ps=a.useCallback(h=>{let S,x=0,T=h,D=0;return H=>{S=H;let se=T-H;return x=se,(se===0||Math.abs(se)<Math.abs(D/2))&&F.silent.matches("scrollContainerTouch:ongoing")&&(S=T-D/2,x=T-S),Math.abs(x)>=.1&&.35>Math.abs(x)&&(S=x>=0?T-.1:T+.1,x=x>=0?.1:-.1),H<=0&&(S=0),T=S,D=x,S}},[F.silent]),Ns=a.useCallback(()=>{var h;let S,x,T=V==="right"||V==="left"||V==="horizontal"?"scrollLeft":"scrollTop",D=we.current,H=ke.current.snapOutAccelerator.travelAxis.unitless,se=ke.current.content.travelAxis.unitless,Be=ke.current.scroll.travelAxis.unitless,Ye=Ps((h=qt.current)!==null&&h!==void 0?h:ke.current.progressValueAtDetents[pe.current[1]].exact),an=V==="right"||V==="bottom",Ht=V==="left"||V==="top";if(an||Ht){let ct;if(Ne)ct=Ht?De=>1-De/se:De=>1+De/se;else if(an)if(Ce!=="center"){let De=ie?ke.current.detentMarkers[0].travelAxis.unitless-Ze:-H;ct=ye=>(ye+De)/se}else{let De=se+(Be-se)/2;ct=ye=>(ye-H)/De}else if(Ht)if(Ce!=="center")ct=De=>(se+Ze-De)/se;else{let De=se+(Be-se)/2;ct=ye=>(De+Ze-ye)/De}let Gt=ee===!0?1:10,sn=ee===!0&&ie?ke.current.progressValueAtDetents[1].exact:0;x=()=>{S=D[T];let De=Math.min(Math.max(ct(S),sn),Gt);return Math.min(Math.max(Ye(De),sn),Gt)}}else if(V==="horizontal"||V==="vertical"){let ct=(Be-se)/2,Gt=Ne?0:H+Be-ct,sn=se+ct;x=()=>{S=D[T];let De=1-Math.abs(S-Gt)/sn;return Math.max(Ye(Math.max(De,0)),0)}}return x},[V,Ps,ee,Ne,Ce,ie,Ze,Ss]),aa=a.useRef(),al=a.useCallback(()=>{let h=we.current,S=()=>{w({machine:"openness:open.move",type:"MOVE_END"});for(let T=0;T<ke.current.progressValueAtDetents.length;T++){let D=ke.current.progressValueAtDetents[T].exact;qt.current>D-.01&&qt.current<D+.01&&(w({machine:"openness:open.scroll",type:"SCROLL_END"}),w({machine:"openness:open.swipe",type:"SWIPE_END"}))}},x=()=>{xs.current?La(!1):(Ba.current||w({machine:"openness:open.scroll",type:"SCROLL_START"}),Un.current||sa.current||(qa.current||w({machine:"openness:open.swipe",type:"SWIPE_START"}),Va.current||w({machine:"openness:open.move",type:"MOVE_START"}))),clearTimeout(aa.current),aa.current=setTimeout(S,200)};return h.addEventListener("scroll",x),()=>{h.removeEventListener("scroll",x),clearTimeout(aa.current)}},[w,La]),qt=a.useRef(null),sl=a.useCallback(()=>{let h;if(Qn){let S=ke.current.progressValueAtDetents,x=S.length,T=Ns();h=Xi(()=>{let D,H=T();if(qt.current!==H){for(let se=0;se<x;se++){let Be=S[se],Ye=Be.after;H>Ye&&se+1<x&&H<S[se+1].before?(D={start:se,end:se+1},Ot([se,se+1])):H>Be.before&&H<Ye?(D={start:se,end:se},Ot([se,se])):H<=0&&(D={start:0,end:0},Ot([0,0]))}_a.current(H,D),qt.current=H}})}return()=>{h?.()}},[Ot,Qn,Ns]),Is=a.useCallback(h=>{let S=1e5,x=T=>{S<Math.abs(T.deltaY)?window.removeEventListener("wheel",x,{passive:!1}):T.preventDefault(),S=Math.abs(T.deltaY)};return window.addEventListener("wheel",x,{passive:!1}),setTimeout(()=>{h("SWIPED_OUT")},100),()=>window.removeEventListener("wheel",x,{passive:!1})},[]),rl=a.useCallback((h,{send:S})=>{let x,T=Fe.current,D=Ft.current,H=we.current,se=!1,Be=()=>se=!0;window.addEventListener("wheel",Be,{passive:!0,once:!0});let Ye=new IntersectionObserver(function(an){for(let Ht of an)Ht.isIntersecting||(T.style.setProperty("pointer-events","none","important"),T.style.setProperty("opacity","0","important"),T.style.setProperty("position","fixed","important"),T.style.setProperty("top","-100px","important"),T.style.setProperty("left","-100px","important"),D.style.setProperty("pointer-events","none","important"),H.style.setProperty("width","1px","important"),H.style.setProperty("height","1px","important"),H.style.setProperty("clip-path","inset(0)","important"),requestAnimationFrame(()=>{se?x=Is(S):S("SWIPED_OUT")}))},{root:T,threshold:[0]});return Ye.observe(D),()=>{x?.(),window.removeEventListener("wheel",Be,{passive:!0,once:!0}),Ye&&(Ye.unobserve(D),Ye.disconnect())}},[Is]),ll=a.useRef(()=>0),il=a.useCallback(()=>{let h=Fe.current,S=x=>{Ct({nativeEvent:x,defaultBehavior:{},handler:_})};return h?.addEventListener("focus",S,{capture:!0}),()=>{h?.removeEventListener("focus",S,{capture:!0})}},[_]),ol=a.useCallback(h=>{we.current.contains(h.target)&&w({machine:"scrollContainerTouch",type:"TOUCH_START"})},[w]),cl=a.useCallback(h=>{we.current.contains(h.target)&&w({machine:"scrollContainerTouch",type:"TOUCH_END"})},[w]);L("immediate",K,{state:"staging:none",callback:Rt,params:{newState:"none"}}),le(K,{state:"staging:none",transition:"OPEN",callback:a.useCallback(()=>q?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:lt?.skip}),[q,lt?.skip])}),le(K,{state:"staging:none",transition:"OPEN_PREPARED",callback:a.useCallback(h=>q?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:h.skipOpening}),[q])}),le(K,{state:"staging:none",transition:"GO_DOWN",callback:a.useCallback(h=>q?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:h.skipOpening}),[q])}),le(K,{state:"staging:none",transition:"ACTUALLY_CLOSE",callback:a.useCallback(()=>q?.sendToOpennessMachine({machine:"staging",type:"GO_UP"}),[q])}),le(K,{state:"staging:none",transition:"GO_UP",callback:a.useCallback(h=>q?.sendToOpennessMachine({machine:"staging",type:"GO_UP",skipClosing:h.skipClosing}),[q])}),L("immediate",K,{state:"staging:open",callback:Rt,params:{newState:"open"}}),L("immediate",K,{state:"staging:open",callback:a.useCallback(()=>{w({machine:"longRunning",type:"TO_TRUE"})},[w])}),L("immediate",K,{state:"staging:open",callback:a.useCallback(()=>{Te||ge==null||ge(!0)},[Te,ge])}),L("after-paint",K,{state:"staging:open",callback:a.useCallback(()=>{requestAnimationFrame(()=>{w({machine:"openness",type:"READY_TO_OPEN",skipOpening:!0}),w({machine:"staging",type:"NEXT"})})},[w])}),le(K,{state:"staging:open",transition:"NEXT",callback:yn}),L("immediate",K,{state:"staging:opening",callback:Rt,params:{newState:"opening"}}),L("immediate",K,{state:"staging:opening",callback:a.useCallback(()=>{w({machine:"longRunning",type:"TO_TRUE"})},[w])}),L("immediate",K,{state:"staging:opening",callback:a.useCallback(()=>{Te||ge==null||ge(!0)},[Te,ge])}),L("before-paint",K,{state:"staging:opening",callback:a.useCallback(()=>{C?.(),At(0,{start:0,end:0})},[At,C])}),L("after-paint",K,{state:"staging:opening",callback:a.useCallback(()=>{requestAnimationFrame(()=>{w({machine:"openness",type:"READY_TO_OPEN",skipOpening:!1})})},[w])}),tt("after-paint",K,{state:"staging:opening",callback:a.useCallback(()=>(ki(R),()=>yi(R)),[R])}),le(K,{state:"staging:opening",transition:"NEXT",callback:yn}),L("immediate",K,{state:"staging:stepping",callback:Rt,params:{newState:"stepping"}}),L("after-paint",K,{state:"staging:stepping",callback:a.useCallback(({detent:h,behavior:S})=>{m?.("stepping"),Rs(h,S)},[m,Rs])}),Yt("immediate",K,{state:"staging:stepping",callback:a.useCallback(()=>{m?.("idleInside")},[m])}),L("immediate",K,{state:"staging:closing",callback:Rt,params:{newState:"closing"}}),L("immediate",K,{state:"staging:closing",callback:a.useCallback(()=>{Te&&ge?.(!1)},[Te,ge])}),L("after-paint",K,{state:"staging:closing",callback:a.useCallback(()=>{w({machine:"openness",type:"READY_TO_CLOSE"})},[w])}),le(K,{state:"staging:closing",transition:"NEXT",callback:yn}),L("immediate",K,{state:"staging:go-down",callback:Rt,params:{newState:"go-down"}}),le(K,{state:"staging:go-down",transition:"NEXT",callback:yn}),L("immediate",K,{state:"staging:going-down",callback:Rt,params:{newState:"going-down"}}),le(K,{state:"staging:going-down",transition:"NEXT",callback:yn}),L("immediate",K,{state:"staging:going-up",callback:Rt,params:{newState:"going-up"}}),le(K,{state:"staging:going-up",transition:"NEXT",callback:yn});let ot=gt(F,"longRunning");L("immediate",ot,{state:"longRunning:true",callback:a.useCallback(()=>{je.current===null&&(je.current=document.activeElement)},[je])}),L("immediate",ot,{state:"longRunning:true",callback:a.useCallback(()=>{ce(!0),at?.(h=>h+1)},[ce,at])}),tt("before-paint",ot,{state:"longRunning:true",callback:nl}),L("before-paint",ot,{state:"longRunning:true",guard:!lt.skip,callback:a.useCallback(()=>{$e({trackToTravelOn:Et,runTravelCallbacksAndAnimations:!1,destinationDetent:0})},[$e,Et])}),tt("after-paint",ot,{state:"longRunning:true",guard:G,callback:a.useCallback(()=>_i(Jt,O),[O])}),tt("after-paint",ot,{state:"longRunning:true",callback:Zr}),L("immediate",ot,{state:"longRunning:false",callback:a.useCallback(()=>{ce(!1),at?.(h=>h-1)},[ce,at])}),L("immediate",ot,{state:"longRunning:false",callback:a.useCallback(()=>{je.current=null},[je])}),L("before-paint",ot,{state:"longRunning:false",callback:a.useCallback(()=>{X.removeAllOutletPersistedStylesFromSheet(R)},[R])}),L("after-paint",ot,{state:"longRunning:false",callback:Cs}),tt("before-paint",na,{state:"active:true",callback:Qr});let ve=gt(F,"openness"),pt=gt(F,"openness:closed.status");L("immediate",ve,{state:"openness:closed",callback:Fn,params:{newState:"idleOutside"}}),L("immediate",ve,{state:"openness:closed",callback:a.useCallback(()=>{w({machine:"longRunning",type:"TO_FALSE"})},[w])}),L("immediate",ve,{state:"openness:closed",callback:a.useCallback(()=>{Te&&ge?.(!1)},[Te,ge])}),L("immediate",ve,{state:"openness:closed",callback:a.useCallback(()=>{he({machine:"active",type:"TO_FALSE"})},[he])}),L("after-paint",ve,{state:"openness:closed",callback:a.useCallback(()=>{clearTimeout(aa.current),qt.current=null,Ot([0,0]),_n.current=!1,Re(-1),ta.current=!1},[Re,Ot])}),le(ve,{state:"openness:closed",transition:"READY_TO_OPEN",callback:a.useCallback(h=>{he({machine:"position",type:"READY_TO_GO_FRONT",skipOpening:h.skipOpening})},[he])}),ji(w,pt,"openness:closed.status:pending",{delay:3e3}),Yt("immediate",pt,{state:"openness:closed.status:pending",callback:a.useCallback(()=>{w("SWIPE_RESET")},[w])}),L("before-paint",pt,{state:"openness:closed.status:flushing-to-preparing-opening",callback:a.useCallback(()=>{w({machine:"openness:closed.status",type:""})},[w])}),L("before-paint",pt,{state:"openness:closed.status:flushing-to-preparing-open",callback:a.useCallback(()=>{w({machine:"openness:closed.status",type:""})},[w])}),L("after-paint",pt,{state:"openness:closed.status:preparing-opening",callback:a.useCallback(()=>{w({machine:"staging",type:"OPEN_PREPARED",skipOpening:!1})},[w])}),L("after-paint",pt,{state:"openness:closed.status:preparing-open",callback:a.useCallback(()=>{w({machine:"staging",type:"OPEN_PREPARED",skipOpening:!0})},[w])}),L("immediate",pt,{state:"openness:closed.status:safe-to-unmount",callback:a.useCallback(()=>{ue?.(!0)},[ue])}),Yt("immediate",pt,{state:"openness:closed.status:safe-to-unmount",callback:a.useCallback(()=>{ue?.(!1)},[ue])}),L("immediate",ve,{state:"openness:opening",callback:Fn,params:{newState:"entering"}}),L("before-paint",ve,{state:"openness:opening",callback:a.useCallback(()=>{Ue.current=We,Q?.(We),$e({trackToTravelOn:Et,destinationDetent:We,behavior:"smooth",animationConfig:lt,travelEndCallback:()=>w("NEXT"),runOnTravelStart:!1})},[Et,Q,$e,We,lt,w])}),le(ve,{state:"openness:opening",transition:"NEXT",callback:a.useCallback(()=>{he("NEXT"),w({machine:"staging",type:"NEXT"})},[he,w])}),L("immediate",ve,{state:"openness:open",callback:Fn,params:{newState:"idleInside"}}),L("immediate",ve,{state:"openness:open",callback:a.useCallback(()=>{he({machine:"active",type:"TO_TRUE"})},[he])}),L("before-paint",ve,{state:"openness:open",guard:lt.skip,callback:a.useCallback(()=>{Ue.current=We,Q?.(We),$e({trackToTravelOn:Et,destinationDetent:We})},[We,Q,$e,Et])}),tt("before-paint",ve,{state:"openness:open",callback:a.useCallback(()=>{if(Xt()&&ae){var h;(h=we.current)===null||h===void 0||h.style.setProperty("will-change","transform"),requestAnimationFrame(()=>{var S;return(S=we.current)===null||S===void 0?void 0:S.style.removeProperty("will-change","transform")})}},[ae]),params:{unusedDep:Ss}}),tt("before-paint",ve,{state:"openness:open",guard:!$,callback:al}),L("after-paint",K,{state:"staging:open",guard:ee===!0&&b==="auto",callback:a.useCallback(()=>{We===rt.length?w({machine:"frontStuck",type:"STUCK_START"}):ae&&We===1&&w({machine:"backStuck",type:"STUCK_START"})},[w,We,rt,ae])}),tt("after-paint",ve,{state:"openness:open",guard:!$&&!Ne&&!ie,callback:rl,params:{send:w}}),tt("after-paint",ve,{state:"openness:open",callback:il}),le(ve,{state:"openness:open",transition:"READY_TO_CLOSE",callback:a.useCallback(()=>he("READY_TO_GO_OUT"),[he])}),le(ve,{state:"openness:open",transition:"ACTUALLY_CLOSE",callback:a.useCallback(()=>{Ue.current=null,Q?.(0),C?.(),he("GO_OUT")},[Q,C,he])}),le(ve,{state:"openness:open",transition:"SWIPED_OUT",callback:a.useCallback(()=>{var h;(h=we.current)===null||h===void 0||h.style.setProperty("scroll-snap-type","none","important"),Ue.current=null,Q?.(0),he("GO_OUT")},[Q,he])}),Yt("immediate",ve,{state:"openness:open",callback:a.useCallback(()=>{w("SWIPE_END")},[w])});let Fa=gt(F,"backStuck"),sa=a.useRef(!1);le(Fa,{state:"backStuck:false",transition:"STUCK_START",callback:a.useCallback(()=>sa.current=!0,[])}),le(Fa,{state:"backStuck:true",transition:"STUCK_END",callback:a.useCallback(()=>sa.current=!1,[])}),le(Fa,{state:"backStuck:false",transition:"STUCK_START",guard:ee===!0&&b==="auto",callback:a.useCallback(()=>{F.silent.matches("scrollContainerTouch:ended")&&nn("back")},[F.silent,nn])});let Ua=gt(F,"frontStuck"),Un=a.useRef(!1);le(Ua,{state:"frontStuck:false",transition:"STUCK_START",callback:a.useCallback(()=>Un.current=!0,[])}),le(Ua,{state:"frontStuck:true",transition:"STUCK_END",callback:a.useCallback(()=>Un.current=!1,[])}),le(Ua,{state:"frontStuck:false",transition:"STUCK_START",guard:ee===!0&&b==="auto",callback:a.useCallback(()=>{F.silent.matches("openness:open")&&F.silent.matches("scrollContainerTouch:ended")&&nn("front")},[F.silent,nn])}),L("immediate",F,{state:"scrollContainerTouch:ended",guard:ee===!0&&b==="auto",callback:a.useCallback(()=>{ta.current&&setTimeout(()=>{requestAnimationFrame(()=>{F.silent.matches("openness:open")&&(F.silent.matches("backStuck:true")?nn("back"):F.silent.matches("frontStuck:true")&&nn("front"))})},80)},[F.silent,nn])});let Sn=gt(F,"openness:open.scroll"),Ba=a.useRef(!1);L("immediate",Sn,{state:"openness:open.scroll:ongoing",callback:a.useCallback(()=>Ba.current=!0,[])}),Yt("immediate",Sn,{state:"openness:open.scroll:ongoing",callback:a.useCallback(()=>Ba.current=!1,[])}),L("immediate",Sn,{state:"openness:open.scroll:ongoing",callback:a.useCallback(()=>{ta.current=!0},[])}),tt({start:"immediate",update:"before-paint"},Sn,{state:"openness:open.scroll:ongoing",callback:sl});let Wa=a.useRef(()=>{});L("after-paint",Sn,{state:"openness:open.scroll:ended",callback:a.useCallback(()=>{w({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"OCCURRED"}),Wa.current(),Wa.current=()=>{}},[w])}),Yt("immediate",Sn,{state:"openness:open.scroll:ended",callback:a.useCallback(()=>{w({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"RESET"})},[w])});let Va=a.useRef(!1);L("immediate",F,{state:"openness:open.move:ongoing",callback:a.useCallback(()=>{Va.current=!0,_a.current=Qn},[Qn])}),Yt("immediate",F,{state:"openness:open.move:ongoing",callback:a.useCallback(()=>{Va.current=!1,_a.current=()=>{}},[])});let qa=a.useRef(!1);L("immediate",F,{state:"openness:open.swipe:ongoing",callback:a.useCallback(()=>qa.current=!0,[])}),Yt("immediate",F,{state:"openness:open.swipe:ongoing",callback:a.useCallback(()=>qa.current=!1,[])}),L("immediate",F,{state:"openness:open.swipe:ongoing",callback:a.useCallback(()=>C?.(),[C])}),L("immediate",F,{state:"openness:open.swipe:ongoing",callback:Fn,params:{newState:"stepping"}}),L("immediate",F,{state:"openness:open.swipe:ended",callback:a.useCallback(()=>Dn(),[Dn])}),L("immediate",F,{state:"openness:open.swipe:ended",guard:typeof m=="function",callback:a.useCallback(()=>{F.silent.matches("openness:open")&&m("idleInside")},[F.silent,m])});let js=a.useCallback(()=>{!kn.matches("position:front")||pe.current[0]===0&&pe.current[1]===0||ae&&pe.current[0]!==pe.current[1]?Te===!1&&ge?.(!0):w("ACTUALLY_CLOSE")},[kn,w,Te,ge,ae]);le(F,{state:"openness:open.evaluateCloseMessage:true",transition:"CLOSE",callback:js}),le(F,{state:"openness:open.evaluateCloseMessage:false",transition:"CLOSE",callback:js}),le(F,{state:"openness:open.evaluateStepMessage:true",transition:"STEP",callback:As}),le(F,{state:"openness:open.evaluateStepMessage:false",transition:"STEP",callback:As}),L("immediate",ve,{state:"openness:closing",callback:Fn,params:{newState:"exiting"}}),L("before-paint",ve,{state:"openness:closing",callback:a.useCallback(()=>{Ue.current=0,Q?.(0),$e({trackToTravelOn:M.track,destinationDetent:0,behavior:"smooth",animationConfig:M,travelEndCallback:()=>w("NEXT")})},[Q,$e,M,w])}),le(ve,{state:"openness:closing",transition:"NEXT",callback:a.useCallback(()=>{he("NEXT"),w({machine:"staging",type:"NEXT"})},[he,w])});let ul=a.useCallback(()=>w({machine:"skipOpening",type:lt.skip?"TO_TRUE":"TO_FALSE"}),[w,lt.skip]);tt("after-paint",F,{state:"",callback:ul});let dl=a.useCallback(()=>w({machine:"skipClosing",type:M.skip?"TO_TRUE":"TO_FALSE"}),[w,M.skip]);tt("after-paint",F,{state:"",callback:dl}),a.useEffect(()=>{Te!==void 0&&w(Te?"OPEN":"CLOSE")},[Te,w]);let ml=Vn(()=>{Cs(),mn?.(R),X.removeAllOutletPersistedStylesFromSheet(R)}),Ds=a.useRef(!0),pl=Vn(()=>{Te&&ge?.(!1)});a.useEffect(()=>()=>{!Ds.current&&(pl(),Rt(null,{newState:"none"}),ml(),ce(!1),ot.silent.matches("longRunning:true")&&at?.(h=>h-1))},[]),a.useEffect(()=>()=>Ds.current=!1),a.useEffect(()=>{Me!==void 0&&pe.current[0]!==Me&&pe.current[1]!==Me&&Ue.current!==Me&&w({type:"STEP",activeDetent:Me})},[Me,w]),a.useEffect(()=>{let h=()=>{var S;return(S=we.current)===null||S===void 0?void 0:S.scrollTo(0,0)};return window.addEventListener("unload",h),()=>window.removeEventListener("unload",h)},[]);let _s=Vn((h,S)=>{mt.current&&!ve.matches("openness:closed")&&At(h,S)}),Ls=Vn(ws);a.useEffect(()=>()=>{_s(0,{start:0,end:0}),mt.current&&Ls(),Pr(null)},[ot.silent,at,_s,Ls]);let ra=Ve("Sheet",{staging:K.getValues()[0],openness:ve.getValues()[0],opennessClosedStatus:pt.getValues()[0],position:kn.getValues()[0],positionCoveredStatus:Vt.getValues()[0],placement:Ce,track:V,swipeDisabled:$,swipeOutDisabledWithDetent:ie,swipeOvershootDisabled:ee,swipeTrap:Ln,scrollContainerShouldBePassThrough:tn}),la=a.useMemo(()=>!pt.matches(["openness:closed.status:flushing-to-preparing-open","openness:closed.status:flushing-to-preparing-opening","openness:closed.status:safe-to-unmount"]),[pt]),fl=a.useMemo(()=>ve.matches("openness:closed")&&la,[la,ve]),Fs=a.useMemo(()=>K.matches(["staging:opening","staging:open"]),[K]),gl=a.useMemo(()=>la||Fs,[la,Fs]),hl=a.useMemo(()=>j&&(kn.matches(["position:front","position:covered"])||Ae!=="none"),[j,kn,Ae]);return c.jsx(Kn,{genericContext:$t,customContext:Ie,value:Qe,children:c.jsx(vt.Provider,{value:{sheetContext:Je,titleId:xe,descriptionId:Pe,styleAttributes:ra,backdropRef:Qt,scrollContainerRef:we,frontSpacerRef:fn,contentWrapperRef:wt,contentRef:Ft,backSpacerRef:jn,detentMarkersRefs:gn,leftEdgeRef:Jt,setBackdropSwipeable:Zt,setBleedingBackgroundPresent:it,detents:rt,longRunningState:ot,staging:Ae,layerCovered:Tt,placement:Ce,track:V,travelAxis:St,nativeEdgeSwipePrevention:G,bleedingBackgroundPresent:en,setBackdropTravelHandler:Xr,ancestorPrimarySwipeTrapActiveOnYAxis:Ln==="vertical"||Ln==="both",scrollContainerTouchStartHandler:ol,scrollContainerTouchEndHandler:cl,getContentCoordinatesWhenRestingOnLastDetent:Kr,getOffsetFromCurrentToNextDetent:ll},children:gl&&c.jsxs("div",{id:R,...ra("view",["track","staging","openness","opennessClosedStatus","scrollContainerShouldBePassThrough"],{className:l,dataSilk:[o,"0ab",W&&"0ah",yt&&"0aj",fl&&"0ak","0al"]}),ref:kt,"aria-labelledby":xe,"aria-describedby":Pe,...Z,role:re,tabIndex:-1,children:[c.jsx(Nt.Root,{...ra("primaryScrollTrapRoot",["track","scrollContainerShouldBePassThrough"]),active:Ln!=="none",axis:Ln,children:c.jsx(Nt.Stabiliser,{children:i})}),c.jsx(Nt.Root,{...ra("secondaryScrollTrapRoot",["scrollContainerShouldBePassThrough"]),automaticallyDisabledForOptimisation:!1,preventBodyScroll:hl})]})})})});Fr.displayName="Sheet.Anonymous";class Nn extends oe.Component{static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t){console.error(t)}render(){return this.state.hasError?c.jsx("h1",{children:"Something went wrong."}):this.props.children}constructor(t){super(t),this.state={hasError:!1}}}let Ur=oe.forwardRef((e,t)=>{let{asChild:n,children:s,className:r,"data-silk":i,...l}=e,o=n?qe:"span",u=Ve("VisuallyHidden",{});return c.jsx(o,{...u("root",[],{className:r,dataSilk:[i]}),...l,ref:t,children:s})});Ur.displayName="VisuallyHidden.Root";let eo={Root:Ur},Pa=oe.createContext(null);Pa.displayName="SheetStack.GenericContext";let Gn=[],to=(e,t)=>{let n=()=>{let[s,r]=function(o){let u=0,d=0;for(;o;)u+=o.offsetLeft,d+=o.offsetTop,o=o.offsetParent;return[u,d]}(e),i={top:r+scrollY,bottom:Math.max(e.offsetHeight-(r+scrollY+innerHeight),0),left:s+scrollX,right:Math.max(e.offsetWidth-(s+scrollX+innerWidth),0),height:innerHeight,width:innerWidth},l=i.top<=0&&i.bottom<=0&&i.left<=0&&i.right<=0?null:i;t(l)};Gn.push({element:e,callback:n}),n(),Gn.length===1&&(Hn=function(s,r){let i;return function(){clearTimeout(i),i=window.setTimeout(()=>{clearTimeout(i),s()},100)}}(()=>{Gn.forEach(s=>s.callback())}),window.addEventListener("scroll",Hn),window.addEventListener("resize",Hn))},no=e=>{(Gn=Gn.filter(t=>t.element!==e)).length||(window.removeEventListener("scroll",Hn),window.removeEventListener("resize",Hn))},gs=(e,t)=>{let n=a.useId(),s=a.useRef(null),r=nt(s,t),{sheetId:i,stackId:l,sheetsCount:o,travelAnimation:u,stackingAnimation:d,style:f}=e,{sheetId:m,longRunning:p}=Na(i),[g,v]=a.useState(null),{willChangesValuesString:k,outletTransformedOnAnimation:b,nonAnimatedTravelStyles:y,nonAnimatedStackingStyles:C,clippedToViewport:A}=a.useMemo(()=>{let P=[],_={},W={},N=!1,I=!1;return[u,d].forEach((U,te)=>{if(U){let J=U.hasOwnProperty("properties")?U.properties:U;Object.entries(J).forEach(([Y,de])=>{!de||(Y==="clipBoundary"&&(I=!0),typeof de=="string"&&(te===0?_[Y]=de:W[Y]=de),Or.includes(Y)||Y==="transform"?P.includes("transform")||(P.push("transform"),N=!0):Y!=="opacity"||P.includes("opacity")||P.push("opacity"))})}}),{willChangesValuesString:P.join(", "),outletTransformedOnAnimation:N,nonAnimatedTravelStyles:_,nonAnimatedStackingStyles:W,clippedToViewport:I}},[d,u]),{modifiedTravelAnimation:E,modifiedNonAnimatedTravelStyles:j,modifiedStackingAnimation:G,modifiedNonAnimatedStackingStyles:O}=a.useMemo(()=>{let P;if(g){let{top:te,bottom:J,left:Y,right:de}=g;P=`${te-.1}px ${de}px ${J}px ${Y}px`}let _=(te,J)=>{let Y,de,He;if(!te)return[];let{top:Z,left:Je,height:Qe,width:dt}=g||{},Oe=te.hasOwnProperty("properties")?te.properties:te,Ie=Oe.clipBoundary,re=Oe.clipBorderRadius,Te=Oe.clipTransformOrigin;if(Ie&&(Te||(Te="50% 50% 0"),He=Te.split(" ").map(Se=>Se==="top"||Se==="left"?"0%":Se==="bottom"||Se==="right"?"100%":Se).map((Se,Me)=>{if(Me===0){let Q=Se;return Se.includes("%")?Q=Se.replace(/\b\d+%/,R=>parseFloat(R)/100*dt+"px"):Se==="0"&&(Q="0px"),"calc("+Je+"px + "+Q+")"}if(Me===1){let Q=Se;return Se.includes("%")?Q=Se.replace(/\b\d+%/,R=>parseFloat(R)/100*Qe+"px"):Se==="0"&&(Q="0px"),"calc("+Z+"px + "+Q+")"}}).join(" ")),Ie)if(Ie==="layout-viewport")if(P){if(typeof re=="string")Y=`inset(${P} round ${re})`;else if(Array.isArray(re)){let ue=`inset(${P} round `;Y=({tween:ce})=>ue+ce(...re)+")"}else if(typeof re=="function"){let ue=`inset(${P} round `;Y=ce=>ue+re(ce)+")"}else Y=`inset(${P})`;de="0.001px"}else de=re??null;else if(typeof Ie=="function")if(P){if(typeof re=="string")Y=ue=>Ie(ue)!=="none"?`inset(${P} round ${re})`:"none";else if(Array.isArray(re)){let ue=`inset(${P} round `;Y=ce=>Ie(ce)!=="none"?ue+ce.tween(...re)+")":"none"}else if(typeof re=="function"){let ue=`inset(${P} round `;Y=ce=>Ie(ce)!=="none"?ue+re(ce)+")":"none"}else Y=ue=>Ie(ue)!=="none"?`inset(${P})`:"none";de="0.001px"}else re&&(de=ue=>{if(Ie(ue)==="layout-viewport")return re});else Ie==="none"&&(Y="none",de=re??null);else{let ue={...Oe},ce={...J};return delete ue.clipBoundary,delete ue.clipBorderRadius,delete ue.clipTransformOrigin,delete ce.clipBoundary,delete ce.clipBorderRadius,delete ce.clipTransformOrigin,[ue,ce]}let ge={...Oe},je={...J};return delete ge.clipBoundary,delete ge.clipBorderRadius,delete ge.clipTransformOrigin,delete je.clipBoundary,delete je.clipBorderRadius,delete je.clipTransformOrigin,typeof Y=="string"?je.clipPath=Y:ge.clipPath=Y,typeof de=="string"?je.borderRadius=de:ge.borderRadius=de,typeof He=="string"&&(je.transformOrigin=He),[ge,je]},[W,N]=_(u,y),[I,U]=_(d,C);return{modifiedTravelAnimation:W,modifiedNonAnimatedTravelStyles:N,modifiedStackingAnimation:I,modifiedNonAnimatedStackingStyles:U}},[g,C,y,d,u]);Le(()=>{let P=s.current,_=n&&A&&(!l&&p||l&&o>=1);if(_)return to(P,v),()=>{_&&no(P)}},[n,A,p,l,o]);let B=a.useMemo(()=>l?{...f,...o>=1?O:{},willChange:o>=1?k+(f?.willChange?", "+f?.willChange:""):f?.willChange}:{...f,...p?j:{},...o>=1?O:{},willChange:p?k+(f?.willChange?", "+f?.willChange:""):f?.willChange},[l,f,j,O,p,o,k]);return Le(()=>{let P,_=X.findActualFixedComponentsInsideOutlet(s.current);if(_.length)return b&&(P=(W=>{let N=()=>{_.forEach(U=>{if(!U.element||U.compensated)return;let te=0,J=0,Y=U.element.style.transform,de=window.getComputedStyle(U.element),He=de.getPropertyValue("--silk-fixed-side"),Z=de.getPropertyValue("transform");X.updateFixedComponent({id:U.id,initialInlineCSSTransform:Y,compensated:!0}),te=He.includes("bottom")?-1*(s.current.offsetHeight-(scrollY+window.innerHeight)):scrollY,J=He.includes("right")?-1*(s.current.offsetWidth-(scrollX+window.innerWidth)):scrollX,(Math.abs(te)!==0||Math.abs(J)!==0)&&U.element.style.setProperty("transform",(Z!=="none"?Z+" ":"")+"translateX("+J+"px) translateY("+te+"px)")})},I=()=>{window.removeEventListener("resize",N),window.removeEventListener("scroll",N),_.forEach(U=>{U.element&&U.compensated&&(U.initialInlineCSSTransform?(U.element.style.setProperty("transform",U.initialInlineCSSTransform),X.updateFixedComponent({id:U.id,initialInlineCSSTransform:void 0,compensated:!1})):(U.element.style.removeProperty("transform"),X.updateFixedComponent({id:U.id,compensated:!1})))})};return W?(N(),window.addEventListener("resize",N),window.addEventListener("scroll",N)):I(),I})(l?o>0:p)),P},[p,n,b,o,l]),Le(()=>(X.addOutletToSheet(m,n),()=>X.removeOutletFromSheet(m,n)),[n,m]),Le(()=>{let P=s.current;return E&&X.addAnimationToSheetOrStack({sheetId:m,type:"travel",element:P,config:E}),G&&X.addAnimationToSheetOrStack({sheetId:l?null:m,stackId:l,type:"stacking",element:P,config:G}),()=>{E&&X.removeAnimationFromSheetOrStack({sheetId:m,type:"travel",element:P}),G&&X.removeAnimationFromSheetOrStack({sheetId:l?null:m,stackId:l,type:"stacking",element:P})}},[m,l,E,G]),{ref:s,outletId:n,styleValue:B,composedRef:r}},Na=e=>a.useContext(e??$t)||{};Nn.displayName="Sheet.ErrorBoundary",qe.displayName="Sheet.Slot.Root";let dn=oe.forwardRef((e,t)=>{let{asChild:n,forComponent:s,travelAnimation:r,stackingAnimation:i,style:l,className:o,...u}=e,{staging:d,StackContext:f}=Na(s),m=f??oe.createContext(null),{sheetsCount:p}=a.useContext(m)||{},{styleValue:g,composedRef:v}=gs({sheetId:s,sheetsCount:p,travelAnimation:r,stackingAnimation:i,style:l},t),k=a.useMemo(()=>d!=="none",[d]),b=n?qe:"div",y=Ve("Sheet",{});return c.jsx(b,{style:g,...y("outlet",[],{className:o,dataSilk:[k&&"0aj"]}),...u,ref:v})});dn.displayName="Sheet.Outlet";let Br=oe.forwardRef(({asChild:e,...t},n)=>{let s=e?qe:"button",{forComponent:r,className:i,"data-silk":l,onPress:o,onClick:u,children:d,action:f="present",travelAnimation:m,stackingAnimation:p,...g}=t,{sheetRole:v,sheetId:k,open:b,onOpenChange:y,elementFocusedLastBeforeShowing:C}=Na(r),A=X.findSheet(k),E=a.useRef(null),j=nt(E,n),G=a.useMemo(()=>(v==="dialog"||v==="alertdialog")&&f==="present"?"dialog":void 0,[f,v]),O=a.useMemo(()=>f==="present"||f==="dismiss"?b:void 0,[f,b]),B=Ve("Sheet",{});return c.jsx(dn,{forComponent:r,asChild:!0,travelAnimation:m,stackingAnimation:p,children:c.jsx(s,{...B("trigger",[],{className:i,dataSilk:[l]}),onClick:P=>{var _,W;let{forceFocus:N,runAction:I}=Ct({nativeEvent:P,defaultBehavior:{forceFocus:!0,runAction:!0},handler:o});N&&((_=E.current)===null||_===void 0||_.focus({preventScroll:!0})),I&&(f==="present"?(C.current=E.current,y(!0)):f==="dismiss"?y(!1):(f==="step"||f.type==="step")&&(A==null||(W=A.sendToOpennessMachine)===null||W===void 0||W.call(A,{type:"STEP",direction:f==="step"?"up":f.direction,detent:f==="step"?null:f.detent}))),u?.(P)},"aria-haspopup":G,"aria-controls":k,"aria-expanded":O,ref:j,...g,children:d})})});Br.displayName="Sheet.Trigger";let ao=oe.forwardRef((e,t)=>{let{children:n,className:s,action:r="step",...i}=e,{detents:l}=a.useContext(vt)||{},o=l.length===1&&r!=="dismiss",u=Ve("Sheet",{});return c.jsx(Br,{...u("handle",[],{className:s}),action:r,disabled:o,...i,ref:t,children:c.jsx(eo.Root,{children:n??(r==="dismiss"?"Dismiss":"Cycle")})})});ao.displayName="Sheet.Handle";let Wr=e=>{var t;let[n,s]=a.useState(!1);return a.useEffect(()=>(s(!0),()=>s(!1)),[]),n?pr.createPortal(e.children,(t=e.container)!==null&&t!==void 0?t:document.body):null};Wr.displayName="Sheet.Portal";let so=({rootRef:e})=>(a.useEffect(()=>{let t=e.current;if(!t)return;getComputedStyle(t).getPropertyValue("--silk-aY").trim()!=="1"&&console.warn("The CSS styles for Silk are not found. Please refer to the documentation on how to import them.")},[e]),null),Vr=oe.forwardRef((e,t)=>{let{className:n,"data-silk":s,license:r,sheetRole:i,componentId:l,forComponent:o,defaultPresented:u,presented:d,onPresentedChange:f,defaultActiveDetent:m,activeDetent:p,onActiveDetentChange:g,onSafeToUnmountChange:v,...k}=e,b=a.useRef(null),y=nt(b,t),C=u!=null&&u,[A,E]=a.useState(C),j=d!==void 0&&f!==void 0,G=a.useMemo(()=>j?d:A,[j,d,A]),O=a.useMemo(()=>j?f:E,[j,f,E]),B=a.useRef(null),[P,_]=a.useState(!C),W=a.useCallback(Z=>{v?.(Z),_(Z)},[v]),[N,I]=a.useState(G),[U,te]=a.useState("none"),J=o==="closest"?Pa:o,Y=un(),de={license:r,StackContext:J,CustomSheetContext:l,sheetId:Y,sheetRole:i,open:G,onOpenChange:O,onSafeToUnmountChange:W,defaultActiveDetent:m,activeDetent:p,onActiveDetentChange:g,safeToUnmount:P,longRunning:N,setLongRunning:I,staging:U,setStaging:te,elementFocusedLastBeforeShowing:B,...k},He=Ve("Sheet");return c.jsxs(Nn,{children:[c.jsx(so,{rootRef:b}),c.jsx(Kn,{genericContext:$t,customContext:l,value:de,children:c.jsx(dn,{...He("root",[],{className:n,dataSilk:[s]}),ref:y,...k})})]})});Vr.displayName="Sheet.Root";let qr=oe.forwardRef((e,t)=>{let{forComponent:n}=e,{open:s,safeToUnmount:r}=Na(n);return(s||!r)&&c.jsx(Fr,{...e,ref:t})});qr.displayName="Sheet.View";let Hr=oe.forwardRef(({asChild:e,swipeable:t=!0,...n},s)=>{let{longRunningState:r,backdropRef:i,styleAttributes:l,setBackdropSwipeable:o,setBackdropTravelHandler:u}=a.useContext(vt)||{},{className:d,"data-silk":f,children:m,travelAnimation:p,stackingAnimation:g,themeColorDimming:v=!1,...k}=n,b=nt(i,s);a.useEffect(()=>(o(t),()=>{o(!1)}),[o,t]);let y=a.useMemo(()=>({opacity:({progress:G})=>Math.min(.33*G,.33),...p}),[p]),[C,A]=a.useState(y),E=un(),j=a.useRef(0);return Le(()=>{let G=!1,O=()=>{G&&X.removeThemeColorDimmingOverlay(E)};if(r.matches("longRunning:true")){let B;if(!(G=!!(Xt()&&!ci()&&v==="auto"&&y.opacity&&X.getAndStoreUnderlyingThemeColorAsRGBArray())))return;let{opacity:P,..._}=y;if(A({opacity:"ignore",..._}),Array.isArray(P)){let[W,N]=P;B=({progress:I})=>W+(N-W)*I}else typeof P=="function"&&(B=P,A({opacity:"ignore",..._}));if(B&&i&&u){let W=window.getComputedStyle(i.current).backgroundColor,N=X.updateThemeColorDimmingOverlay({abortRemoval:!0,dimmingOverlayId:E,color:W,alpha:j.current}),I=U=>{var te;let J=B(U);X.updateThemeColorDimmingOverlayAlphaValue(N,J),(te=i.current)===null||te===void 0||te.style.setProperty("opacity",J),j.current=J};u(()=>I)}}return r.matches("longRunning:false")&&O(),()=>{O()}},[r,E,i,u,v,p,y]),c.jsx(dn,{...l("backdrop",["scrollContainerShouldBePassThrough"],{className:d,dataSilk:[f]}),travelAnimation:C,stackingAnimation:g,...k,ref:b,asChild:e,children:m})});Hr.displayName="Sheet.Backdrop";let Gr=oe.forwardRef((e,t)=>{var n;let{asChild:s,children:r,className:i,"data-silk":l,travelAnimation:o,stackingAnimation:u,style:d,...f}=e,m=s?qe:"div",{StackContext:p}=a.useContext($t)||{},g=p??oe.createContext(null),{sheetsCount:v}=a.useContext(g)||{},{styleValue:k,composedRef:b}=gs({sheetId:$t,sheetsCount:v,travelAnimation:o,stackingAnimation:u,style:d},t),{scrollContainerRef:y,frontSpacerRef:C,contentWrapperRef:A,contentRef:E,backSpacerRef:j,detentMarkersRefs:G,leftEdgeRef:O,nativeEdgeSwipePrevention:B,scrollContainerTouchStartHandler:P,scrollContainerTouchEndHandler:_,styleAttributes:W,detents:N,bleedingBackgroundPresent:I}=a.useContext(vt)||{},U=nt(E,b);return c.jsxs("div",{...W("scrollContainer",["track","swipeDisabled","swipeOvershootDisabled","staging","positionCoveredStatus","scrollContainerShouldBePassThrough","swipeTrap"],{dataSilk:["0ac"]}),ref:y,onTouchStart:P,onTouchEnd:_,children:[c.jsx("div",{...W("frontSpacer",["track"]),ref:C}),c.jsxs("div",{...W("contentWrapper",["placement","track","swipeOvershootDisabled","swipeOutDisabledWithDetent","staging","position"]),ref:A,children:[c.jsx(m,{...W("content",["track","placement","scrollContainerShouldBePassThrough"],{className:i,dataSilk:[l,I&&"0af"]}),style:k,...f,ref:U,children:r}),B&&c.jsx("div",{...W("leftEdge",["track"]),ref:O})]}),c.jsx("div",{...W("backSpacer",["track"]),ref:j,children:N.map((te,J)=>c.jsx("div",{ref:Y=>{G.current.length>N.length&&(G.current=G.current.slice(0,N.length)),G.current[J]=Y},...W("detentMarker",["track","swipeOutDisabledWithDetent"]),style:{"--silk-aA":(n=N[J-1])!==null&&n!==void 0?n:"0px","--silk-aB":te,"--silk-aC":J}},J))})]})});Gr.displayName="Sheet.Content";let ro=oe.forwardRef(({asChild:e,...t},n)=>{let{className:s,"data-silk":r,...i}=t,{staging:l,placement:o,track:u,setBleedingBackgroundPresent:d}=a.useContext(vt)||{};a.useEffect(()=>(d(!0),()=>{d(!1)}),[d]);let f=u==="horizontal"||u==="vertical",m=Ve("Sheet",{staging:l,placement:o,track:u,bleedDisabled:f});return c.jsx(dn,{asChild:e,...m("bleedingBackground",["staging","placement","track","bleedDisabled"],{className:s,dataSilk:[r]}),...i,ref:n})});ro.displayName="Sheet.BleedingBackground";let lo=oe.forwardRef((e,t)=>{let{className:n,"data-silk":s,...r}=e,{travelAxis:i}=a.useContext(vt)||{},l=a.useMemo(()=>i==="vertical"?"horizontal":"vertical",[i]),[o,u]=a.useState(!1);a.useEffect(()=>u(Xt()),[]);let d=Ve("SpecialWrapper");return c.jsx(Nt.Root,{...d("root",[],{className:n,dataSilk:[s]}),active:o,axis:l,...r,ref:t})});lo.displayName="Sheet.SpecialWrapper.Root";let io=oe.forwardRef((e,t)=>c.jsx(Nt.Stabiliser,{...e,ref:t}));io.displayName="Sheet.SpecialWrapper.Content";let oo=oe.forwardRef((e,t)=>{let{asChild:n,travelAnimation:s,stackingAnimation:r,...i}=e,l=n?qe:"h2",{titleId:o}=a.useContext(vt);return c.jsx(dn,{asChild:!0,travelAnimation:s,stackingAnimation:r,children:c.jsx(l,{id:o,ref:t,...i})})});oo.displayName="Sheet.Title";let co=oe.forwardRef((e,t)=>{let{asChild:n,travelAnimation:s,stackingAnimation:r,...i}=e,{descriptionId:l}=a.useContext(vt),o=n?qe:"p";return c.jsx(dn,{asChild:!0,travelAnimation:s,stackingAnimation:r,children:c.jsx(o,{id:l,...i,ref:t})})});co.displayName="Sheet.Description";let Jn={Root:Vr,View:qr,Backdrop:Hr,Content:Gr,Portal:Wr};Nn.displayName="SheetStack.ErrorBoundary";let uo=oe.forwardRef((e,t)=>{let{componentId:n,className:s,"data-silk":r,asChild:i,...l}=e,o=a.useId();Le(()=>(X.addSheetStack({id:o}),()=>X.removeSheetStack(o)),[o]);let[u,d]=a.useState([]),f=a.useCallback(O=>{d(B=>{let P,_=B.findIndex(W=>W.sheetId===O.sheetId);return _!==-1?(P=[...B])[_]=O:P=[...B,O],P})},[]),m=a.useCallback(O=>{d(B=>B.filter(P=>P.sheetId!==O))},[]),p=a.useCallback(O=>{let B=u.findIndex(P=>P.sheetId===O);return B===-1?u[u.length-1]:u[B-1]},[u]),[g,v]=a.useState(0);Le(()=>{g===0&&X.removeAllOutletPersistedStylesFromStack(o)},[g,o]);let[k,b]=a.useState([]),y=a.useCallback(O=>{b(B=>{let P=B.findIndex(_=>_.sheetId===O.sheetId);if(P===-1)return[...B,O];{let _=[...B];return _[P]=O,_}})},[]),C=a.useCallback(O=>{b(B=>B.filter(P=>P.sheetId!==O))},[]),A=a.useMemo(()=>k.some(O=>O.staging!=="none")?"not-none":"none",[k]),E=a.useMemo(()=>({stackId:o,sheetsCount:g,setSheetsCount:v,updateSheetStagingDataInStack:y,removeSheetStagingDataInStack:C,sheetsInStackMergedStaging:A,updateSheetDataInStack:f,removeSheetDataFromStack:m,getPreviousSheetDataInStack:p}),[o,g,y,C,A,f,m,p]),j=i?qe:"div",G=Ve("SheetStack");return c.jsx(Nn,{children:c.jsx(Kn,{genericContext:Pa,customContext:n,value:E,children:c.jsx(j,{...G("root",[],{className:s,dataSilk:[r]}),ref:t,...l})})})});uo.displayName="SheetStack.Root";let mo=oe.forwardRef((e,t)=>{let{forComponent:n="closest",asChild:s,stackingAnimation:r,style:i,className:l,...o}=e,u=n==="closest"?Pa:n,{stackId:d,sheetsCount:f,sheetsInStackMergedStaging:m}=a.useContext(u);Le(()=>{X.addSheetStack({id:d})},[d]);let{styleValue:p,composedRef:g}=gs({sheetsCount:f,stackId:d,stackingAnimation:r,style:i},t),v=a.useMemo(()=>m!=="none",[m]),k=Ve("SheetStack",{}),b=s?qe:"div";return c.jsx(b,{style:p,...k("outlet",[],{className:l,dataSilk:[v&&"0aj"]}),...o,ref:g})});mo.displayName="SheetStack.Outlet";let hs=oe.createContext(null);hs.displayName="Scroll.GenericContext";let Ia=oe.createContext({contentRef:null});Ia.displayName="Scroll.Anonymous";let zr=e=>a.useContext(e??hs)||{},po=Ee==="android"?102:54,$a=ps||Ee==="android"?"instant":"smooth",fo=(e,t,n=300)=>{let s,r=e.scrollTop,i=()=>{clearTimeout(s),e.removeEventListener("scroll",l),t()},l=()=>{let o=e.scrollTop;if(o>r){i();return}r=o,clearTimeout(s),s=setTimeout(i,n)};s=setTimeout(i,n),e.addEventListener("scroll",l)},Ka=e=>{if(!e)return{top:0,bottom:0};let t=e.getBoundingClientRect(),n=window.getComputedStyle(e),s=t.top+parseFloat(n.borderTopWidth),r=t.bottom-parseFloat(n.borderBottomWidth);return{top:s,bottom:r}},cr=()=>{let e=window.visualViewport.height,t=window.visualViewport.offsetTop;return{top:t,bottom:t+e}},go=(e,t)=>Math.abs(Math.min(e+t,0)),ho=(e,t)=>Math.max(e-t,0),ur=(e,t,n)=>{e.style.setProperty("height",t+"px"),n.current=t},vo=({scrollContainer:e,elementTop:t,elementBottom:n,behavior:s,scrollMarginTop:r,scrollMarginBottom:i,scrollPortTop:l,scrollPortBottom:o,visualViewportTop:u,visualViewportBottom:d,beforeScrollCallback:f})=>{if(!e)return;let m=t-Math.max(l,u),p=Math.min(o,d)-n;if(m<r){let g=Math.max(-e.scrollTop,m-r);g!==0&&(f(),e.scrollBy({top:g,behavior:s}))}else if(p<i){let g=e.scrollHeight-e.clientHeight-e.scrollTop,v=Math.min(g,i-p);v!==0&&(f(),e.scrollBy({top:v,behavior:s}))}};Nn.displayName="Scroll.ErrorBoundary";let bo=oe.forwardRef((e,t)=>{let{asChild:n,className:s,componentId:r,componentRef:i,"data-silk":l,...o}=e,u=n?qe:"div",d=a.useRef(()=>{}),f=a.useCallback((...k)=>{let b=d.current;return b(...k)},[]),m=a.useRef(()=>{}),p=a.useCallback((...k)=>{let b=m.current;return b(...k)},[]),g=a.useMemo(()=>({componentRef:i,scrollToRef:d,scrollTo:f,scrollByRef:m,scrollBy:p}),[i,p,f]),v=Ve("Scroll",{});return c.jsx(Nn,{children:c.jsx(Kn,{genericContext:hs,customContext:r,value:g,children:c.jsx(u,{...v("root",[],{className:s,dataSilk:[l]}),...o,ref:t})})})});bo.displayName="Scroll.Root";let pa=null,Yr=()=>{let e=a.useRef(null);Le(()=>{pa===null&&e.current&&(pa=e.current.offsetWidth-e.current.clientWidth,document.body.style.setProperty("--ua-scrollbar-thickness",pa+"px"))},[]);let t=Ve("Scroll"),n=c.jsx("div",{...t("UAScrollbarMeasurer"),ref:e});return pa===null?typeof window<"u"?pr.createPortal(n,document.body):c.jsx(c.Fragment,{children:n}):null};Yr.displayName="Scroll.Anonymous";let fa=(e,t,n,s=!1)=>typeof e=="boolean"?e:typeof e?.[t]=="boolean"?e[t]:typeof e?.[n]=="boolean"?e[n]:s,ko=oe.forwardRef((e,t)=>{let{asChild:n,children:s,className:r,"data-silk":i,forComponent:l,axis:o="y",pageScroll:u=!1,nativePageScrollReplacement:d=!1,safeArea:f="visual-viewport",scrollGestureTrap:m=!1,scrollGestureOvershoot:p=!0,scrollGesture:g="auto",onScrollStart:v,onScroll:k,onScrollEnd:b,onFocusInside:y,nativeFocusScrollPrevention:C=!0,scrollAnimationSettings:A={skip:"auto"},scrollAnchoring:E=!0,scrollSnapType:j="none",scrollPadding:G="auto",scrollTimelineName:O="none",nativeScrollbar:B=!0,...P}=e,[_,W,N,I]=a.useMemo(()=>{let M=fa(m,"xStart","x"),me=fa(m,"xEnd","x"),ae=fa(m,"yStart","y"),ee=fa(m,"yEnd","y"),$=M,ie=me,ze=ae,Ne=ee;return o==="y"?ie=$=M!==me||M:Ne=ze=ae!==ee||ae,[$,ie,ze,Ne]},[m,o]),U=a.useMemo(()=>_!==W,[W,_]),te=a.useMemo(()=>N!==I,[I,N]),J=a.useMemo(()=>{if(j==="proximity"){if(o==="y")return"proximityY";if(o==="x")return"proximityX"}else{if(j!=="mandatory")return"none";if(o==="y")return"mandatoryY";if(o==="x")return"mandatoryX"}},[o,j]),Y=n?qe:"div",de=a.useRef(null),He=nt(de,t),Z=a.useRef(null),Je=a.useRef(null),Qe=a.useRef(null),dt=a.useRef(null),Oe=a.useRef(null),Ie=a.useRef(null),re=un(),{componentRef:Te,scrollToRef:ge,scrollByRef:je}=zr(l)||{},{getContentCoordinatesWhenRestingOnLastDetent:ue,contentRef:ce}=a.useContext(vt)||{},bt=a.useMemo(()=>g===!1||g!=="auto",[g]),[Se,Me]=a.useState(!1),[Q,R]=a.useState(!1);Le(()=>{u&&(M=>{let me="data-silk-native-page-scroll-replaced",ae=document.documentElement.getAttribute(me);if(!u&&ae!=="true")return;let ee=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(M!==!0&&(M!=="auto"||(Ee==="android"||Ee==="ios"||Ee==="ipados")&&!ee)){var ie,ze;R(!1);let Ne=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(Ne),ae==="false")return;let yt=(ze=(ie=Z.current)===null||ie===void 0?void 0:ie.scrollTop)!==null&&ze!==void 0?ze:0;document.documentElement.setAttribute(me,"false"),ae==="true"&&window.scrollTo(0,yt)}else{R(!0),Z.current;let Ne=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(Ne),ae==="true")return;let yt=window.pageYOffset;if(document.documentElement.setAttribute(me,"true"),!Z.current)return;Z.current.scrollTop=yt}})(d)},[u,d]);let[xe,Pe]=a.useState(!0),[Ae,F]=a.useState(!0);Le(()=>{let M=Z.current,me=Je.current,ae=Qe.current,ee=dt.current,$=new ResizeObserver(()=>{M&&(o==="y"&&M.scrollHeight>M.clientHeight?Pe(!0):Pe(!1),o==="x"&&M.scrollWidth>M.clientWidth?F(!0):F(!1))});return M&&me&&ae&&ee&&($.observe(M,{box:"border-box"}),$.observe(me,{box:"border-box"}),$.observe(ae,{box:"border-box"}),$.observe(ee,{box:"border-box"})),()=>{$&&$.disconnect()}},[o,bt]);let[w,Ge]=a.useState(!1);Le(()=>{Ge(xe||Ae?!0:()=>!1)},[xe,Ae]);let[he,Tt]=a.useState(!1);a.useEffect(()=>{Tt(Cr())},[]);let fe=a.useRef(!1),Re=a.useRef(!1),K=U||te,[Dt,at]=a.useState(_),[In,mn]=a.useState(N);a.useEffect(()=>{let M;if(K){let me=Oe.current,ae=Ie.current;if(!me||!ae)return;(M=new IntersectionObserver(ee=>{for(let $ of ee)$.target===me?$.isIntersecting?(fe.current=!0,o==="x"?at(_):mn(N)):fe.current=!1:$.target===ae&&($.isIntersecting?(Re.current=!0,o==="x"?at(W):mn(I)):Re.current=!1),fe.current&&Re.current&&(o==="x"?at(!1):mn(!1))},{root:Z.current,rootMargin:"0px",threshold:[1]})).observe(me),M.observe(ae)}return()=>{M&&M.disconnect()}},[W,_,I,N,o,K]);let _t=a.useRef(!1),pn=a.useRef(),Kt=a.useRef(""),Lt=a.useRef(void 0);a.useEffect(()=>{let M=Z.current;if(!M)return;let me=ee=>{We.current=!1,Ct({nativeEvent:ee,defaultBehavior:{},handler:b});let $=document.activeElement;(Ee=="ios"||Ee=="ipados")&&$&&ln($)&&(Lt.current===void 0&&(Kt.current=$.style.getPropertyValue("opacity"),$.style.setProperty("opacity","0.9999","important")),clearTimeout(Lt.current),Lt.current=void 0,Lt.current=setTimeout(()=>{Kt.current===""?$.style.removeProperty("opacity"):$.style.setProperty("opacity",Kt.current),Lt.current=void 0},55))},ae=ee=>{if(!_t.current){let{dismissKeyboard:$}=Ct({nativeEvent:ee,defaultBehavior:{dismissKeyboard:!1},handler:v});$&&!_t.current&&!We.current&&xa()&&M.focus({preventScroll:!0})}clearTimeout(pn.current),pn.current=setTimeout(()=>{_t.current=!1,Me(!1),"onscrollend"in window||me(null)},90),_t.current=!0,Me(!0)};return M.addEventListener("scroll",ae),"onscrollend"in window&&M.addEventListener("scrollend",me),()=>{M.removeEventListener("scroll",ae),"onscrollend"in window&&M.removeEventListener("scrollend",me)}},[b,v]),a.useEffect(()=>(C&&X.addNativeFocusScrollPreventer(re),()=>{C&&X.removeNativeFocusScrollPreventer(re)}),[C,re]);let st=a.useMemo(()=>u&&!Q,[Q,u]),Fe=a.useMemo(()=>o==="y"?st?()=>window.scrollY:()=>{var M;return(M=Z.current)===null||M===void 0?void 0:M.scrollTop}:st?()=>window.scrollX:()=>{var M;return(M=Z.current)===null||M===void 0?void 0:M.scrollLeft},[o,st]),kt=a.useMemo(()=>o==="y"?st?()=>document.body.scrollHeight-window.innerHeight:()=>{let M=Z.current;return M?.scrollHeight-M?.offsetHeight}:st?()=>document.body.scrollWidth-window.innerWidth:()=>{let M=Z.current;return M?.scrollWidth-M?.offsetWidth},[o,st]),Jt=a.useCallback(()=>Fe()/kt(),[Fe,kt]),Qt=a.useCallback(M=>{k?.({progress:Jt(),distance:Fe(),availableDistance:kt(),nativeEvent:M})},[Jt,Fe,kt,k]);a.useEffect(()=>(st&&k&&document.addEventListener("scroll",Qt),()=>{st&&k&&document.removeEventListener("scroll",Qt)}),[st,k,Qt]);let we=a.useCallback((M,{progress:me,distance:ae,animationSettings:ee={skip:"default"}})=>{let $=ae??(me??NaN)*kt();if(isNaN($))return;let ie=ee?.skip,ze=st?window:Z.current;ze?.[M==="to"?"scrollTo":"scrollBy"]({[o==="y"?"top":"left"]:$,behavior:ie===!0?"instant":ie===!1?"smooth":ie==="default"?"auto":ps?"instant":"smooth"})},[o,kt,st]),fn=a.useCallback(M=>we("to",M),[we]),wt=a.useCallback(M=>we("by",M),[we]);a.useEffect(()=>{ge.current=fn,je.current=wt},[wt,je,fn,ge]),a.useImperativeHandle(Te,()=>({getProgress:Jt,getDistance:Fe,getAvailableDistance:kt,scrollTo:fn,scrollBy:wt}),[kt,Fe,Jt,fn,wt]);let Ft=a.useRef(!1),jn=a.useRef(),gn=a.useRef(),rt=a.useRef(0),Ut=a.useRef(0),We=a.useRef(!1),V=a.useCallback(({scrollIntoPlace:M=!0,scrollBehavior:me,safeViewport:ae="visual-viewport"})=>{let ee,$;if(!Z.current||!Je.current||!dt.current||!Qe.current||o!=="y"||ae==="none"||ce?.current&&ue().top===null||!ce?.current&&ue)return;if(ce?.current){let{top:it,bottom:tn}=Ka(Z.current),Ze=ce.current.getBoundingClientRect(),mt=Ze.top,q=Ze.bottom;ee=ue().top+(it-mt),$=ue().bottom-(q-tn)}else{let{top:it,bottom:tn}=Ka(Z.current);ee=it,$=tn}let{top:ie,bottom:ze}=cr(),Ne=Math.min($,ae==="visual-viewport"?ze:window.innerHeight),yt=go(ee,ae==="visual-viewport"?ie:0),St=ho($,ae==="visual-viewport"?ze:window.innerHeight);if(1>Math.abs(rt.current-yt)&&1>Math.abs(Ut.current-St))return;let Bt=-1*(Ne-dt.current.getBoundingClientRect().top),Zt=Z.current.offsetHeight-Je.current.offsetHeight>=0,en=()=>{ur(Qe.current,yt,rt),ur(dt.current,St,Ut)};if(me==="smooth"&&(Bt<0||Zt)?M&&(We.current=!0,Zt?Z.current.scrollTo({top:0,behavior:me}):Z.current.scrollBy({top:Bt,behavior:me}),Ut.current=St,fo(Z.current,()=>{Z.current&&Zt&&Z.current.scrollTo({top:0,behavior:"instant"}),en()})):en(),!M)return{spacersHeightSetter:en,verticalScrollOffsetRequired:Bt}},[o,ue,ce]),Ce=a.useCallback(()=>V({scrollBehavior:$a,safeViewport:f}),[f,V]);Le(()=>{Ce()},[Ce]),a.useEffect(()=>{let M=Z.current,me=$=>{clearTimeout(jn.current),clearTimeout(gn.current);let ie=$.target;if(ie===M)return;let{scrollIntoView:ze}=Ct({nativeEvent:$,defaultBehavior:{scrollIntoView:!0},handler:y});if(!ln(ie)||Qa(ie))return;let Ne=ie.getBoundingClientRect().top-0,yt=ie.getBoundingClientRect().bottom-0,{top:St,bottom:Bt}=Ka(Z.current),Zt=St-0,en=Bt-0,it=()=>{if(clearTimeout(jn.current),clearTimeout(gn.current),!xa())return;Ft.current=!0;let{top:tn,bottom:Ze}=cr(),{spacersHeightSetter:mt=()=>{}}=V({scrollIntoPlace:!1,scrollBehavior:"smooth",safeViewport:f})||{};mt(),ze&&vo({scrollContainer:Z.current,behavior:$a,scrollMarginTop:64,scrollMarginBottom:po,elementTop:Ne,elementBottom:yt,scrollPortTop:Zt,scrollPortBottom:en,visualViewportTop:tn,visualViewportBottom:Ze,beforeScrollCallback:()=>We.current=!0}),visualViewport.removeEventListener("resize",it)};Ft.current?(it(),visualViewport.addEventListener("resize",it),jn.current=setTimeout(()=>{visualViewport.removeEventListener("resize",it)},900)):(visualViewport.addEventListener("resize",it),gn.current=setTimeout(()=>{visualViewport.removeEventListener("resize",it),it()},900))},ae=$=>{let ie=$.target;!ln(ie)||Qa(ie)||ln($.relatedTarget)||(Ft.current=!1,V({scrollBehavior:$a,safeViewport:f==="none"?"none":"layout-viewport"}))},ee=()=>{var $;($=Z.current)===null||$===void 0||$.removeEventListener("scroll",Ce),setTimeout(()=>{Ce(),setTimeout(()=>{var ie;(ie=Z.current)===null||ie===void 0||ie.addEventListener("scroll",Ce,{once:!0})},200)},1),setTimeout(()=>Ce,350)};return M?.addEventListener("focus",me,{capture:!0}),M?.addEventListener("blur",ae,{capture:!0}),visualViewport.addEventListener("resize",ee),M?.addEventListener("scroll",Ce,{once:!0}),()=>{M?.removeEventListener("focus",me,{capture:!0}),M?.removeEventListener("blur",ae,{capture:!0}),visualViewport.removeEventListener("resize",ee),M?.removeEventListener("scroll",Ce)}},[y,f,V,Ce]);let ja=xr(Z),Et=a.useMemo(()=>u&&!Q,[Q,u]),lt=Ve("Scroll",{axis:o,scrollTrapX:Dt,scrollTrapY:!he&&In||ja&&!Et,scrollGestureOvershoot:p,scrollDisabled:bt,pageScroll:u,nativePageScrollReplacement:d,overflowX:Ae,overflowY:xe,skipScrollAnimation:A?.skip,scrollAnchoring:E,scrollSnapType:J,nativeScrollbar:B,scrollOngoing:Se});return c.jsxs(Ia.Provider,{value:{contentRef:Je,axis:o,styleAttributes:lt,nativeFocusScrollPrevention:C,swipeTrapIncapable:Et,focusable:w,pageScroll:u,nativePageScrollReplacement:d,scrollContainerRef:Z,swipeTrapObserverRequired:K,startScrollSpyRef:Oe,endScrollSpyRef:Ie,startSpacerRef:Qe,endSpacerRef:dt,scrollHandler:Qt,scrollPadding:G,scrollTimelineName:O},children:[u&&d!==!0&&c.jsx("style",{dangerouslySetInnerHTML:{__html:`
                            html[data-silk-native-page-scroll-replaced="false"] > body {
                                scroll-padding: ${G};
                                scroll-timeline-axis: ${O} ${o};
                            }
                        `}}),u&&d===!0&&c.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-true",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "true");
                        `}}),u&&d===!1&&c.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-false",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "false");
                        `}}),u&&d==="auto"&&c.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-auto",dangerouslySetInnerHTML:{__html:`
                            const standalone =
                                window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
                            const mobile = window.navigator.userAgent?.match(/android|iPhone|iPad/i);

                            document.documentElement.setAttribute("data-standalone", !!standalone);
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", !(mobile && !standalone));
                        `}}),c.jsx(Yr,{}),c.jsx(Y,{...lt("view",["axis","pageScroll","skipScrollAnimation","scrollOngoing"],{className:r,dataSilk:[i]}),...P,ref:He,children:s})]})});ko.displayName="Scroll.View";let ss=oe.forwardRef(({side:e,...t},n)=>{let{axis:s}=a.useContext(Ia)||{},r=Ve("Scroll",{side:e,axis:s});return c.jsx("div",{...r("spy",["side","axis"]),ref:n,...t})});ss.displayName="Scroll.Anonymous";let yo=oe.forwardRef((e,t)=>{let{asChild:n,className:s,"data-silk":r,...i}=e,l=n?qe:"div",{contentRef:o,styleAttributes:u,nativeFocusScrollPrevention:d,swipeTrapIncapable:f,focusable:m,axis:p,pageScroll:g,nativePageScrollReplacement:v,scrollContainerRef:k,swipeTrapObserverRequired:b,startScrollSpyRef:y,endScrollSpyRef:C,startSpacerRef:A,endSpacerRef:E,scrollHandler:j,scrollPadding:G,scrollTimelineName:O}=a.useContext(Ia)||{},B=nt(o,t);return c.jsxs("div",{...u("scrollContainer",["axis","pageScroll","scrollTrapX","scrollTrapY","scrollGestureOvershoot","scrollDisabled","overflowX","overflowY","skipScrollAnimation","scrollAnchoring","scrollSnapType","nativeScrollbar"],{dataSilk:[r,"0ad",d&&"0ah",f&&"0ai"]}),style:{scrollPadding:G,scrollTimeline:O+" "+p},tabIndex:m?0:d?-1:void 0,role:g&&!v?void 0:"region",onScroll:j,ref:k,children:[b&&c.jsx(ss,{side:"start",ref:y}),p==="y"&&c.jsx("div",{ref:A,...u("startSpacer",["axis","pageScroll"])}),c.jsx(l,{...u("content",["axis","scrollTrapX","scrollTrapY","overflowX","overflowY"],{className:s,dataSilk:[r]}),...i,ref:B}),p==="y"&&c.jsx("div",{ref:E,...u("endSpacer",["axis","pageScroll"])}),b&&c.jsx(ss,{side:"end",ref:C})]})});yo.displayName="Scroll.Content";let So=oe.forwardRef(({asChild:e,...t},n)=>{let s=e?qe:"button",{forComponent:r,onPress:i,onClick:l,children:o,action:u,...d}=t,{type:f,...m}=u||{},{scrollTo:p,scrollBy:g}=zr(r),v=a.useRef(null),k=nt(v,n);return c.jsx(s,{onClick:b=>{var y;let{forceFocus:C,runAction:A}=Ct({nativeEvent:b,defaultBehavior:{forceFocus:!0,runAction:!0},handler:i});if(C&&((y=v.current)===null||y===void 0||y.focus({preventScroll:!0})),A){if(f==="scroll-to")return p(m);if(f==="scroll-by")return g(m)}l?.(b)},ref:k,...d,children:o})});So.displayName="Sheet.Trigger";let xo=e=>a.useContext(e??$t)||{},Co=oe.forwardRef((e,t)=>{let{asChild:n,className:s,"data-silk":r,timing:i,forComponent:l,tabIndex:o,...u}=e,d=n?qe:"div",{sheetId:f}=l?xo(l):{},m=f??"any",p=a.useCallback(A=>{X.addAutoFocusTarget({layerId:m,element:A,timing:i})},[m,i]),g=a.useCallback(A=>{X.removeAutoFocusTarget(A)},[]),v=a.useRef(null),k=a.useCallback(A=>{A?p(A):g(v.current),v.current=A},[p,g]),b=a.useRef(!0);a.useEffect(()=>(v.current&&!b.current&&p(v.current),b.current=!1,()=>{v.current&&g(v.current)}),[p,g]);let y=nt(k,t),C=Ve("AutoFocusTarget",{});return c.jsx(d,{...C("root",[],{className:s,dataSilk:[r]}),...n||Number.isInteger(o)?{}:{tabIndex:-1},...u,ref:y})});Co.displayName="AutoFocusTarget.Root";let To=oe.forwardRef((e,t)=>{let{asChild:n,disabled:s=!1,children:r,contentGetter:i,forComponent:l,...o}=e,u=a.useRef(null),d=nt(u,t),f=a.useMemo(()=>!!r,[r]);return a.useEffect(()=>{let m,p;if(!s){let g,v=!1;if(f&&u.current?g=u.current:i&&(g=Sa(i))&&(v=!0),g){let k=Array.isArray(l)?l:l?[l]:[];m=X.addIsland({componentId:k,element:g}),v&&(p=new MutationObserver(()=>{Sa(i)||(X.removeIsland(m),p.disconnect())})).observe(g.parentElement,{childList:!0})}}return()=>{s||(X.removeIsland(m),p?.disconnect())}},[t,s,f,i,l]),r?c.jsx(Nt.Root,{active:!s,asChild:n,"data-silk":"0ag",...o,ref:d,children:r}):null});To.displayName="Island.Root";let wo=oe.forwardRef((e,t)=>{let{asChild:n,children:s,...r}=e;return c.jsx(Nt.Stabiliser,{asChild:n,...r,ref:t,children:s})});wo.displayName="Island.Content";let Eo=oe.forwardRef(({asChild:e,children:t,contentGetter:n,disabled:s=!1,selfManagedInertOutside:r=!0,...i},l)=>{let o=un(),u=a.useRef(null),d=nt(u,l),f=e?qe:"div",m=a.useMemo(()=>!!t,[t]);return Le(()=>{let p;if(!s&&o){let g,v=!1;m&&u.current?g=u.current:n&&(g=Sa(n))&&(v=!0),g&&(X.updateLayer({external:!0,layerId:o,viewElement:g,inertOutside:r,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},defaultClickOutsideAction:()=>{},defaultEscapeKeyDownAction:()=>{}}),v&&(p=new MutationObserver(()=>{Sa(n)||(X.removeLayer(o),p.disconnect())})).observe(g.parentElement,{childList:!0}))}return()=>{!s&&o&&(X.removeLayer(o),p?.disconnect())}},[m,n,s,o,r]),c.jsx(f,{ref:d,...i,children:t})});Eo.displayName="ExternalOverlay.Root";const Ao=({children:e,ref:t,...n})=>c.jsx(Jn.Root,{license:"commercial",sheetRole:"dialog",...n,ref:t,children:e}),Ro=({children:e,ref:t,className:n,contentPlacement:s="left",...r})=>c.jsx(Jn.View,{className:rs("z-1",n),contentPlacement:s,swipeOvershoot:!1,nativeEdgeSwipePrevention:!0,...r,ref:t,children:e}),Oo=({className:e,ref:t,...n})=>c.jsx(Jn.Backdrop,{className:e,...n,ref:t}),Mo=({children:e,ref:t,className:n,...s})=>c.jsx(Jn.Content,{className:rs("bg-token-bg-primary box-border shadow-lg",n),...s,ref:t,children:e}),Po=Jn.Portal,qn={Root:Ao,Portal:Po,View:Ro,Backdrop:Oo,Content:Mo},No=({workspaceId:e,userId:t})=>wa({queryKey:[e,t,"user-roles"],queryFn:async()=>(await It.safeGet("/rbac/workspace/{workspace_id}/principals/{principal_id}/roles",{parameters:{query:{account_id:e},path:{workspace_id:e,principal_id:t}}})).roles}),Io=({workspaceId:e,userId:t,enabled:n})=>wa({enabled:n,queryKey:[e,t,"user-groups"],queryFn:async()=>(await It.safeGet("/accounts/{account_id}/users/{account_user_id}/groups",{parameters:{path:{account_id:e,account_user_id:t}}})).items}),jo=({workspaceId:e,user:t,onClose:n})=>{const s=Ke(),r=ls(),i=fr(),l=dr(),o=r?.isEnterprisey(),{data:u}=No({workspaceId:e,userId:t.id}),d=a.useMemo(()=>u?.filter(m=>!m.predefined_role),[u]),{data:f}=Io({workspaceId:e,userId:t.account_user_id,enabled:o});return c.jsx(qn.Root,{presented:!0,defaultPresented:!0,onPresentedChange:n,children:c.jsx(qn.Portal,{children:c.jsxs(qn.View,{contentPlacement:"right",children:[c.jsx(qn.Backdrop,{}),c.jsxs(qn.Content,{style:{maxWidth:500},children:[c.jsxs("h1",{className:"flex items-center justify-between p-4",children:[c.jsx("div",{}),c.jsx(bl,{onClick:n,iconSize:"lg",autoFocus:!0})]}),c.jsxs("div",{className:"flex flex-col gap-3 px-10 pt-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[c.jsx(gr,{user:{name:t.name??"",picture:null},size:"large"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-heading-3",children:t.name}),c.jsx("div",{children:t.email})]})]}),c.jsx("hr",{className:"my-2.5"}),o&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("div",{className:"text-caption-regular",children:s.formatMessage(ga.groups)}),f==null&&c.jsx(Ja,{}),f?.length===0&&c.jsx("div",{className:"text-token-text-tertiary text-sm italic",children:s.formatMessage(ga.noGroups)}),f?.map(m=>c.jsx(qs,{className:"mx-0",as:"button",onClick:()=>i(`/admin/groups/${m.id}`),children:c.jsx("div",{className:"flex items-center justify-between gap-2 text-start",children:c.jsxs("div",{className:"flex flex-row items-center gap-3",children:[c.jsx("div",{children:c.jsx(ql,{group:m})}),c.jsx("div",{children:m.name})]})})},m.id))]}),c.jsx("hr",{className:"my-2.5"})]}),l&&c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("div",{className:"text-caption-regular",children:s.formatMessage(ga.customRoles)}),d==null&&c.jsx(Ja,{}),d?.length===0&&c.jsx("div",{className:"text-token-text-tertiary text-sm italic",children:s.formatMessage(ga.noCustomRoles)}),d?.map(m=>c.jsx(qs,{className:"mx-0",as:"button",onClick:()=>i(`/admin/permissions/roles/${m.id}`),children:c.jsx("div",{className:"flex items-center justify-between gap-2 text-start",children:c.jsxs("div",{className:"flex flex-row items-center gap-3",children:[c.jsx("div",{children:m.predefined_role?c.jsx(Nl,{className:"icon"}):c.jsx(kl,{className:"icon"})}),c.jsxs("div",{children:[c.jsx("div",{children:m.name}),c.jsx("div",{className:"text-token-text-tertiary text-sm",children:m.description})]})]})})},m.id))]})]})]})]})})})},ga=jt({removeUser:{id:"M6UqGh",defaultMessage:"Remove user"},customRoles:{id:"tt2Vcr",defaultMessage:"Custom roles"},noCustomRoles:{id:"esz0bm",defaultMessage:"No custom roles assigned"},groups:{id:"zWtMsq",defaultMessage:"Groups"},noGroups:{id:"VRtXNY",defaultMessage:"No groups assigned"}});function vs({currentRole:e,onUpdateUserRole:t,disabled:n=!1}){const s=Aa();return c.jsx(Il,{disabled:n,defaultValue:e,onValueChange:r=>{t(r)},triggerClassName:"text-base",options:[{label:s[wn.STANDARD],value:wn.STANDARD},{label:s[wn.ADMIN],value:wn.ADMIN},{label:s[wn.OWNER],value:wn.OWNER}]})}const Yn=yl(()=>({confirmModalUserData:null})),Ta={openModalForUser:e=>{Yn.setState({confirmModalUserData:e})},closeModal:()=>{Yn.setState({confirmModalUserData:null})}};function Do({workspaceId:e,filterInputValue:t}){const[n,s]=a.useState(0),r=jl(),[i,l]=a.useState(),o=dr(),u=r?.id,d=is(e),f=os(e),m=d||f,p=Uo(),g=Bo(e),{data:v}=Dl(e,n*Gs,t),k=a.useCallback(E=>{Ta.openModalForUser(E)},[]),b=a.useCallback(()=>{const E=Yn.getState().confirmModalUserData?.id;E!==void 0&&g.mutate({userId:E}),Ta.closeModal(),l(void 0)},[g]),y=a.useCallback((E,j)=>{p.mutate({userId:E,value:j,workspaceId:e})},[p,e]);if(v===void 0)return c.jsx(bs,{});const C=v.items,A=Math.ceil((v.total??0)/Gs);return n>=A&&A!==0&&s(Math.max(A-1,0)),c.jsxs(c.Fragment,{children:[c.jsxs(ne.Root,{fixed:!0,size:"normal",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[60%]"}),c.jsx("col",{className:"w-[20%]"}),c.jsx("col",{className:"w-[20%]"}),m&&c.jsx("col",{className:"w-16"})]}),c.jsxs(ne.Header,{children:[c.jsx(ne.HeaderCell,{children:c.jsx(_e,{...ht.name})}),c.jsx(ne.HeaderCell,{children:c.jsx("span",{className:d?"ps-3":"",children:c.jsx(_e,{...ht.accountType})})}),c.jsx(ne.HeaderCell,{children:c.jsx(_e,{...ht.dateAdded})}),m&&c.jsx(ne.HeaderCell,{className:"w-16"})]}),c.jsxs(ne.Body,{children:[C.map(E=>c.jsx(Lo,{isCurrentUser:u!==void 0&&E.id===u,user:E,currentUserHasAdminRights:m,isCurrentUserOwner:d,onRemoveUserClick:()=>k({id:E.id,name:E.name??"",email:E.email??"",created_time:E.created_time}),onUpdateUserRole:y,onClick:o?j=>l(j):void 0},E.id)),C.length===0&&c.jsx(ne.Row,{className:"[&>td]:py-2",children:c.jsx(ne.Cell,{children:c.jsx("div",{className:"text-token-text-tertiary",children:c.jsx(_e,{...ht.noResults})})})})]})]}),c.jsx("div",{className:"relative mt-4 mb-8 min-h-[20px]",children:A>1&&c.jsx("div",{className:"absolute start-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 justify-center",children:c.jsx(cs,{currentPage:n,onChangeIndex:s,length:A})})}),i&&c.jsx(jo,{workspaceId:e,user:i,onClose:()=>l(void 0)}),c.jsx(_o,{onDeleteConfirm:b})]})}function _o({onDeleteConfirm:e}){const t=Ke(),n=Yn(r=>r.confirmModalUserData!==null),s=Yn(r=>r.confirmModalUserData===null?{}:{userId:r.confirmModalUserData.id,email:r.confirmModalUserData.email,name:r.confirmModalUserData.name,dateAdded:Sl(r.confirmModalUserData.created_time)});return c.jsx(xl,{testId:"modal-remove-member",isOpen:n,title:t.formatMessage(ht.removeMemberModalTitle),onClose:()=>Ta.closeModal(),type:"success",primaryButton:c.jsx(Hs.Button,{title:t.formatMessage(ht.removeMemberModalConfirm),color:"danger",onClick:e}),secondaryButton:c.jsx(Hs.Button,{title:t.formatMessage(ht.removeMemberModalCancel),color:"secondary",onClick:()=>Ta.closeModal()}),children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.name??s.email,c.jsx("div",{className:"text-token-text-tertiary",children:c.jsx(_e,{...ht.dateJoined,values:{dateAdded:t.formatDate(s.dateAdded,{year:"numeric",month:"long",day:"numeric"})}})})]})})}function Lo({user:e,currentUserHasAdminRights:t,isCurrentUserOwner:n,isCurrentUser:s,onRemoveUserClick:r,onUpdateUserRole:i,onClick:l}){const u=Aa()[e.role],d=Ke(),f=e.name??d.formatMessage(ht.missingName);return c.jsxs(ne.Row,{className:rs("[&>td]:py-2"),onClick:l?()=>l?.(e):void 0,children:[c.jsxs(ne.Cell,{children:[c.jsx("div",{className:"relative pe-3",children:c.jsx(ms,{userName:f,isScimManaged:e.is_scim_managed})}),c.jsxs("div",{children:[c.jsxs("div",{children:[f,s&&c.jsx("span",{className:"ms-1",children:c.jsx(_e,{...ht.youSpecifier})})]}),c.jsx("div",{className:"text-body-small-regular text-token-text-secondary",children:e.email})]})]}),c.jsx(ne.Cell,{children:n?c.jsx(vs,{currentRole:e.role,onUpdateUserRole:m=>{i(e.id,m)},disabled:s}):u}),c.jsx(ne.Cell,{children:d.formatDate(e.created_time,{month:"short",day:"numeric",year:"numeric"})}),t&&c.jsx(ne.Cell,{children:c.jsx(Fo,{userId:e.id,onRemoveUserClick:r,disabled:s,isScimManaged:e.is_scim_managed})})]})}function Fo({disabled:e,onRemoveUserClick:t,userId:n,isScimManaged:s}){const r=Ke();return e?null:s?c.jsx(Xe.Root,{children:c.jsx(Xe.Trigger,{disabled:!0,children:c.jsx(mr,{label:r.formatMessage(hr.managedViaSCIMTooltip),className:"flex",side:"right",children:c.jsx(zn,{className:"icon-sm"})})})}):c.jsxs(Xe.Root,{children:[c.jsx(Xe.Trigger,{className:"-my-2",children:c.jsx(zn,{className:"icon-sm"})}),c.jsx(Xe.Portal,{children:c.jsx(Xe.Content,{size:"small",children:c.jsx(Xe.Item,{onClick:()=>{t(n)},icon:c.jsx(_l,{className:"text-token-text-status-error"}),className:"text-token-text-status-error",children:c.jsx(_e,{...ht.removeMemberModalTitle})})})})]})}function Uo(){const e=Xn();return $n({mutationFn:({userId:t,workspaceId:n,value:s})=>It.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:n,user_id:t}},requestBody:{role:s}}).catch(r=>{e.danger(`Unable to update user (${t}) role: ${r.message}`,{toastId:"user_manager_table"})})})}function Bo(e){const t=Ea(),n=Xn();return $n({mutationFn:({userId:s})=>It.safeDelete("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:e,user_id:s}}}).catch(r=>{n.danger(`Unable to remove user (${s}) from workspace: ${r.message}`,{toastId:"user_manager_table"})}),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace",e]})}})}function bs(){return c.jsx("div",{className:"flex w-full items-center justify-center",children:c.jsx(Ja,{})})}const ht=jt({name:{id:"UserManager.name",defaultMessage:"Name"},email:{id:"UserManager.email",defaultMessage:"Email"},accountType:{id:"UserManager.accountType",defaultMessage:"Account type"},dateAdded:{id:"UserManager.dateAdded",defaultMessage:"Date added"},role:{id:"UserManager.role",defaultMessage:"Role"},missingName:{id:"UserManager.missingName",defaultMessage:"No name provided"},youSpecifier:{id:"UserManager.youSpecifier",defaultMessage:"(You)"},removeUser:{id:"UserManager.removeUser",defaultMessage:"Remove user from workspace"},removeMemberModalTitle:{id:"UserManager.removeMemberModalTitle",defaultMessage:"Remove member"},removeMemberModalConfirm:{id:"UserManager.removeMemberModalConfirm",defaultMessage:"Delete"},removeMemberModalCancel:{id:"UserManager.removeMemberModalCancel",defaultMessage:"Cancel"},dateJoined:{id:"UserManager.dateJoined",defaultMessage:"Joined workspace on {dateAdded}"},inviteMemberButton:{id:"UserManager.inviteMemberButton",defaultMessage:"Invite member"},noResults:{id:"UserManager.noResults",defaultMessage:"No results"},leaveWorkspace:{id:"adminPage.leaveWorkspace",defaultMessage:"Leave workspace"}});function Wo({workspaceId:e,filterInputValue:t}){const[n,s]=a.useState(0),{data:r}=Kl(e,n*Pn,t),i=is(e),l=os(e),o=Ke(),u=i||l;if(r===void 0)return c.jsx(bs,{});const d=r.items,f=Math.ceil((r.total??0)/Pn);return n>=f&&f!==0&&s(Math.max(f-1,0)),c.jsxs("div",{children:[c.jsxs(ne.Root,{fixed:!0,size:"normal",children:[c.jsxs(ne.Header,{children:[c.jsx(ne.HeaderCell,{className:"bg-token-main-surface-primary",children:c.jsx(_e,{...Rn.email})}),c.jsx(ne.HeaderCell,{className:"bg-token-main-surface-primary w-28",children:c.jsx("span",{className:u?"ps-3":"",children:c.jsx(_e,{...Rn.role})})}),u&&c.jsx(ne.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:o.formatMessage(Rn.actions)})]}),c.jsxs(ne.Body,{children:[d.map(m=>c.jsx(Vo,{workspaceId:e,invite:m,isCurrentUserOwner:i,currentUserHasAdminRights:u},m.id)),d.length===0&&c.jsx(ne.Row,{children:c.jsx(ne.Cell,{children:c.jsx("div",{className:"text-token-text-tertiary",children:c.jsx(_e,{...Rn.noResults})})})})]})]}),f>1&&c.jsx("div",{className:"mt-2 flex justify-center",children:c.jsx(cs,{currentPage:n,onChangeIndex:s,length:f})})]})}function Vo({workspaceId:e,invite:t,isCurrentUserOwner:n,currentUserHasAdminRights:s}){const r=Aa(),i=vr(e),l=br(e),o=Ke();return c.jsxs(ne.Row,{className:"[&>td]:py-2",disabled:i.isPending||l.isPending||l.isPending,children:[c.jsx(ne.Cell,{children:c.jsxs("span",{className:"flex grow",children:[c.jsx(ms,{userName:t.email_address??"",isScimManaged:t.is_scim_managed,dotted:!0}),c.jsx("span",{children:t.email_address})]})}),c.jsx(ne.Cell,{children:n?c.jsx(vs,{currentRole:t.role,onUpdateUserRole:u=>{i.mutate({inviteId:t.id,role:u})}}):r[t.role]}),s&&c.jsx(c.Fragment,{children:c.jsx(ne.Cell,{children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ya,{onClick:()=>i.mutate({inviteId:t.id,acceptRequest:!0}),children:o.formatMessage(Rn.accept)}),c.jsx(ya,{color:"secondary",onClick:()=>l.mutate({email:t.email_address??""}),children:o.formatMessage(Rn.reject)})]})})})]})}const Rn=jt({email:{id:"RequestInviteManager.email",defaultMessage:"Email"},role:{id:"RequestInviteManager.role",defaultMessage:"Role"},actions:{id:"RequestInviteManager.actions",defaultMessage:"Actions"},accept:{id:"RequestInviteManager.accept",defaultMessage:"Accept"},reject:{id:"RequestInviteManager.reject",defaultMessage:"Reject"},noResults:{id:"RequestInviteManager.noResults",defaultMessage:"No results"}}),qo=({workspaceId:e})=>{const t=Ke(),[n,s]=a.useState(""),[r,i]=a.useState(""),l=a.useMemo(()=>us(o=>i(o),300,{leading:!1,trailing:!0}),[]);return c.jsxs("div",{className:"mt-6",children:[c.jsx(ds,{value:n,onChange:o=>{s(o.target.value),l(o.target.value)},placeholder:t.formatMessage(Ho.searchRequestPlaceholder),className:"mb-4.5",inputClassName:"rounded-full! text-sm"}),c.jsx(Wo,{workspaceId:e,filterInputValue:r})]})},Ho=jt({pendingRequests:{id:"admin.workspace.members.pendingRequests",defaultMessage:"Pending Requests"},searchRequestPlaceholder:{id:"admin.workspace.members.searchRequestPlaceholder",defaultMessage:"Search for requests"}});function Go({workspaceId:e,filterInputValue:t}){const[n,s]=a.useState(0),r=is(e),i=os(e),l=r||i,{data:o}=$l(e,n*Pn,t);if(o===void 0)return c.jsx(bs,{});const u=o.items,d=Math.ceil((o.total??0)/Pn);return n>=d&&d!==0&&s(Math.max(d-1,0)),c.jsxs("div",{children:[c.jsxs(ne.Root,{fixed:!0,size:"normal",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[60%]"}),c.jsx("col",{className:"w-[20%]"}),c.jsx("col",{className:"w-[20%]"}),l&&c.jsx("col",{className:"w-16"})]}),c.jsxs(ne.Header,{children:[c.jsx(ne.HeaderCell,{className:"bg-token-bg-primary",children:c.jsx(_e,{...On.email})}),c.jsx(ne.HeaderCell,{className:"bg-token-bg-primary",children:c.jsx(_e,{...On.invitedDate})}),c.jsx(ne.HeaderCell,{className:"bg-token-bg-primary w-28",children:c.jsx("span",{className:l?"ps-3":"",children:c.jsx(_e,{...On.role})})}),l&&c.jsx(ne.HeaderCell,{className:"bg-token-bg-primary w-16"})]}),c.jsxs(ne.Body,{children:[u.map(f=>c.jsx(zo,{workspaceId:e,invite:f,isCurrentUserOwner:r,currentUserHasAdminRights:l},f.id)),u.length===0&&c.jsx(ne.Row,{children:c.jsx(ne.Cell,{children:c.jsx("div",{className:"text-token-text-tertiary",children:c.jsx(_e,{...On.noResults})})})})]})]}),d>1&&c.jsx("div",{className:"mt-2 flex justify-center",children:c.jsx(cs,{currentPage:n,onChangeIndex:s,length:d})})]})}function zo({workspaceId:e,invite:t,isCurrentUserOwner:n,currentUserHasAdminRights:s}){const r=Ke(),i=Aa(),l=vr(e),o=br(e),u=Jl(e);return c.jsxs(ne.Row,{className:"[&>td]:py-2",disabled:l.isPending||o.isPending||o.isSuccess||u.isPending,children:[c.jsx(ne.Cell,{children:c.jsxs("span",{className:"flex grow",children:[c.jsx(ms,{userName:t.email_address??"",isScimManaged:t.is_scim_managed,dotted:!0}),c.jsx("span",{children:t.email_address})]})}),c.jsx(ne.Cell,{children:r.formatDate(t.created_time,{month:"short",day:"numeric",year:"numeric"})}),c.jsx(ne.Cell,{children:n?c.jsx(vs,{currentRole:t.role,onUpdateUserRole:d=>{l.mutate({inviteId:t.id,role:d})}}):i[t.role]}),s&&c.jsx(c.Fragment,{children:c.jsx(ne.Cell,{children:c.jsx(Yo,{onDeleteUser:()=>{o.mutate({email:t.email_address??""})},onResendInvite:()=>{u.mutate({email:t.email_address??"",role:t.role??""})},disabled:t.is_scim_managed})})})]})}function Yo({onDeleteUser:e,onResendInvite:t,disabled:n}){const s=Ke();return c.jsx(c.Fragment,{children:n?c.jsx(Xe.Root,{children:c.jsx(Xe.Trigger,{disabled:!0,children:c.jsx(mr,{label:s.formatMessage(hr.managedViaSCIMTooltip),className:"flex",side:"right",children:c.jsx(zn,{className:"icon-sm"})})})}):c.jsxs(Xe.Root,{children:[c.jsx(Xe.Trigger,{children:c.jsx(zn,{className:"icon-sm"})}),c.jsx(Xe.Portal,{children:c.jsxs(Xe.Content,{children:[c.jsx(Xe.Item,{onClick:t,children:c.jsx(_e,{...On.resendInvite})}),c.jsx(Xe.Item,{onClick:e,children:c.jsx(_e,{...On.revokeInvite})})]})})]})})}const On=jt({email:{id:"InviteManager.email",defaultMessage:"Email"},role:{id:"InviteManager.role",defaultMessage:"Role"},invitedDate:{id:"InviteManager.invitedDate",defaultMessage:"Date invited"},resendInvite:{id:"InviteManager.resendInvite",defaultMessage:"Resend invite"},revokeInvite:{id:"InviteManager.revokeInvite",defaultMessage:"Revoke invite"},noResults:{id:"InviteManager.noResults",defaultMessage:"No results"}}),Xo=({workspaceId:e})=>{const t=Ke(),[n,s]=a.useState(""),[r,i]=a.useState(""),l=a.useMemo(()=>us(o=>i(o),300,{leading:!1,trailing:!0}),[]);return c.jsxs("div",{className:"mt-6",children:[c.jsx(ds,{value:n,onChange:o=>{s(o.target.value),l(o.target.value)},placeholder:t.formatMessage($o.searchInvitesPlaceholder),className:"mb-4.5",inputClassName:"rounded-full! text-sm"}),c.jsx(Go,{workspaceId:e,filterInputValue:r})]})},$o=jt({searchInvitesPlaceholder:{id:"admin.workspace.members.searchInvitesPlaceholder",defaultMessage:"Search for invites"}}),Ko=Cl(()=>Tl(()=>import("./ji7hrklqfjcia1xv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])));function Jo({workspaceId:e}){const t=Ke(),n=ls(),[s,r]=a.useState(""),[i,l]=a.useState(""),o=a.useMemo(()=>us(p=>l(p),300,{leading:!1,trailing:!0}),[]),u=wl();if(!n)return null;const d=n?.isTeam(),f=n.isAdminOfAccount(),m=n.isOwnerOfAccount();return c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"mb-4.5 flex items-center justify-between",children:[c.jsx(ds,{value:s,onChange:p=>{r(p.target.value),o(p.target.value)},placeholder:t.formatMessage(ha.searchMembersPlaceholder),inputClassName:"rounded-full! text-sm"}),c.jsxs("div",{className:"flex items-center gap-2",children:[(f||m||d)&&c.jsx(ya,{onClick:()=>{El.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"workspace-admin-click",text:"InviteMember",step:"OpenModal"}),Al(u,({onClose:p})=>c.jsx(Ko,{workspace:n,onClose:p}))},icon:Ll,children:c.jsx(_e,{...ha.inviteMemberButton})}),d?c.jsx(Rl,{triggerButton:c.jsx(ya,{color:"secondary",icon:zn}),children:c.jsx(Xe.Item,{onClick:()=>{n&&Fl.setLeaveWorkspaceData(n)},children:c.jsx(_e,{...ha.leaveWorkspace})})}):null]})]}),c.jsx(Do,{workspaceId:e,filterInputValue:i}),c.jsx("p",{className:"text-token-text-secondary mt-4 text-sm",children:c.jsx(_e,{...ha.memberListUpdateDelayNote})})]})}const ha=jt({inviteMemberButton:{id:"InviteManager.inviteMemberButton",defaultMessage:"Invite member"},leaveWorkspace:{id:"WorkspaceMembers.leaveWorkspace",defaultMessage:"Leave workspace"},searchMembersPlaceholder:{id:"WorkspaceMembers.searchMembersPlaceholder",defaultMessage:"Filter by name"},memberListUpdateDelayNote:{id:"adminPage.memberListUpdateDelayNote",defaultMessage:"Note: Although new workspace members can access ChatGPT immediately, it may take up to 24 hours to show them in this list."}}),Qo=e=>e==="members"||e==="invites"||e==="requests";function Zo({currentWorkspaceId:e}){const t=Ke(),n=ls(),s=Ul(e)??"?",r=Bl(n),l=(Wl()?.length??0)>0,u=!n?.isTeam()&&l,d=a.useMemo(()=>{const b=[{key:"members",label:t.formatMessage(En.allMembers),children:c.jsx(Jo,{workspaceId:e})},{key:"invites",label:t.formatMessage(En.pendingInvites),children:c.jsx(Xo,{workspaceId:e})}];return u?[...b,{key:"requests",label:t.formatMessage(En.pendingRequests),children:c.jsx(qo,{workspaceId:e})}]:b},[e,t,u]),f=fr(),[m]=Ml(),p=m.get("tab"),[g,v]=a.useState(p&&Qo(p)?p:d[0].key),k=b=>{v(b),f({pathname:window.location.pathname,search:new URLSearchParams({tab:b}).toString()})};return n?c.jsxs(c.Fragment,{children:[c.jsx(Vl,{children:c.jsx("title",{children:t.formatMessage(En.adminBrowserPageTitle)})}),c.jsx(zl,{title:t.formatMessage(En.adminPageTitle),subtitle:c.jsx(_e,{values:{totalMembers:s,planName:r},...En.totalMembers}),tabsHeader:c.jsx(Hl,{items:d,activeTab:g,onTabChange:k})}),c.jsx(Yl,{children:c.jsx(Gl,{items:d,activeTab:g})})]}):null}const En=jt({adminBrowserPageTitle:{id:"adminPage.adminBrowserPageTitle",defaultMessage:"ChatGPT - Admin | Members"},adminPageTitle:{id:"adminPage.adminPageTitle.0",defaultMessage:"Members"},workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found"},totalMembers:{id:"adminPage.totalMembers",defaultMessage:"{planName} · {totalMembers} {totalMembers, plural, one {member} other {members}}"},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat"},allMembers:{id:"adminPage.allMembers",defaultMessage:"Users"},pendingInvites:{id:"adminPage.pendingInvites",defaultMessage:"Pending invites"},pendingRequests:{id:"adminPage.pendingRequests",defaultMessage:"Pending requests"}}),wc=Ol(function(){const t=Xl();return c.jsx(Zo,{...t})});export{wc as default};
//# sourceMappingURL=nnwd8rikfqtiiqqh.js.map
